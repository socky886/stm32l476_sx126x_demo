ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 1


   1              		.cpu cortex-m4
   2              		.eabi_attribute 27, 1
   3              		.eabi_attribute 28, 1
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"stm32l4xx_hal_spi.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.text.SPI_WaitFlagStateUntilTimeout,"ax",%progbits
  18              		.align	1
  19              		.arch armv7e-m
  20              		.syntax unified
  21              		.thumb
  22              		.thumb_func
  23              		.fpu fpv4-sp-d16
  25              	SPI_WaitFlagStateUntilTimeout:
  26              	.LVL0:
  27              	.LFB179:
  28              		.file 1 "Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c"
   1:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** /**
   2:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   ******************************************************************************
   3:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @file    stm32l4xx_hal_spi.c
   4:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @author  MCD Application Team
   5:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @brief   SPI HAL module driver.
   6:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   *          This file provides firmware functions to manage the following
   7:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   *          functionalities of the Serial Peripheral Interface (SPI) peripheral:
   8:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   *           + Initialization and de-initialization functions
   9:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   *           + IO operation functions
  10:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   *           + Peripheral Control functions
  11:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   *           + Peripheral State functions
  12:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   *
  13:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   @verbatim
  14:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   ==============================================================================
  15:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****                         ##### How to use this driver #####
  16:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   ==============================================================================
  17:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     [..]
  18:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       The SPI HAL driver can be used as follows:
  19:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
  20:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       (#) Declare a SPI_HandleTypeDef handle structure, for example:
  21:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           SPI_HandleTypeDef  hspi;
  22:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
  23:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       (#)Initialize the SPI low level resources by implementing the HAL_SPI_MspInit() API:
  24:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           (##) Enable the SPIx interface clock
  25:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           (##) SPI pins configuration
  26:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****               (+++) Enable the clock for the SPI GPIOs
  27:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****               (+++) Configure these SPI pins as alternate function push-pull
  28:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           (##) NVIC configuration if you need to use interrupt process
  29:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****               (+++) Configure the SPIx interrupt priority
  30:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****               (+++) Enable the NVIC SPI IRQ handle
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 2


  31:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           (##) DMA Configuration if you need to use DMA process
  32:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****               (+++) Declare a DMA_HandleTypeDef handle structure for the transmit or receive Stream
  33:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****               (+++) Enable the DMAx clock
  34:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****               (+++) Configure the DMA handle parameters
  35:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****               (+++) Configure the DMA Tx or Rx Stream/Channel
  36:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****               (+++) Associate the initialized hdma_tx(or _rx)  handle to the hspi DMA Tx or Rx hand
  37:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****               (+++) Configure the priority and enable the NVIC for the transfer complete interrupt 
  38:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
  39:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       (#) Program the Mode, BidirectionalMode , Data size, Baudrate Prescaler, NSS
  40:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           management, Clock polarity and phase, FirstBit and CRC configuration in the hspi Init str
  41:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
  42:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       (#) Initialize the SPI registers by calling the HAL_SPI_Init() API:
  43:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           (++) This API configures also the low level Hardware GPIO, CLOCK, CORTEX...etc)
  44:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****               by calling the customized HAL_SPI_MspInit() API.
  45:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****      [..]
  46:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****        Circular mode restriction:
  47:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       (#) The DMA circular mode cannot be used when the SPI is configured in these modes:
  48:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           (##) Master 2Lines RxOnly
  49:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           (##) Master 1Line Rx
  50:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       (#) The CRC feature is not managed when the DMA circular mode is enabled
  51:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       (#) When the SPI DMA Pause/Stop features are used, we must use the following APIs
  52:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           the HAL_SPI_DMAPause()/ HAL_SPI_DMAStop() only under the SPI callbacks
  53:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****      [..]
  54:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****        Master Receive mode restriction:
  55:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       (#) In Master unidirectional receive-only mode (MSTR =1, BIDIMODE=0, RXONLY=1) or
  56:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           bidirectional receive mode (MSTR=1, BIDIMODE=1, BIDIOE=0), to ensure that the SPI
  57:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           does not initiate a new transfer the following procedure has to be respected:
  58:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           (##) HAL_SPI_DeInit()
  59:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           (##) HAL_SPI_Init()
  60:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****      [..]
  61:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****        Callback registration:
  62:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
  63:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       (#) The compilation flag USE_HAL_SPI_REGISTER_CALLBACKS when set to 1U
  64:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           allows the user to configure dynamically the driver callbacks.
  65:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           Use Functions HAL_SPI_RegisterCallback() to register an interrupt callback.
  66:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
  67:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           Function HAL_SPI_RegisterCallback() allows to register following callbacks:
  68:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****             (++) TxCpltCallback        : SPI Tx Completed callback
  69:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****             (++) RxCpltCallback        : SPI Rx Completed callback
  70:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****             (++) TxRxCpltCallback      : SPI TxRx Completed callback
  71:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****             (++) TxHalfCpltCallback    : SPI Tx Half Completed callback
  72:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****             (++) RxHalfCpltCallback    : SPI Rx Half Completed callback
  73:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****             (++) TxRxHalfCpltCallback  : SPI TxRx Half Completed callback
  74:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****             (++) ErrorCallback         : SPI Error callback
  75:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****             (++) AbortCpltCallback     : SPI Abort callback
  76:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****             (++) MspInitCallback       : SPI Msp Init callback
  77:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****             (++) MspDeInitCallback     : SPI Msp DeInit callback
  78:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           This function takes as parameters the HAL peripheral handle, the Callback ID
  79:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           and a pointer to the user callback function.
  80:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
  81:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
  82:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       (#) Use function HAL_SPI_UnRegisterCallback to reset a callback to the default
  83:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           weak function.
  84:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           HAL_SPI_UnRegisterCallback takes as parameters the HAL peripheral handle,
  85:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           and the Callback ID.
  86:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           This function allows to reset following callbacks:
  87:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****             (++) TxCpltCallback        : SPI Tx Completed callback
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 3


  88:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****             (++) RxCpltCallback        : SPI Rx Completed callback
  89:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****             (++) TxRxCpltCallback      : SPI TxRx Completed callback
  90:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****             (++) TxHalfCpltCallback    : SPI Tx Half Completed callback
  91:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****             (++) RxHalfCpltCallback    : SPI Rx Half Completed callback
  92:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****             (++) TxRxHalfCpltCallback  : SPI TxRx Half Completed callback
  93:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****             (++) ErrorCallback         : SPI Error callback
  94:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****             (++) AbortCpltCallback     : SPI Abort callback
  95:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****             (++) MspInitCallback       : SPI Msp Init callback
  96:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****             (++) MspDeInitCallback     : SPI Msp DeInit callback
  97:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
  98:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****        [..]
  99:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****        By default, after the HAL_SPI_Init() and when the state is HAL_SPI_STATE_RESET
 100:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****        all callbacks are set to the corresponding weak functions:
 101:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****        examples HAL_SPI_MasterTxCpltCallback(), HAL_SPI_MasterRxCpltCallback().
 102:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****        Exception done for MspInit and MspDeInit functions that are
 103:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****        reset to the legacy weak functions in the HAL_SPI_Init()/ HAL_SPI_DeInit() only when
 104:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****        these callbacks are null (not registered beforehand).
 105:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****        If MspInit or MspDeInit are not null, the HAL_SPI_Init()/ HAL_SPI_DeInit()
 106:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****        keep and use the user MspInit/MspDeInit callbacks (registered beforehand) whatever the state
 107:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 108:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****        [..]
 109:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****        Callbacks can be registered/unregistered in HAL_SPI_STATE_READY state only.
 110:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****        Exception done MspInit/MspDeInit functions that can be registered/unregistered
 111:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****        in HAL_SPI_STATE_READY or HAL_SPI_STATE_RESET state,
 112:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****        thus registered (user) MspInit/DeInit callbacks can be used during the Init/DeInit.
 113:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****        Then, the user first registers the MspInit/MspDeInit user callbacks
 114:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****        using HAL_SPI_RegisterCallback() before calling HAL_SPI_DeInit()
 115:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****        or HAL_SPI_Init() function.
 116:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 117:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****        [..]
 118:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****        When the compilation define USE_HAL_PPP_REGISTER_CALLBACKS is set to 0 or
 119:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****        not defined, the callback registering feature is not available
 120:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****        and weak (surcharged) callbacks are used.
 121:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 122:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****      [..]
 123:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****        Using the HAL it is not possible to reach all supported SPI frequency with the different SPI
 124:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****        the following table resume the max SPI frequency reached with data size 8bits/16bits,
 125:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****          according to frequency of the APBx Peripheral Clock (fPCLK) used by the SPI instance.
 126:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 127:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   @endverbatim
 128:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 129:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   Additional table :
 130:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 131:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****        DataSize = SPI_DATASIZE_8BIT:
 132:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****        +-------------------------------------------------------------------------------------------
 133:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****        |         |                | 2Lines Fullduplex   |     2Lines RxOnly    |         1Line     
 134:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****        | Process | Transfer mode  |---------------------|----------------------|-------------------
 135:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****        |         |                |  Master  |  Slave   |  Master   |  Slave   |  Master   |  Slave
 136:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****        |===========================================================================================
 137:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****        |    T    |     Polling    | Fpclk/4  | Fpclk/8  |    NA     |    NA    |    NA     |   NA  
 138:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****        |    X    |----------------|----------|----------|-----------|----------|-----------|-------
 139:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****        |    /    |     Interrupt  | Fpclk/4  | Fpclk/16 |    NA     |    NA    |    NA     |   NA  
 140:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****        |    R    |----------------|----------|----------|-----------|----------|-----------|-------
 141:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****        |    X    |       DMA      | Fpclk/2  | Fpclk/2  |    NA     |    NA    |    NA     |   NA  
 142:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****        |=========|================|==========|==========|===========|==========|===========|=======
 143:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****        |         |     Polling    | Fpclk/4  | Fpclk/8  | Fpclk/16  | Fpclk/8  | Fpclk/8   | Fpclk/
 144:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****        |         |----------------|----------|----------|-----------|----------|-----------|-------
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 4


 145:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****        |    R    |     Interrupt  | Fpclk/8  | Fpclk/16 | Fpclk/8   | Fpclk/8  | Fpclk/8   | Fpclk/
 146:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****        |    X    |----------------|----------|----------|-----------|----------|-----------|-------
 147:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****        |         |       DMA      | Fpclk/4  | Fpclk/2  | Fpclk/2   | Fpclk/16 | Fpclk/2   | Fpclk/
 148:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****        |=========|================|==========|==========|===========|==========|===========|=======
 149:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****        |         |     Polling    | Fpclk/8  | Fpclk/2  |     NA    |    NA    | Fpclk/8   | Fpclk/
 150:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****        |         |----------------|----------|----------|-----------|----------|-----------|-------
 151:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****        |    T    |     Interrupt  | Fpclk/2  | Fpclk/4  |     NA    |    NA    | Fpclk/16  | Fpclk/
 152:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****        |    X    |----------------|----------|----------|-----------|----------|-----------|-------
 153:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****        |         |       DMA      | Fpclk/2  | Fpclk/2  |     NA    |    NA    | Fpclk/8   | Fpclk/
 154:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****        +-------------------------------------------------------------------------------------------
 155:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 156:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****        DataSize = SPI_DATASIZE_16BIT:
 157:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****        +-------------------------------------------------------------------------------------------
 158:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****        |         |                | 2Lines Fullduplex   |     2Lines RxOnly    |         1Line     
 159:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****        | Process | Transfer mode  |---------------------|----------------------|-------------------
 160:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****        |         |                |  Master  |  Slave   |  Master   |  Slave   |  Master   |  Slave
 161:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****        |===========================================================================================
 162:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****        |    T    |     Polling    | Fpclk/4  | Fpclk/8  |    NA     |    NA    |    NA     |   NA  
 163:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****        |    X    |----------------|----------|----------|-----------|----------|-----------|-------
 164:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****        |    /    |     Interrupt  | Fpclk/4  | Fpclk/16 |    NA     |    NA    |    NA     |   NA  
 165:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****        |    R    |----------------|----------|----------|-----------|----------|-----------|-------
 166:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****        |    X    |       DMA      | Fpclk/2  | Fpclk/2  |    NA     |    NA    |    NA     |   NA  
 167:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****        |=========|================|==========|==========|===========|==========|===========|=======
 168:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****        |         |     Polling    | Fpclk/4  | Fpclk/8  | Fpclk/16  | Fpclk/8  | Fpclk/8   | Fpclk/
 169:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****        |         |----------------|----------|----------|-----------|----------|-----------|-------
 170:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****        |    R    |     Interrupt  | Fpclk/8  | Fpclk/16 | Fpclk/8   | Fpclk/8  | Fpclk/8   | Fpclk/
 171:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****        |    X    |----------------|----------|----------|-----------|----------|-----------|-------
 172:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****        |         |       DMA      | Fpclk/4  | Fpclk/2  | Fpclk/2   | Fpclk/16 | Fpclk/2   | Fpclk/
 173:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****        |=========|================|==========|==========|===========|==========|===========|=======
 174:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****        |         |     Polling    | Fpclk/8  | Fpclk/2  |     NA    |    NA    | Fpclk/8   | Fpclk/
 175:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****        |         |----------------|----------|----------|-----------|----------|-----------|-------
 176:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****        |    T    |     Interrupt  | Fpclk/2  | Fpclk/4  |     NA    |    NA    | Fpclk/16  | Fpclk/
 177:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****        |    X    |----------------|----------|----------|-----------|----------|-----------|-------
 178:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****        |         |       DMA      | Fpclk/2  | Fpclk/2  |     NA    |    NA    | Fpclk/8   | Fpclk/
 179:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****        +-------------------------------------------------------------------------------------------
 180:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****        @note The max SPI frequency depend on SPI data size (4bits, 5bits,..., 8bits,...15bits, 16bi
 181:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****              SPI mode(2 Lines fullduplex, 2 lines RxOnly, 1 line TX/RX) and Process mode (Polling, 
 182:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****        @note
 183:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****             (#) TX/RX processes are HAL_SPI_TransmitReceive(), HAL_SPI_TransmitReceive_IT() and HAL
 184:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****             (#) RX processes are HAL_SPI_Receive(), HAL_SPI_Receive_IT() and HAL_SPI_Receive_DMA()
 185:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****             (#) TX processes are HAL_SPI_Transmit(), HAL_SPI_Transmit_IT() and HAL_SPI_Transmit_DMA
 186:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 187:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   ******************************************************************************
 188:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @attention
 189:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   *
 190:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * <h2><center>&copy; Copyright (c) 2017 STMicroelectronics.
 191:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * All rights reserved.</center></h2>
 192:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   *
 193:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * This software component is licensed by ST under BSD 3-Clause license,
 194:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * the "License"; You may not use this file except in compliance with the
 195:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * License. You may obtain a copy of the License at:
 196:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   *                        opensource.org/licenses/BSD-3-Clause
 197:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   *
 198:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   ******************************************************************************
 199:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   */
 200:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 201:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** /* Includes ------------------------------------------------------------------*/
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 5


 202:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #include "stm32l4xx_hal.h"
 203:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 204:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** /** @addtogroup STM32L4xx_HAL_Driver
 205:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @{
 206:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   */
 207:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 208:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** /** @defgroup SPI SPI
 209:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @brief SPI HAL module driver
 210:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @{
 211:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   */
 212:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #ifdef HAL_SPI_MODULE_ENABLED
 213:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 214:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** /* Private typedef -----------------------------------------------------------*/
 215:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** /* Private defines -----------------------------------------------------------*/
 216:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** /** @defgroup SPI_Private_Constants SPI Private Constants
 217:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @{
 218:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   */
 219:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #define SPI_DEFAULT_TIMEOUT 100U
 220:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** /**
 221:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @}
 222:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   */
 223:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 224:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** /* Private macros ------------------------------------------------------------*/
 225:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** /* Private variables ---------------------------------------------------------*/
 226:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** /* Private function prototypes -----------------------------------------------*/
 227:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** /** @defgroup SPI_Private_Functions SPI Private Functions
 228:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @{
 229:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   */
 230:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** static void SPI_DMATransmitCplt(DMA_HandleTypeDef *hdma);
 231:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** static void SPI_DMAReceiveCplt(DMA_HandleTypeDef *hdma);
 232:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** static void SPI_DMATransmitReceiveCplt(DMA_HandleTypeDef *hdma);
 233:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** static void SPI_DMAHalfTransmitCplt(DMA_HandleTypeDef *hdma);
 234:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** static void SPI_DMAHalfReceiveCplt(DMA_HandleTypeDef *hdma);
 235:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** static void SPI_DMAHalfTransmitReceiveCplt(DMA_HandleTypeDef *hdma);
 236:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** static void SPI_DMAError(DMA_HandleTypeDef *hdma);
 237:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** static void SPI_DMAAbortOnError(DMA_HandleTypeDef *hdma);
 238:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** static void SPI_DMATxAbortCallback(DMA_HandleTypeDef *hdma);
 239:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** static void SPI_DMARxAbortCallback(DMA_HandleTypeDef *hdma);
 240:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** static HAL_StatusTypeDef SPI_WaitFlagStateUntilTimeout(SPI_HandleTypeDef *hspi, uint32_t Flag, Flag
 241:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****                                                        uint32_t Timeout, uint32_t Tickstart);
 242:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** static HAL_StatusTypeDef SPI_WaitFifoStateUntilTimeout(SPI_HandleTypeDef *hspi, uint32_t Fifo, uint
 243:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****                                                        uint32_t Timeout, uint32_t Tickstart);
 244:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** static void SPI_TxISR_8BIT(struct __SPI_HandleTypeDef *hspi);
 245:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** static void SPI_TxISR_16BIT(struct __SPI_HandleTypeDef *hspi);
 246:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** static void SPI_RxISR_8BIT(struct __SPI_HandleTypeDef *hspi);
 247:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** static void SPI_RxISR_16BIT(struct __SPI_HandleTypeDef *hspi);
 248:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** static void SPI_2linesRxISR_8BIT(struct __SPI_HandleTypeDef *hspi);
 249:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** static void SPI_2linesTxISR_8BIT(struct __SPI_HandleTypeDef *hspi);
 250:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** static void SPI_2linesTxISR_16BIT(struct __SPI_HandleTypeDef *hspi);
 251:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** static void SPI_2linesRxISR_16BIT(struct __SPI_HandleTypeDef *hspi);
 252:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
 253:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** static void SPI_RxISR_8BITCRC(struct __SPI_HandleTypeDef *hspi);
 254:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** static void SPI_RxISR_16BITCRC(struct __SPI_HandleTypeDef *hspi);
 255:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** static void SPI_2linesRxISR_8BITCRC(struct __SPI_HandleTypeDef *hspi);
 256:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** static void SPI_2linesRxISR_16BITCRC(struct __SPI_HandleTypeDef *hspi);
 257:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #endif /* USE_SPI_CRC */
 258:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** static void SPI_AbortRx_ISR(SPI_HandleTypeDef *hspi);
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 6


 259:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** static void SPI_AbortTx_ISR(SPI_HandleTypeDef *hspi);
 260:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** static void SPI_CloseRxTx_ISR(SPI_HandleTypeDef *hspi);
 261:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** static void SPI_CloseRx_ISR(SPI_HandleTypeDef *hspi);
 262:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** static void SPI_CloseTx_ISR(SPI_HandleTypeDef *hspi);
 263:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** static HAL_StatusTypeDef SPI_EndRxTransaction(SPI_HandleTypeDef *hspi, uint32_t Timeout, uint32_t T
 264:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** static HAL_StatusTypeDef SPI_EndRxTxTransaction(SPI_HandleTypeDef *hspi, uint32_t Timeout, uint32_t
 265:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** /**
 266:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @}
 267:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   */
 268:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 269:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** /* Exported functions --------------------------------------------------------*/
 270:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** /** @defgroup SPI_Exported_Functions SPI Exported Functions
 271:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @{
 272:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   */
 273:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 274:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** /** @defgroup SPI_Exported_Functions_Group1 Initialization and de-initialization functions
 275:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   *  @brief    Initialization and Configuration functions
 276:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   *
 277:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** @verbatim
 278:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****  ===============================================================================
 279:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****               ##### Initialization and de-initialization functions #####
 280:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****  ===============================================================================
 281:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     [..]  This subsection provides a set of functions allowing to initialize and
 282:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           de-initialize the SPIx peripheral:
 283:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 284:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       (+) User must implement HAL_SPI_MspInit() function in which he configures
 285:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           all related peripherals resources (CLOCK, GPIO, DMA, IT and NVIC ).
 286:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 287:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       (+) Call the function HAL_SPI_Init() to configure the selected device with
 288:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           the selected configuration:
 289:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         (++) Mode
 290:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         (++) Direction
 291:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         (++) Data Size
 292:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         (++) Clock Polarity and Phase
 293:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         (++) NSS Management
 294:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         (++) BaudRate Prescaler
 295:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         (++) FirstBit
 296:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         (++) TIMode
 297:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         (++) CRC Calculation
 298:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         (++) CRC Polynomial if CRC enabled
 299:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         (++) CRC Length, used only with Data8 and Data16
 300:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         (++) FIFO reception threshold
 301:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 302:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       (+) Call the function HAL_SPI_DeInit() to restore the default configuration
 303:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           of the selected SPIx peripheral.
 304:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 305:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** @endverbatim
 306:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @{
 307:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   */
 308:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 309:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** /**
 310:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @brief  Initialize the SPI according to the specified parameters
 311:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   *         in the SPI_InitTypeDef and initialize the associated handle.
 312:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
 313:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   *               the configuration information for SPI module.
 314:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @retval HAL status
 315:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   */
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 7


 316:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** HAL_StatusTypeDef HAL_SPI_Init(SPI_HandleTypeDef *hspi)
 317:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** {
 318:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   uint32_t frxth;
 319:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 320:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Check the SPI handle allocation */
 321:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if (hspi == NULL)
 322:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 323:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     return HAL_ERROR;
 324:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
 325:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 326:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Check the parameters */
 327:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   assert_param(IS_SPI_ALL_INSTANCE(hspi->Instance));
 328:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   assert_param(IS_SPI_MODE(hspi->Init.Mode));
 329:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   assert_param(IS_SPI_DIRECTION(hspi->Init.Direction));
 330:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   assert_param(IS_SPI_DATASIZE(hspi->Init.DataSize));
 331:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   assert_param(IS_SPI_NSS(hspi->Init.NSS));
 332:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   assert_param(IS_SPI_NSSP(hspi->Init.NSSPMode));
 333:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   assert_param(IS_SPI_BAUDRATE_PRESCALER(hspi->Init.BaudRatePrescaler));
 334:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   assert_param(IS_SPI_FIRST_BIT(hspi->Init.FirstBit));
 335:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   assert_param(IS_SPI_TIMODE(hspi->Init.TIMode));
 336:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if (hspi->Init.TIMode == SPI_TIMODE_DISABLE)
 337:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 338:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     assert_param(IS_SPI_CPOL(hspi->Init.CLKPolarity));
 339:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     assert_param(IS_SPI_CPHA(hspi->Init.CLKPhase));
 340:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 341:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     if (hspi->Init.Mode == SPI_MODE_MASTER)
 342:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
 343:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       assert_param(IS_SPI_BAUDRATE_PRESCALER(hspi->Init.BaudRatePrescaler));
 344:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
 345:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     else
 346:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
 347:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       /* Baudrate prescaler not use in Motoraola Slave mode. force to default value */
 348:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       hspi->Init.BaudRatePrescaler = SPI_BAUDRATEPRESCALER_2;
 349:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
 350:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
 351:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   else
 352:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 353:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     assert_param(IS_SPI_BAUDRATE_PRESCALER(hspi->Init.BaudRatePrescaler));
 354:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 355:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* Force polarity and phase to TI protocaol requirements */
 356:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     hspi->Init.CLKPolarity = SPI_POLARITY_LOW;
 357:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     hspi->Init.CLKPhase    = SPI_PHASE_1EDGE;
 358:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
 359:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
 360:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   assert_param(IS_SPI_CRC_CALCULATION(hspi->Init.CRCCalculation));
 361:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if (hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
 362:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 363:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     assert_param(IS_SPI_CRC_POLYNOMIAL(hspi->Init.CRCPolynomial));
 364:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     assert_param(IS_SPI_CRC_LENGTH(hspi->Init.CRCLength));
 365:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
 366:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #else
 367:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->Init.CRCCalculation = SPI_CRCCALCULATION_DISABLE;
 368:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #endif /* USE_SPI_CRC */
 369:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 370:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if (hspi->State == HAL_SPI_STATE_RESET)
 371:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 372:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* Allocate lock resource and initialize it */
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 8


 373:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     hspi->Lock = HAL_UNLOCKED;
 374:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 375:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #if (USE_HAL_SPI_REGISTER_CALLBACKS == 1U)
 376:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* Init the SPI Callback settings */
 377:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     hspi->TxCpltCallback       = HAL_SPI_TxCpltCallback;       /* Legacy weak TxCpltCallback       
 378:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     hspi->RxCpltCallback       = HAL_SPI_RxCpltCallback;       /* Legacy weak RxCpltCallback       
 379:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     hspi->TxRxCpltCallback     = HAL_SPI_TxRxCpltCallback;     /* Legacy weak TxRxCpltCallback     
 380:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     hspi->TxHalfCpltCallback   = HAL_SPI_TxHalfCpltCallback;   /* Legacy weak TxHalfCpltCallback   
 381:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     hspi->RxHalfCpltCallback   = HAL_SPI_RxHalfCpltCallback;   /* Legacy weak RxHalfCpltCallback   
 382:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     hspi->TxRxHalfCpltCallback = HAL_SPI_TxRxHalfCpltCallback; /* Legacy weak TxRxHalfCpltCallback 
 383:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     hspi->ErrorCallback        = HAL_SPI_ErrorCallback;        /* Legacy weak ErrorCallback        
 384:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     hspi->AbortCpltCallback    = HAL_SPI_AbortCpltCallback;    /* Legacy weak AbortCpltCallback    
 385:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 386:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     if (hspi->MspInitCallback == NULL)
 387:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
 388:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       hspi->MspInitCallback = HAL_SPI_MspInit; /* Legacy weak MspInit  */
 389:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
 390:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 391:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* Init the low level hardware : GPIO, CLOCK, NVIC... */
 392:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     hspi->MspInitCallback(hspi);
 393:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #else
 394:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* Init the low level hardware : GPIO, CLOCK, NVIC... */
 395:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     HAL_SPI_MspInit(hspi);
 396:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
 397:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
 398:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 399:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->State = HAL_SPI_STATE_BUSY;
 400:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 401:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Disable the selected SPI peripheral */
 402:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   __HAL_SPI_DISABLE(hspi);
 403:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 404:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Align by default the rs fifo threshold on the data size */
 405:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if (hspi->Init.DataSize > SPI_DATASIZE_8BIT)
 406:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 407:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     frxth = SPI_RXFIFO_THRESHOLD_HF;
 408:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
 409:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   else
 410:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 411:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     frxth = SPI_RXFIFO_THRESHOLD_QF;
 412:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
 413:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 414:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* CRC calculation is valid only for 16Bit and 8 Bit */
 415:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if ((hspi->Init.DataSize != SPI_DATASIZE_16BIT) && (hspi->Init.DataSize != SPI_DATASIZE_8BIT))
 416:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 417:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* CRC must be disabled */
 418:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     hspi->Init.CRCCalculation = SPI_CRCCALCULATION_DISABLE;
 419:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
 420:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 421:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /*----------------------- SPIx CR1 & CR2 Configuration ---------------------*/
 422:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Configure : SPI Mode, Communication Mode, Clock polarity and phase, NSS management,
 423:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   Communication speed, First bit and CRC calculation state */
 424:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   WRITE_REG(hspi->Instance->CR1, ((hspi->Init.Mode & (SPI_CR1_MSTR | SPI_CR1_SSI)) |
 425:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****                                   (hspi->Init.Direction & (SPI_CR1_RXONLY | SPI_CR1_BIDIMODE)) |
 426:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****                                   (hspi->Init.CLKPolarity & SPI_CR1_CPOL) |
 427:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****                                   (hspi->Init.CLKPhase & SPI_CR1_CPHA) |
 428:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****                                   (hspi->Init.NSS & SPI_CR1_SSM) |
 429:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****                                   (hspi->Init.BaudRatePrescaler & SPI_CR1_BR_Msk) |
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 9


 430:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****                                   (hspi->Init.FirstBit  & SPI_CR1_LSBFIRST) |
 431:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****                                   (hspi->Init.CRCCalculation & SPI_CR1_CRCEN)));
 432:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
 433:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /*---------------------------- SPIx CRCL Configuration -------------------*/
 434:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if (hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
 435:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 436:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* Align the CRC Length on the data size */
 437:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     if (hspi->Init.CRCLength == SPI_CRC_LENGTH_DATASIZE)
 438:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
 439:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       /* CRC Length aligned on the data size : value set by default */
 440:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       if (hspi->Init.DataSize > SPI_DATASIZE_8BIT)
 441:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       {
 442:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         hspi->Init.CRCLength = SPI_CRC_LENGTH_16BIT;
 443:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       }
 444:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       else
 445:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       {
 446:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         hspi->Init.CRCLength = SPI_CRC_LENGTH_8BIT;
 447:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       }
 448:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
 449:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 450:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* Configure : CRC Length */
 451:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     if (hspi->Init.CRCLength == SPI_CRC_LENGTH_16BIT)
 452:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
 453:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       SET_BIT(hspi->Instance->CR1, SPI_CR1_CRCL);
 454:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
 455:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
 456:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #endif /* USE_SPI_CRC */
 457:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 458:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Configure : NSS management, TI Mode, NSS Pulse, Data size and Rx Fifo threshold */
 459:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   WRITE_REG(hspi->Instance->CR2, (((hspi->Init.NSS >> 16U) & SPI_CR2_SSOE) |
 460:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****                                   (hspi->Init.TIMode & SPI_CR2_FRF) |
 461:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****                                   (hspi->Init.NSSPMode & SPI_CR2_NSSP) |
 462:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****                                   (hspi->Init.DataSize & SPI_CR2_DS_Msk) |
 463:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****                                   (frxth & SPI_CR2_FRXTH)));
 464:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 465:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
 466:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /*---------------------------- SPIx CRCPOLY Configuration ------------------*/
 467:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Configure : CRC Polynomial */
 468:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if (hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
 469:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 470:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     WRITE_REG(hspi->Instance->CRCPR, (hspi->Init.CRCPolynomial & SPI_CRCPR_CRCPOLY_Msk));
 471:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
 472:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #endif /* USE_SPI_CRC */
 473:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 474:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #if defined(SPI_I2SCFGR_I2SMOD)
 475:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Activate the SPI mode (Make sure that I2SMOD bit in I2SCFGR register is reset) */
 476:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   CLEAR_BIT(hspi->Instance->I2SCFGR, SPI_I2SCFGR_I2SMOD);
 477:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #endif /* SPI_I2SCFGR_I2SMOD */
 478:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 479:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->ErrorCode = HAL_SPI_ERROR_NONE;
 480:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->State     = HAL_SPI_STATE_READY;
 481:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 482:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   return HAL_OK;
 483:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** }
 484:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 485:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** /**
 486:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @brief  De-Initialize the SPI peripheral.
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 10


 487:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
 488:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   *               the configuration information for SPI module.
 489:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @retval HAL status
 490:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   */
 491:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** HAL_StatusTypeDef HAL_SPI_DeInit(SPI_HandleTypeDef *hspi)
 492:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** {
 493:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Check the SPI handle allocation */
 494:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if (hspi == NULL)
 495:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 496:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     return HAL_ERROR;
 497:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
 498:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 499:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Check SPI Instance parameter */
 500:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   assert_param(IS_SPI_ALL_INSTANCE(hspi->Instance));
 501:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 502:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->State = HAL_SPI_STATE_BUSY;
 503:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 504:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Disable the SPI Peripheral Clock */
 505:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   __HAL_SPI_DISABLE(hspi);
 506:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 507:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #if (USE_HAL_SPI_REGISTER_CALLBACKS == 1U)
 508:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if (hspi->MspDeInitCallback == NULL)
 509:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 510:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     hspi->MspDeInitCallback = HAL_SPI_MspDeInit; /* Legacy weak MspDeInit  */
 511:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
 512:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 513:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* DeInit the low level hardware: GPIO, CLOCK, NVIC... */
 514:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->MspDeInitCallback(hspi);
 515:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #else
 516:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* DeInit the low level hardware: GPIO, CLOCK, NVIC... */
 517:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   HAL_SPI_MspDeInit(hspi);
 518:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
 519:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 520:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->ErrorCode = HAL_SPI_ERROR_NONE;
 521:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->State = HAL_SPI_STATE_RESET;
 522:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 523:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Release Lock */
 524:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   __HAL_UNLOCK(hspi);
 525:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 526:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   return HAL_OK;
 527:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** }
 528:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 529:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** /**
 530:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @brief  Initialize the SPI MSP.
 531:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
 532:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   *               the configuration information for SPI module.
 533:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @retval None
 534:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   */
 535:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** __weak void HAL_SPI_MspInit(SPI_HandleTypeDef *hspi)
 536:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** {
 537:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Prevent unused argument(s) compilation warning */
 538:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   UNUSED(hspi);
 539:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 540:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* NOTE : This function should not be modified, when the callback is needed,
 541:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****             the HAL_SPI_MspInit should be implemented in the user file
 542:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****    */
 543:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** }
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 11


 544:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 545:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** /**
 546:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @brief  De-Initialize the SPI MSP.
 547:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
 548:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   *               the configuration information for SPI module.
 549:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @retval None
 550:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   */
 551:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** __weak void HAL_SPI_MspDeInit(SPI_HandleTypeDef *hspi)
 552:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** {
 553:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Prevent unused argument(s) compilation warning */
 554:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   UNUSED(hspi);
 555:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 556:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* NOTE : This function should not be modified, when the callback is needed,
 557:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****             the HAL_SPI_MspDeInit should be implemented in the user file
 558:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****    */
 559:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** }
 560:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 561:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #if (USE_HAL_SPI_REGISTER_CALLBACKS == 1U)
 562:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** /**
 563:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @brief  Register a User SPI Callback
 564:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   *         To be used instead of the weak predefined callback
 565:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @param  hspi Pointer to a SPI_HandleTypeDef structure that contains
 566:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   *                the configuration information for the specified SPI.
 567:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @param  CallbackID ID of the callback to be registered
 568:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @param  pCallback pointer to the Callback function
 569:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @retval HAL status
 570:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   */
 571:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** HAL_StatusTypeDef HAL_SPI_RegisterCallback(SPI_HandleTypeDef *hspi, HAL_SPI_CallbackIDTypeDef Callb
 572:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****                                            pSPI_CallbackTypeDef pCallback)
 573:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** {
 574:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   HAL_StatusTypeDef status = HAL_OK;
 575:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 576:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if (pCallback == NULL)
 577:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 578:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* Update the error code */
 579:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     hspi->ErrorCode |= HAL_SPI_ERROR_INVALID_CALLBACK;
 580:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 581:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     return HAL_ERROR;
 582:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
 583:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Process locked */
 584:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   __HAL_LOCK(hspi);
 585:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 586:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if (HAL_SPI_STATE_READY == hspi->State)
 587:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 588:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     switch (CallbackID)
 589:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
 590:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       case HAL_SPI_TX_COMPLETE_CB_ID :
 591:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         hspi->TxCpltCallback = pCallback;
 592:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         break;
 593:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 594:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       case HAL_SPI_RX_COMPLETE_CB_ID :
 595:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         hspi->RxCpltCallback = pCallback;
 596:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         break;
 597:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 598:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       case HAL_SPI_TX_RX_COMPLETE_CB_ID :
 599:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         hspi->TxRxCpltCallback = pCallback;
 600:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         break;
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 12


 601:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 602:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       case HAL_SPI_TX_HALF_COMPLETE_CB_ID :
 603:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         hspi->TxHalfCpltCallback = pCallback;
 604:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         break;
 605:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 606:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       case HAL_SPI_RX_HALF_COMPLETE_CB_ID :
 607:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         hspi->RxHalfCpltCallback = pCallback;
 608:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         break;
 609:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 610:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       case HAL_SPI_TX_RX_HALF_COMPLETE_CB_ID :
 611:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         hspi->TxRxHalfCpltCallback = pCallback;
 612:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         break;
 613:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 614:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       case HAL_SPI_ERROR_CB_ID :
 615:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         hspi->ErrorCallback = pCallback;
 616:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         break;
 617:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 618:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       case HAL_SPI_ABORT_CB_ID :
 619:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         hspi->AbortCpltCallback = pCallback;
 620:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         break;
 621:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 622:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       case HAL_SPI_MSPINIT_CB_ID :
 623:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         hspi->MspInitCallback = pCallback;
 624:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         break;
 625:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 626:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       case HAL_SPI_MSPDEINIT_CB_ID :
 627:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         hspi->MspDeInitCallback = pCallback;
 628:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         break;
 629:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 630:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       default :
 631:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         /* Update the error code */
 632:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_INVALID_CALLBACK);
 633:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 634:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         /* Return error status */
 635:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         status =  HAL_ERROR;
 636:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         break;
 637:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
 638:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
 639:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   else if (HAL_SPI_STATE_RESET == hspi->State)
 640:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 641:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     switch (CallbackID)
 642:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
 643:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       case HAL_SPI_MSPINIT_CB_ID :
 644:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         hspi->MspInitCallback = pCallback;
 645:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         break;
 646:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 647:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       case HAL_SPI_MSPDEINIT_CB_ID :
 648:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         hspi->MspDeInitCallback = pCallback;
 649:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         break;
 650:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 651:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       default :
 652:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         /* Update the error code */
 653:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_INVALID_CALLBACK);
 654:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 655:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         /* Return error status */
 656:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         status =  HAL_ERROR;
 657:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         break;
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 13


 658:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
 659:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
 660:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   else
 661:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 662:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* Update the error code */
 663:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_INVALID_CALLBACK);
 664:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 665:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* Return error status */
 666:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     status =  HAL_ERROR;
 667:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
 668:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 669:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Release Lock */
 670:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   __HAL_UNLOCK(hspi);
 671:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   return status;
 672:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** }
 673:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 674:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** /**
 675:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @brief  Unregister an SPI Callback
 676:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   *         SPI callback is redirected to the weak predefined callback
 677:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @param  hspi Pointer to a SPI_HandleTypeDef structure that contains
 678:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   *                the configuration information for the specified SPI.
 679:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @param  CallbackID ID of the callback to be unregistered
 680:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @retval HAL status
 681:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   */
 682:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** HAL_StatusTypeDef HAL_SPI_UnRegisterCallback(SPI_HandleTypeDef *hspi, HAL_SPI_CallbackIDTypeDef Cal
 683:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** {
 684:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   HAL_StatusTypeDef status = HAL_OK;
 685:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 686:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Process locked */
 687:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   __HAL_LOCK(hspi);
 688:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 689:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if (HAL_SPI_STATE_READY == hspi->State)
 690:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 691:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     switch (CallbackID)
 692:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
 693:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       case HAL_SPI_TX_COMPLETE_CB_ID :
 694:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         hspi->TxCpltCallback = HAL_SPI_TxCpltCallback;             /* Legacy weak TxCpltCallback   
 695:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         break;
 696:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 697:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       case HAL_SPI_RX_COMPLETE_CB_ID :
 698:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         hspi->RxCpltCallback = HAL_SPI_RxCpltCallback;             /* Legacy weak RxCpltCallback   
 699:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         break;
 700:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 701:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       case HAL_SPI_TX_RX_COMPLETE_CB_ID :
 702:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         hspi->TxRxCpltCallback = HAL_SPI_TxRxCpltCallback;         /* Legacy weak TxRxCpltCallback 
 703:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         break;
 704:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 705:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       case HAL_SPI_TX_HALF_COMPLETE_CB_ID :
 706:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         hspi->TxHalfCpltCallback = HAL_SPI_TxHalfCpltCallback;     /* Legacy weak TxHalfCpltCallbac
 707:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         break;
 708:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 709:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       case HAL_SPI_RX_HALF_COMPLETE_CB_ID :
 710:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         hspi->RxHalfCpltCallback = HAL_SPI_RxHalfCpltCallback;     /* Legacy weak RxHalfCpltCallbac
 711:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         break;
 712:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 713:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       case HAL_SPI_TX_RX_HALF_COMPLETE_CB_ID :
 714:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         hspi->TxRxHalfCpltCallback = HAL_SPI_TxRxHalfCpltCallback; /* Legacy weak TxRxHalfCpltCallb
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 14


 715:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         break;
 716:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 717:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       case HAL_SPI_ERROR_CB_ID :
 718:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         hspi->ErrorCallback = HAL_SPI_ErrorCallback;               /* Legacy weak ErrorCallback    
 719:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         break;
 720:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 721:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       case HAL_SPI_ABORT_CB_ID :
 722:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         hspi->AbortCpltCallback = HAL_SPI_AbortCpltCallback;       /* Legacy weak AbortCpltCallback
 723:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         break;
 724:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 725:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       case HAL_SPI_MSPINIT_CB_ID :
 726:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         hspi->MspInitCallback = HAL_SPI_MspInit;                   /* Legacy weak MspInit          
 727:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         break;
 728:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 729:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       case HAL_SPI_MSPDEINIT_CB_ID :
 730:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         hspi->MspDeInitCallback = HAL_SPI_MspDeInit;               /* Legacy weak MspDeInit        
 731:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         break;
 732:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 733:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       default :
 734:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         /* Update the error code */
 735:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_INVALID_CALLBACK);
 736:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 737:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         /* Return error status */
 738:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         status =  HAL_ERROR;
 739:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         break;
 740:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
 741:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
 742:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   else if (HAL_SPI_STATE_RESET == hspi->State)
 743:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 744:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     switch (CallbackID)
 745:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
 746:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       case HAL_SPI_MSPINIT_CB_ID :
 747:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         hspi->MspInitCallback = HAL_SPI_MspInit;                   /* Legacy weak MspInit          
 748:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         break;
 749:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 750:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       case HAL_SPI_MSPDEINIT_CB_ID :
 751:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         hspi->MspDeInitCallback = HAL_SPI_MspDeInit;               /* Legacy weak MspDeInit        
 752:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         break;
 753:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 754:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       default :
 755:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         /* Update the error code */
 756:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_INVALID_CALLBACK);
 757:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 758:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         /* Return error status */
 759:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         status =  HAL_ERROR;
 760:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         break;
 761:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
 762:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
 763:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   else
 764:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 765:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* Update the error code */
 766:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_INVALID_CALLBACK);
 767:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 768:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* Return error status */
 769:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     status =  HAL_ERROR;
 770:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
 771:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 15


 772:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Release Lock */
 773:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   __HAL_UNLOCK(hspi);
 774:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   return status;
 775:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** }
 776:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
 777:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** /**
 778:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @}
 779:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   */
 780:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 781:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** /** @defgroup SPI_Exported_Functions_Group2 IO operation functions
 782:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   *  @brief   Data transfers functions
 783:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   *
 784:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** @verbatim
 785:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   ==============================================================================
 786:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****                       ##### IO operation functions #####
 787:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****  ===============================================================================
 788:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****  [..]
 789:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     This subsection provides a set of functions allowing to manage the SPI
 790:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     data transfers.
 791:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 792:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     [..] The SPI supports master and slave mode :
 793:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 794:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     (#) There are two modes of transfer:
 795:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****        (++) Blocking mode: The communication is performed in polling mode.
 796:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****             The HAL status of all data processing is returned by the same function
 797:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****             after finishing transfer.
 798:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****        (++) No-Blocking mode: The communication is performed using Interrupts
 799:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****             or DMA, These APIs return the HAL status.
 800:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****             The end of the data processing will be indicated through the
 801:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****             dedicated SPI IRQ when using Interrupt mode or the DMA IRQ when
 802:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****             using DMA mode.
 803:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****             The HAL_SPI_TxCpltCallback(), HAL_SPI_RxCpltCallback() and HAL_SPI_TxRxCpltCallback() u
 804:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****             will be executed respectively at the end of the transmit or Receive process
 805:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****             The HAL_SPI_ErrorCallback()user callback will be executed when a communication error is
 806:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 807:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     (#) APIs provided for these 2 transfer modes (Blocking mode or Non blocking mode using either I
 808:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         exist for 1Line (simplex) and 2Lines (full duplex) modes.
 809:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 810:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** @endverbatim
 811:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @{
 812:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   */
 813:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 814:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** /**
 815:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @brief  Transmit an amount of data in blocking mode.
 816:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
 817:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   *               the configuration information for SPI module.
 818:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @param  pData pointer to data buffer
 819:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @param  Size amount of data to be sent
 820:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @param  Timeout Timeout duration
 821:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @retval HAL status
 822:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   */
 823:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** HAL_StatusTypeDef HAL_SPI_Transmit(SPI_HandleTypeDef *hspi, uint8_t *pData, uint16_t Size, uint32_t
 824:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** {
 825:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   uint32_t tickstart;
 826:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   HAL_StatusTypeDef errorcode = HAL_OK;
 827:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   uint16_t initial_TxXferCount;
 828:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 16


 829:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Check Direction parameter */
 830:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   assert_param(IS_SPI_DIRECTION_2LINES_OR_1LINE(hspi->Init.Direction));
 831:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 832:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Process Locked */
 833:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   __HAL_LOCK(hspi);
 834:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 835:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Init tickstart for timeout management*/
 836:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   tickstart = HAL_GetTick();
 837:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   initial_TxXferCount = Size;
 838:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 839:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if (hspi->State != HAL_SPI_STATE_READY)
 840:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 841:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     errorcode = HAL_BUSY;
 842:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     goto error;
 843:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
 844:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 845:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if ((pData == NULL) || (Size == 0U))
 846:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 847:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     errorcode = HAL_ERROR;
 848:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     goto error;
 849:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
 850:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 851:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Set the transaction information */
 852:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->State       = HAL_SPI_STATE_BUSY_TX;
 853:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->ErrorCode   = HAL_SPI_ERROR_NONE;
 854:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->pTxBuffPtr  = (uint8_t *)pData;
 855:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->TxXferSize  = Size;
 856:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->TxXferCount = Size;
 857:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 858:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /*Init field not used in handle to zero */
 859:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->pRxBuffPtr  = (uint8_t *)NULL;
 860:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->RxXferSize  = 0U;
 861:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->RxXferCount = 0U;
 862:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->TxISR       = NULL;
 863:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->RxISR       = NULL;
 864:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 865:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Configure communication direction : 1Line */
 866:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if (hspi->Init.Direction == SPI_DIRECTION_1LINE)
 867:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 868:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* Disable SPI Peripheral before set 1Line direction (BIDIOE bit) */
 869:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     __HAL_SPI_DISABLE(hspi);
 870:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     SPI_1LINE_TX(hspi);
 871:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
 872:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 873:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
 874:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Reset CRC Calculation */
 875:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if (hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
 876:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 877:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     SPI_RESET_CRC(hspi);
 878:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
 879:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #endif /* USE_SPI_CRC */
 880:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 881:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Check if the SPI is already enabled */
 882:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if ((hspi->Instance->CR1 & SPI_CR1_SPE) != SPI_CR1_SPE)
 883:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 884:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* Enable SPI peripheral */
 885:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     __HAL_SPI_ENABLE(hspi);
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 17


 886:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
 887:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 888:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Transmit data in 16 Bit mode */
 889:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if (hspi->Init.DataSize > SPI_DATASIZE_8BIT)
 890:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 891:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     if ((hspi->Init.Mode == SPI_MODE_SLAVE) || (initial_TxXferCount == 0x01U))
 892:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
 893:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       hspi->Instance->DR = *((uint16_t *)hspi->pTxBuffPtr);
 894:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       hspi->pTxBuffPtr += sizeof(uint16_t);
 895:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       hspi->TxXferCount--;
 896:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
 897:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* Transmit data in 16 Bit mode */
 898:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     while (hspi->TxXferCount > 0U)
 899:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
 900:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       /* Wait until TXE flag is set to send data */
 901:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       if (__HAL_SPI_GET_FLAG(hspi, SPI_FLAG_TXE))
 902:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       {
 903:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         hspi->Instance->DR = *((uint16_t *)hspi->pTxBuffPtr);
 904:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         hspi->pTxBuffPtr += sizeof(uint16_t);
 905:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         hspi->TxXferCount--;
 906:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       }
 907:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       else
 908:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       {
 909:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         /* Timeout management */
 910:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         if ((((HAL_GetTick() - tickstart) >=  Timeout) && (Timeout != HAL_MAX_DELAY)) || (Timeout =
 911:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         {
 912:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           errorcode = HAL_TIMEOUT;
 913:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           goto error;
 914:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         }
 915:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       }
 916:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
 917:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
 918:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Transmit data in 8 Bit mode */
 919:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   else
 920:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 921:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     if ((hspi->Init.Mode == SPI_MODE_SLAVE) || (initial_TxXferCount == 0x01U))
 922:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
 923:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       if (hspi->TxXferCount > 1U)
 924:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       {
 925:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         /* write on the data register in packing mode */
 926:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         hspi->Instance->DR = *((uint16_t *)hspi->pTxBuffPtr);
 927:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         hspi->pTxBuffPtr += sizeof(uint16_t);
 928:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         hspi->TxXferCount -= 2U;
 929:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       }
 930:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       else
 931:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       {
 932:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         *((__IO uint8_t *)&hspi->Instance->DR) = (*hspi->pTxBuffPtr);
 933:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         hspi->pTxBuffPtr ++;
 934:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         hspi->TxXferCount--;
 935:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       }
 936:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
 937:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     while (hspi->TxXferCount > 0U)
 938:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
 939:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       /* Wait until TXE flag is set to send data */
 940:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       if (__HAL_SPI_GET_FLAG(hspi, SPI_FLAG_TXE))
 941:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       {
 942:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         if (hspi->TxXferCount > 1U)
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 18


 943:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         {
 944:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           /* write on the data register in packing mode */
 945:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           hspi->Instance->DR = *((uint16_t *)hspi->pTxBuffPtr);
 946:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           hspi->pTxBuffPtr += sizeof(uint16_t);
 947:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           hspi->TxXferCount -= 2U;
 948:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         }
 949:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         else
 950:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         {
 951:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           *((__IO uint8_t *)&hspi->Instance->DR) = (*hspi->pTxBuffPtr);
 952:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           hspi->pTxBuffPtr++;
 953:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           hspi->TxXferCount--;
 954:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         }
 955:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       }
 956:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       else
 957:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       {
 958:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         /* Timeout management */
 959:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         if ((((HAL_GetTick() - tickstart) >=  Timeout) && (Timeout != HAL_MAX_DELAY)) || (Timeout =
 960:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         {
 961:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           errorcode = HAL_TIMEOUT;
 962:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           goto error;
 963:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         }
 964:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       }
 965:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
 966:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
 967:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
 968:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Enable CRC Transmission */
 969:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if (hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
 970:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 971:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     SET_BIT(hspi->Instance->CR1, SPI_CR1_CRCNEXT);
 972:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
 973:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #endif /* USE_SPI_CRC */
 974:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 975:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Check the end of the transaction */
 976:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if (SPI_EndRxTxTransaction(hspi, Timeout, tickstart) != HAL_OK)
 977:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 978:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     hspi->ErrorCode = HAL_SPI_ERROR_FLAG;
 979:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
 980:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 981:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Clear overrun flag in 2 Lines communication mode because received is not read */
 982:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if (hspi->Init.Direction == SPI_DIRECTION_2LINES)
 983:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 984:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     __HAL_SPI_CLEAR_OVRFLAG(hspi);
 985:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
 986:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 987:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if (hspi->ErrorCode != HAL_SPI_ERROR_NONE)
 988:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 989:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     errorcode = HAL_ERROR;
 990:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
 991:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 992:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** error:
 993:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->State = HAL_SPI_STATE_READY;
 994:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Process Unlocked */
 995:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   __HAL_UNLOCK(hspi);
 996:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   return errorcode;
 997:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** }
 998:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 999:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** /**
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 19


1000:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @brief  Receive an amount of data in blocking mode.
1001:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
1002:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   *               the configuration information for SPI module.
1003:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @param  pData pointer to data buffer
1004:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @param  Size amount of data to be received
1005:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @param  Timeout Timeout duration
1006:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @retval HAL status
1007:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   */
1008:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** HAL_StatusTypeDef HAL_SPI_Receive(SPI_HandleTypeDef *hspi, uint8_t *pData, uint16_t Size, uint32_t 
1009:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** {
1010:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
1011:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   __IO uint32_t tmpreg = 0U;
1012:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #endif /* USE_SPI_CRC */
1013:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   uint32_t tickstart;
1014:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   HAL_StatusTypeDef errorcode = HAL_OK;
1015:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
1016:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if ((hspi->Init.Mode == SPI_MODE_MASTER) && (hspi->Init.Direction == SPI_DIRECTION_2LINES))
1017:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
1018:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     hspi->State = HAL_SPI_STATE_BUSY_RX;
1019:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* Call transmit-receive function to send Dummy data on Tx line and generate clock on CLK line 
1020:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     return HAL_SPI_TransmitReceive(hspi, pData, pData, Size, Timeout);
1021:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
1022:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
1023:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Process Locked */
1024:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   __HAL_LOCK(hspi);
1025:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
1026:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Init tickstart for timeout management*/
1027:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   tickstart = HAL_GetTick();
1028:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
1029:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if (hspi->State != HAL_SPI_STATE_READY)
1030:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
1031:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     errorcode = HAL_BUSY;
1032:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     goto error;
1033:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
1034:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
1035:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if ((pData == NULL) || (Size == 0U))
1036:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
1037:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     errorcode = HAL_ERROR;
1038:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     goto error;
1039:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
1040:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
1041:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Set the transaction information */
1042:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->State       = HAL_SPI_STATE_BUSY_RX;
1043:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->ErrorCode   = HAL_SPI_ERROR_NONE;
1044:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->pRxBuffPtr  = (uint8_t *)pData;
1045:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->RxXferSize  = Size;
1046:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->RxXferCount = Size;
1047:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
1048:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /*Init field not used in handle to zero */
1049:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->pTxBuffPtr  = (uint8_t *)NULL;
1050:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->TxXferSize  = 0U;
1051:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->TxXferCount = 0U;
1052:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->RxISR       = NULL;
1053:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->TxISR       = NULL;
1054:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
1055:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
1056:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Reset CRC Calculation */
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 20


1057:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if (hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
1058:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
1059:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     SPI_RESET_CRC(hspi);
1060:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* this is done to handle the CRCNEXT before the latest data */
1061:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     hspi->RxXferCount--;
1062:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
1063:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #endif /* USE_SPI_CRC */
1064:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
1065:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Set the Rx Fifo threshold */
1066:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if (hspi->Init.DataSize > SPI_DATASIZE_8BIT)
1067:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
1068:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* Set RX Fifo threshold according the reception data length: 16bit */
1069:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     CLEAR_BIT(hspi->Instance->CR2, SPI_RXFIFO_THRESHOLD);
1070:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
1071:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   else
1072:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
1073:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* Set RX Fifo threshold according the reception data length: 8bit */
1074:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     SET_BIT(hspi->Instance->CR2, SPI_RXFIFO_THRESHOLD);
1075:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
1076:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
1077:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Configure communication direction: 1Line */
1078:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if (hspi->Init.Direction == SPI_DIRECTION_1LINE)
1079:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
1080:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* Disable SPI Peripheral before set 1Line direction (BIDIOE bit) */
1081:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     __HAL_SPI_DISABLE(hspi);
1082:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     SPI_1LINE_RX(hspi);
1083:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
1084:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
1085:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Check if the SPI is already enabled */
1086:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if ((hspi->Instance->CR1 & SPI_CR1_SPE) != SPI_CR1_SPE)
1087:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
1088:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* Enable SPI peripheral */
1089:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     __HAL_SPI_ENABLE(hspi);
1090:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
1091:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
1092:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Receive data in 8 Bit mode */
1093:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if (hspi->Init.DataSize <= SPI_DATASIZE_8BIT)
1094:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
1095:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* Transfer loop */
1096:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     while (hspi->RxXferCount > 0U)
1097:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
1098:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       /* Check the RXNE flag */
1099:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       if (__HAL_SPI_GET_FLAG(hspi, SPI_FLAG_RXNE))
1100:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       {
1101:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         /* read the received data */
1102:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         (* (uint8_t *)hspi->pRxBuffPtr) = *(__IO uint8_t *)&hspi->Instance->DR;
1103:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         hspi->pRxBuffPtr += sizeof(uint8_t);
1104:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         hspi->RxXferCount--;
1105:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       }
1106:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       else
1107:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       {
1108:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         /* Timeout management */
1109:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         if ((((HAL_GetTick() - tickstart) >=  Timeout) && (Timeout != HAL_MAX_DELAY)) || (Timeout =
1110:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         {
1111:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           errorcode = HAL_TIMEOUT;
1112:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           goto error;
1113:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         }
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 21


1114:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       }
1115:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
1116:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
1117:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   else
1118:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
1119:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* Transfer loop */
1120:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     while (hspi->RxXferCount > 0U)
1121:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
1122:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       /* Check the RXNE flag */
1123:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       if (__HAL_SPI_GET_FLAG(hspi, SPI_FLAG_RXNE))
1124:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       {
1125:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         *((uint16_t *)hspi->pRxBuffPtr) = (uint16_t)hspi->Instance->DR;
1126:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         hspi->pRxBuffPtr += sizeof(uint16_t);
1127:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         hspi->RxXferCount--;
1128:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       }
1129:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       else
1130:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       {
1131:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         /* Timeout management */
1132:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         if ((((HAL_GetTick() - tickstart) >=  Timeout) && (Timeout != HAL_MAX_DELAY)) || (Timeout =
1133:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         {
1134:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           errorcode = HAL_TIMEOUT;
1135:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           goto error;
1136:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         }
1137:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       }
1138:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
1139:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
1140:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
1141:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
1142:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Handle the CRC Transmission */
1143:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if (hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
1144:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
1145:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* freeze the CRC before the latest data */
1146:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     SET_BIT(hspi->Instance->CR1, SPI_CR1_CRCNEXT);
1147:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
1148:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* Read the latest data */
1149:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     if (SPI_WaitFlagStateUntilTimeout(hspi, SPI_FLAG_RXNE, SET, Timeout, tickstart) != HAL_OK)
1150:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
1151:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       /* the latest data has not been received */
1152:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       errorcode = HAL_TIMEOUT;
1153:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       goto error;
1154:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
1155:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
1156:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* Receive last data in 16 Bit mode */
1157:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     if (hspi->Init.DataSize > SPI_DATASIZE_8BIT)
1158:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
1159:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       *((uint16_t *)hspi->pRxBuffPtr) = (uint16_t)hspi->Instance->DR;
1160:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
1161:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* Receive last data in 8 Bit mode */
1162:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     else
1163:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
1164:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       (*(uint8_t *)hspi->pRxBuffPtr) = *(__IO uint8_t *)&hspi->Instance->DR;
1165:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
1166:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
1167:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* Wait the CRC data */
1168:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     if (SPI_WaitFlagStateUntilTimeout(hspi, SPI_FLAG_RXNE, SET, Timeout, tickstart) != HAL_OK)
1169:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
1170:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_CRC);
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 22


1171:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       errorcode = HAL_TIMEOUT;
1172:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       goto error;
1173:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
1174:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
1175:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* Read CRC to Flush DR and RXNE flag */
1176:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     if (hspi->Init.DataSize == SPI_DATASIZE_16BIT)
1177:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
1178:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       /* Read 16bit CRC */
1179:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       tmpreg = READ_REG(hspi->Instance->DR);
1180:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       /* To avoid GCC warning */
1181:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       UNUSED(tmpreg);
1182:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
1183:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     else
1184:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
1185:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       /* Read 8bit CRC */
1186:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       tmpreg = READ_REG(*(__IO uint8_t *)&hspi->Instance->DR);
1187:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       /* To avoid GCC warning */
1188:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       UNUSED(tmpreg);
1189:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
1190:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       if ((hspi->Init.DataSize == SPI_DATASIZE_8BIT) && (hspi->Init.CRCLength == SPI_CRC_LENGTH_16B
1191:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       {
1192:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         if (SPI_WaitFlagStateUntilTimeout(hspi, SPI_FLAG_RXNE, SET, Timeout, tickstart) != HAL_OK)
1193:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         {
1194:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           /* Error on the CRC reception */
1195:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_CRC);
1196:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           errorcode = HAL_TIMEOUT;
1197:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           goto error;
1198:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         }
1199:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         /* Read 8bit CRC again in case of 16bit CRC in 8bit Data mode */
1200:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         tmpreg = READ_REG(*(__IO uint8_t *)&hspi->Instance->DR);
1201:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         /* To avoid GCC warning */
1202:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         UNUSED(tmpreg);
1203:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       }
1204:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
1205:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
1206:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #endif /* USE_SPI_CRC */
1207:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
1208:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Check the end of the transaction */
1209:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if (SPI_EndRxTransaction(hspi, Timeout, tickstart) != HAL_OK)
1210:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
1211:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     hspi->ErrorCode = HAL_SPI_ERROR_FLAG;
1212:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
1213:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
1214:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
1215:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Check if CRC error occurred */
1216:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if (__HAL_SPI_GET_FLAG(hspi, SPI_FLAG_CRCERR))
1217:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
1218:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_CRC);
1219:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     __HAL_SPI_CLEAR_CRCERRFLAG(hspi);
1220:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
1221:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #endif /* USE_SPI_CRC */
1222:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
1223:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if (hspi->ErrorCode != HAL_SPI_ERROR_NONE)
1224:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
1225:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     errorcode = HAL_ERROR;
1226:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
1227:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 23


1228:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** error :
1229:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->State = HAL_SPI_STATE_READY;
1230:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   __HAL_UNLOCK(hspi);
1231:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   return errorcode;
1232:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** }
1233:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
1234:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** /**
1235:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @brief  Transmit and Receive an amount of data in blocking mode.
1236:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
1237:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   *               the configuration information for SPI module.
1238:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @param  pTxData pointer to transmission data buffer
1239:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @param  pRxData pointer to reception data buffer
1240:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @param  Size amount of data to be sent and received
1241:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @param  Timeout Timeout duration
1242:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @retval HAL status
1243:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   */
1244:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** HAL_StatusTypeDef HAL_SPI_TransmitReceive(SPI_HandleTypeDef *hspi, uint8_t *pTxData, uint8_t *pRxDa
1245:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****                                           uint32_t Timeout)
1246:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** {
1247:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
1248:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   __IO uint32_t tmpreg = 0U;
1249:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #endif /* USE_SPI_CRC */
1250:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   uint16_t             initial_TxXferCount;
1251:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   uint16_t             initial_RxXferCount;
1252:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   uint32_t             tmp_mode;
1253:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   HAL_SPI_StateTypeDef tmp_state;
1254:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   uint32_t             tickstart;
1255:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
1256:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   uint32_t             spi_cr1;
1257:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   uint32_t             spi_cr2;
1258:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #endif /* USE_SPI_CRC */
1259:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
1260:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Variable used to alternate Rx and Tx during transfer */
1261:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   uint32_t             txallowed = 1U;
1262:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   HAL_StatusTypeDef    errorcode = HAL_OK;
1263:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
1264:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Check Direction parameter */
1265:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   assert_param(IS_SPI_DIRECTION_2LINES(hspi->Init.Direction));
1266:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
1267:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Process Locked */
1268:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   __HAL_LOCK(hspi);
1269:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
1270:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Init tickstart for timeout management*/
1271:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   tickstart = HAL_GetTick();
1272:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
1273:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Init temporary variables */
1274:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   tmp_state           = hspi->State;
1275:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   tmp_mode            = hspi->Init.Mode;
1276:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   initial_TxXferCount = Size;
1277:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   initial_RxXferCount = Size;
1278:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
1279:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   spi_cr1             = READ_REG(hspi->Instance->CR1);
1280:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   spi_cr2             = READ_REG(hspi->Instance->CR2);
1281:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #endif /* USE_SPI_CRC */
1282:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
1283:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if (!((tmp_state == HAL_SPI_STATE_READY) || \
1284:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         ((tmp_mode == SPI_MODE_MASTER) && (hspi->Init.Direction == SPI_DIRECTION_2LINES) && (tmp_st
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 24


1285:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
1286:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     errorcode = HAL_BUSY;
1287:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     goto error;
1288:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
1289:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
1290:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if ((pTxData == NULL) || (pRxData == NULL) || (Size == 0U))
1291:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
1292:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     errorcode = HAL_ERROR;
1293:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     goto error;
1294:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
1295:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
1296:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Don't overwrite in case of HAL_SPI_STATE_BUSY_RX */
1297:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if (hspi->State != HAL_SPI_STATE_BUSY_RX)
1298:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
1299:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     hspi->State = HAL_SPI_STATE_BUSY_TX_RX;
1300:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
1301:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
1302:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Set the transaction information */
1303:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->ErrorCode   = HAL_SPI_ERROR_NONE;
1304:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->pRxBuffPtr  = (uint8_t *)pRxData;
1305:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->RxXferCount = Size;
1306:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->RxXferSize  = Size;
1307:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->pTxBuffPtr  = (uint8_t *)pTxData;
1308:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->TxXferCount = Size;
1309:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->TxXferSize  = Size;
1310:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
1311:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /*Init field not used in handle to zero */
1312:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->RxISR       = NULL;
1313:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->TxISR       = NULL;
1314:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
1315:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
1316:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Reset CRC Calculation */
1317:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if (hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
1318:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
1319:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     SPI_RESET_CRC(hspi);
1320:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
1321:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #endif /* USE_SPI_CRC */
1322:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
1323:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Set the Rx Fifo threshold */
1324:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if ((hspi->Init.DataSize > SPI_DATASIZE_8BIT) || (initial_RxXferCount > 1U))
1325:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
1326:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* Set fiforxthreshold according the reception data length: 16bit */
1327:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     CLEAR_BIT(hspi->Instance->CR2, SPI_RXFIFO_THRESHOLD);
1328:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
1329:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   else
1330:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
1331:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* Set fiforxthreshold according the reception data length: 8bit */
1332:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     SET_BIT(hspi->Instance->CR2, SPI_RXFIFO_THRESHOLD);
1333:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
1334:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
1335:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Check if the SPI is already enabled */
1336:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if ((hspi->Instance->CR1 & SPI_CR1_SPE) != SPI_CR1_SPE)
1337:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
1338:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* Enable SPI peripheral */
1339:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     __HAL_SPI_ENABLE(hspi);
1340:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
1341:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 25


1342:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Transmit and Receive data in 16 Bit mode */
1343:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if (hspi->Init.DataSize > SPI_DATASIZE_8BIT)
1344:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
1345:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     if ((hspi->Init.Mode == SPI_MODE_SLAVE) || (initial_TxXferCount == 0x01U))
1346:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
1347:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       hspi->Instance->DR = *((uint16_t *)hspi->pTxBuffPtr);
1348:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       hspi->pTxBuffPtr += sizeof(uint16_t);
1349:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       hspi->TxXferCount--;
1350:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
1351:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     while ((hspi->TxXferCount > 0U) || (hspi->RxXferCount > 0U))
1352:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
1353:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       /* Check TXE flag */
1354:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       if ((__HAL_SPI_GET_FLAG(hspi, SPI_FLAG_TXE)) && (hspi->TxXferCount > 0U) && (txallowed == 1U)
1355:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       {
1356:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         hspi->Instance->DR = *((uint16_t *)hspi->pTxBuffPtr);
1357:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         hspi->pTxBuffPtr += sizeof(uint16_t);
1358:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         hspi->TxXferCount--;
1359:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         /* Next Data is a reception (Rx). Tx not allowed */
1360:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         txallowed = 0U;
1361:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
1362:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
1363:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         /* Enable CRC Transmission */
1364:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         if ((hspi->TxXferCount == 0U) && (hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE))
1365:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         {
1366:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           /* Set NSS Soft to received correctly the CRC on slave mode with NSS pulse activated */
1367:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           if ((READ_BIT(spi_cr1, SPI_CR1_MSTR) == 0U) && (READ_BIT(spi_cr2, SPI_CR2_NSSP) == SPI_CR
1368:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           {
1369:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****             SET_BIT(hspi->Instance->CR1, SPI_CR1_SSM);
1370:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           }
1371:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           SET_BIT(hspi->Instance->CR1, SPI_CR1_CRCNEXT);
1372:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         }
1373:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #endif /* USE_SPI_CRC */
1374:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       }
1375:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
1376:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       /* Check RXNE flag */
1377:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       if ((__HAL_SPI_GET_FLAG(hspi, SPI_FLAG_RXNE)) && (hspi->RxXferCount > 0U))
1378:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       {
1379:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         *((uint16_t *)hspi->pRxBuffPtr) = (uint16_t)hspi->Instance->DR;
1380:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         hspi->pRxBuffPtr += sizeof(uint16_t);
1381:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         hspi->RxXferCount--;
1382:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         /* Next Data is a Transmission (Tx). Tx is allowed */
1383:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         txallowed = 1U;
1384:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       }
1385:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       if (((HAL_GetTick() - tickstart) >=  Timeout) && (Timeout != HAL_MAX_DELAY))
1386:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       {
1387:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         errorcode = HAL_TIMEOUT;
1388:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         goto error;
1389:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       }
1390:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
1391:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
1392:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Transmit and Receive data in 8 Bit mode */
1393:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   else
1394:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
1395:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     if ((hspi->Init.Mode == SPI_MODE_SLAVE) || (initial_TxXferCount == 0x01U))
1396:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
1397:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       if (hspi->TxXferCount > 1U)
1398:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       {
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 26


1399:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         hspi->Instance->DR = *((uint16_t *)hspi->pTxBuffPtr);
1400:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         hspi->pTxBuffPtr += sizeof(uint16_t);
1401:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         hspi->TxXferCount -= 2U;
1402:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       }
1403:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       else
1404:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       {
1405:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         *(__IO uint8_t *)&hspi->Instance->DR = (*hspi->pTxBuffPtr);
1406:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         hspi->pTxBuffPtr++;
1407:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         hspi->TxXferCount--;
1408:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       }
1409:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
1410:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     while ((hspi->TxXferCount > 0U) || (hspi->RxXferCount > 0U))
1411:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
1412:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       /* Check TXE flag */
1413:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       if ((__HAL_SPI_GET_FLAG(hspi, SPI_FLAG_TXE)) && (hspi->TxXferCount > 0U) && (txallowed == 1U)
1414:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       {
1415:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         if (hspi->TxXferCount > 1U)
1416:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         {
1417:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           hspi->Instance->DR = *((uint16_t *)hspi->pTxBuffPtr);
1418:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           hspi->pTxBuffPtr += sizeof(uint16_t);
1419:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           hspi->TxXferCount -= 2U;
1420:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         }
1421:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         else
1422:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         {
1423:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           *(__IO uint8_t *)&hspi->Instance->DR = (*hspi->pTxBuffPtr);
1424:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           hspi->pTxBuffPtr++;
1425:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           hspi->TxXferCount--;
1426:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         }
1427:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         /* Next Data is a reception (Rx). Tx not allowed */
1428:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         txallowed = 0U;
1429:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
1430:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
1431:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         /* Enable CRC Transmission */
1432:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         if ((hspi->TxXferCount == 0U) && (hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE))
1433:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         {
1434:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           /* Set NSS Soft to received correctly the CRC on slave mode with NSS pulse activated */
1435:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           if ((READ_BIT(spi_cr1, SPI_CR1_MSTR) == 0U) && (READ_BIT(spi_cr2, SPI_CR2_NSSP) == SPI_CR
1436:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           {
1437:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****             SET_BIT(hspi->Instance->CR1, SPI_CR1_SSM);
1438:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           }
1439:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           SET_BIT(hspi->Instance->CR1, SPI_CR1_CRCNEXT);
1440:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         }
1441:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #endif /* USE_SPI_CRC */
1442:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       }
1443:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
1444:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       /* Wait until RXNE flag is reset */
1445:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       if ((__HAL_SPI_GET_FLAG(hspi, SPI_FLAG_RXNE)) && (hspi->RxXferCount > 0U))
1446:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       {
1447:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         if (hspi->RxXferCount > 1U)
1448:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         {
1449:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           *((uint16_t *)hspi->pRxBuffPtr) = (uint16_t)hspi->Instance->DR;
1450:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           hspi->pRxBuffPtr += sizeof(uint16_t);
1451:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           hspi->RxXferCount -= 2U;
1452:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           if (hspi->RxXferCount <= 1U)
1453:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           {
1454:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****             /* Set RX Fifo threshold before to switch on 8 bit data size */
1455:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****             SET_BIT(hspi->Instance->CR2, SPI_RXFIFO_THRESHOLD);
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 27


1456:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           }
1457:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         }
1458:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         else
1459:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         {
1460:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           (*(uint8_t *)hspi->pRxBuffPtr) = *(__IO uint8_t *)&hspi->Instance->DR;
1461:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           hspi->pRxBuffPtr++;
1462:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           hspi->RxXferCount--;
1463:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         }
1464:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         /* Next Data is a Transmission (Tx). Tx is allowed */
1465:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         txallowed = 1U;
1466:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       }
1467:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       if ((((HAL_GetTick() - tickstart) >=  Timeout) && ((Timeout != HAL_MAX_DELAY))) || (Timeout =
1468:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       {
1469:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         errorcode = HAL_TIMEOUT;
1470:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         goto error;
1471:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       }
1472:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
1473:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
1474:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
1475:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
1476:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Read CRC from DR to close CRC calculation process */
1477:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if (hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
1478:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
1479:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* Wait until TXE flag */
1480:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     if (SPI_WaitFlagStateUntilTimeout(hspi, SPI_FLAG_RXNE, SET, Timeout, tickstart) != HAL_OK)
1481:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
1482:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       /* Error on the CRC reception */
1483:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_CRC);
1484:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       errorcode = HAL_TIMEOUT;
1485:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       goto error;
1486:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
1487:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* Read CRC */
1488:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     if (hspi->Init.DataSize == SPI_DATASIZE_16BIT)
1489:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
1490:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       /* Read 16bit CRC */
1491:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       tmpreg = READ_REG(hspi->Instance->DR);
1492:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       /* To avoid GCC warning */
1493:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       UNUSED(tmpreg);
1494:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
1495:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     else
1496:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
1497:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       /* Read 8bit CRC */
1498:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       tmpreg = READ_REG(*(__IO uint8_t *)&hspi->Instance->DR);
1499:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       /* To avoid GCC warning */
1500:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       UNUSED(tmpreg);
1501:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
1502:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       if (hspi->Init.CRCLength == SPI_CRC_LENGTH_16BIT)
1503:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       {
1504:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         if (SPI_WaitFlagStateUntilTimeout(hspi, SPI_FLAG_RXNE, SET, Timeout, tickstart) != HAL_OK)
1505:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         {
1506:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           /* Error on the CRC reception */
1507:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_CRC);
1508:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           errorcode = HAL_TIMEOUT;
1509:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           goto error;
1510:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         }
1511:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         /* Read 8bit CRC again in case of 16bit CRC in 8bit Data mode */
1512:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         tmpreg = READ_REG(*(__IO uint8_t *)&hspi->Instance->DR);
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 28


1513:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         /* To avoid GCC warning */
1514:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         UNUSED(tmpreg);
1515:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       }
1516:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
1517:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
1518:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
1519:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Check if CRC error occurred */
1520:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if (__HAL_SPI_GET_FLAG(hspi, SPI_FLAG_CRCERR))
1521:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
1522:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_CRC);
1523:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* Clear CRC Flag */
1524:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     __HAL_SPI_CLEAR_CRCERRFLAG(hspi);
1525:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
1526:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     errorcode = HAL_ERROR;
1527:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
1528:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #endif /* USE_SPI_CRC */
1529:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
1530:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Check the end of the transaction */
1531:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if (SPI_EndRxTxTransaction(hspi, Timeout, tickstart) != HAL_OK)
1532:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
1533:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     errorcode = HAL_ERROR;
1534:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     hspi->ErrorCode = HAL_SPI_ERROR_FLAG;
1535:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
1536:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
1537:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** error :
1538:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->State = HAL_SPI_STATE_READY;
1539:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   __HAL_UNLOCK(hspi);
1540:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   return errorcode;
1541:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** }
1542:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
1543:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** /**
1544:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @brief  Transmit an amount of data in non-blocking mode with Interrupt.
1545:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
1546:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   *               the configuration information for SPI module.
1547:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @param  pData pointer to data buffer
1548:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @param  Size amount of data to be sent
1549:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @retval HAL status
1550:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   */
1551:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** HAL_StatusTypeDef HAL_SPI_Transmit_IT(SPI_HandleTypeDef *hspi, uint8_t *pData, uint16_t Size)
1552:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** {
1553:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   HAL_StatusTypeDef errorcode = HAL_OK;
1554:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
1555:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Check Direction parameter */
1556:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   assert_param(IS_SPI_DIRECTION_2LINES_OR_1LINE(hspi->Init.Direction));
1557:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
1558:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Process Locked */
1559:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   __HAL_LOCK(hspi);
1560:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
1561:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if ((pData == NULL) || (Size == 0U))
1562:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
1563:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     errorcode = HAL_ERROR;
1564:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     goto error;
1565:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
1566:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
1567:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if (hspi->State != HAL_SPI_STATE_READY)
1568:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
1569:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     errorcode = HAL_BUSY;
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 29


1570:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     goto error;
1571:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
1572:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
1573:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Set the transaction information */
1574:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->State       = HAL_SPI_STATE_BUSY_TX;
1575:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->ErrorCode   = HAL_SPI_ERROR_NONE;
1576:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->pTxBuffPtr  = (uint8_t *)pData;
1577:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->TxXferSize  = Size;
1578:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->TxXferCount = Size;
1579:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
1580:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Init field not used in handle to zero */
1581:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->pRxBuffPtr  = (uint8_t *)NULL;
1582:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->RxXferSize  = 0U;
1583:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->RxXferCount = 0U;
1584:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->RxISR       = NULL;
1585:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
1586:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Set the function for IT treatment */
1587:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if (hspi->Init.DataSize > SPI_DATASIZE_8BIT)
1588:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
1589:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     hspi->TxISR = SPI_TxISR_16BIT;
1590:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
1591:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   else
1592:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
1593:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     hspi->TxISR = SPI_TxISR_8BIT;
1594:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
1595:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
1596:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Configure communication direction : 1Line */
1597:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if (hspi->Init.Direction == SPI_DIRECTION_1LINE)
1598:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
1599:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* Disable SPI Peripheral before set 1Line direction (BIDIOE bit) */
1600:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     __HAL_SPI_DISABLE(hspi);
1601:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     SPI_1LINE_TX(hspi);
1602:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
1603:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
1604:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
1605:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Reset CRC Calculation */
1606:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if (hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
1607:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
1608:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     SPI_RESET_CRC(hspi);
1609:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
1610:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #endif /* USE_SPI_CRC */
1611:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
1612:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Enable TXE and ERR interrupt */
1613:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   __HAL_SPI_ENABLE_IT(hspi, (SPI_IT_TXE | SPI_IT_ERR));
1614:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
1615:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
1616:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Check if the SPI is already enabled */
1617:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if ((hspi->Instance->CR1 & SPI_CR1_SPE) != SPI_CR1_SPE)
1618:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
1619:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* Enable SPI peripheral */
1620:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     __HAL_SPI_ENABLE(hspi);
1621:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
1622:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
1623:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** error :
1624:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   __HAL_UNLOCK(hspi);
1625:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   return errorcode;
1626:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** }
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 30


1627:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
1628:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** /**
1629:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @brief  Receive an amount of data in non-blocking mode with Interrupt.
1630:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
1631:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   *               the configuration information for SPI module.
1632:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @param  pData pointer to data buffer
1633:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @param  Size amount of data to be sent
1634:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @retval HAL status
1635:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   */
1636:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** HAL_StatusTypeDef HAL_SPI_Receive_IT(SPI_HandleTypeDef *hspi, uint8_t *pData, uint16_t Size)
1637:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** {
1638:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   HAL_StatusTypeDef errorcode = HAL_OK;
1639:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
1640:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if ((hspi->Init.Direction == SPI_DIRECTION_2LINES) && (hspi->Init.Mode == SPI_MODE_MASTER))
1641:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
1642:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     hspi->State = HAL_SPI_STATE_BUSY_RX;
1643:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* Call transmit-receive function to send Dummy data on Tx line and generate clock on CLK line 
1644:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     return HAL_SPI_TransmitReceive_IT(hspi, pData, pData, Size);
1645:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
1646:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
1647:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Process Locked */
1648:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   __HAL_LOCK(hspi);
1649:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
1650:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if (hspi->State != HAL_SPI_STATE_READY)
1651:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
1652:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     errorcode = HAL_BUSY;
1653:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     goto error;
1654:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
1655:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
1656:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if ((pData == NULL) || (Size == 0U))
1657:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
1658:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     errorcode = HAL_ERROR;
1659:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     goto error;
1660:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
1661:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
1662:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Set the transaction information */
1663:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->State       = HAL_SPI_STATE_BUSY_RX;
1664:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->ErrorCode   = HAL_SPI_ERROR_NONE;
1665:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->pRxBuffPtr  = (uint8_t *)pData;
1666:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->RxXferSize  = Size;
1667:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->RxXferCount = Size;
1668:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
1669:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Init field not used in handle to zero */
1670:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->pTxBuffPtr  = (uint8_t *)NULL;
1671:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->TxXferSize  = 0U;
1672:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->TxXferCount = 0U;
1673:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->TxISR       = NULL;
1674:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
1675:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Check the data size to adapt Rx threshold and the set the function for IT treatment */
1676:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if (hspi->Init.DataSize > SPI_DATASIZE_8BIT)
1677:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
1678:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* Set RX Fifo threshold according the reception data length: 16 bit */
1679:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     CLEAR_BIT(hspi->Instance->CR2, SPI_RXFIFO_THRESHOLD);
1680:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     hspi->RxISR = SPI_RxISR_16BIT;
1681:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
1682:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   else
1683:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 31


1684:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* Set RX Fifo threshold according the reception data length: 8 bit */
1685:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     SET_BIT(hspi->Instance->CR2, SPI_RXFIFO_THRESHOLD);
1686:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     hspi->RxISR = SPI_RxISR_8BIT;
1687:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
1688:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
1689:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Configure communication direction : 1Line */
1690:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if (hspi->Init.Direction == SPI_DIRECTION_1LINE)
1691:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
1692:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* Disable SPI Peripheral before set 1Line direction (BIDIOE bit) */
1693:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     __HAL_SPI_DISABLE(hspi);
1694:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     SPI_1LINE_RX(hspi);
1695:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
1696:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
1697:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
1698:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Reset CRC Calculation */
1699:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if (hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
1700:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
1701:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     hspi->CRCSize = 1U;
1702:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     if ((hspi->Init.DataSize <= SPI_DATASIZE_8BIT) && (hspi->Init.CRCLength == SPI_CRC_LENGTH_16BIT
1703:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
1704:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       hspi->CRCSize = 2U;
1705:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
1706:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     SPI_RESET_CRC(hspi);
1707:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
1708:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   else
1709:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
1710:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     hspi->CRCSize = 0U;
1711:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
1712:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #endif /* USE_SPI_CRC */
1713:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
1714:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Enable TXE and ERR interrupt */
1715:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   __HAL_SPI_ENABLE_IT(hspi, (SPI_IT_RXNE | SPI_IT_ERR));
1716:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
1717:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Note : The SPI must be enabled after unlocking current process
1718:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****             to avoid the risk of SPI interrupt handle execution before current
1719:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****             process unlock */
1720:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
1721:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Check if the SPI is already enabled */
1722:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if ((hspi->Instance->CR1 & SPI_CR1_SPE) != SPI_CR1_SPE)
1723:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
1724:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* Enable SPI peripheral */
1725:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     __HAL_SPI_ENABLE(hspi);
1726:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
1727:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
1728:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** error :
1729:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Process Unlocked */
1730:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   __HAL_UNLOCK(hspi);
1731:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   return errorcode;
1732:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** }
1733:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
1734:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** /**
1735:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @brief  Transmit and Receive an amount of data in non-blocking mode with Interrupt.
1736:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
1737:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   *               the configuration information for SPI module.
1738:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @param  pTxData pointer to transmission data buffer
1739:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @param  pRxData pointer to reception data buffer
1740:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @param  Size amount of data to be sent and received
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 32


1741:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @retval HAL status
1742:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   */
1743:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** HAL_StatusTypeDef HAL_SPI_TransmitReceive_IT(SPI_HandleTypeDef *hspi, uint8_t *pTxData, uint8_t *pR
1744:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** {
1745:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   uint32_t             tmp_mode;
1746:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   HAL_SPI_StateTypeDef tmp_state;
1747:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   HAL_StatusTypeDef    errorcode = HAL_OK;
1748:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
1749:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Check Direction parameter */
1750:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   assert_param(IS_SPI_DIRECTION_2LINES(hspi->Init.Direction));
1751:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
1752:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Process locked */
1753:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   __HAL_LOCK(hspi);
1754:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
1755:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Init temporary variables */
1756:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   tmp_state           = hspi->State;
1757:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   tmp_mode            = hspi->Init.Mode;
1758:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
1759:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if (!((tmp_state == HAL_SPI_STATE_READY) || \
1760:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         ((tmp_mode == SPI_MODE_MASTER) && (hspi->Init.Direction == SPI_DIRECTION_2LINES) && (tmp_st
1761:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
1762:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     errorcode = HAL_BUSY;
1763:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     goto error;
1764:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
1765:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
1766:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if ((pTxData == NULL) || (pRxData == NULL) || (Size == 0U))
1767:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
1768:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     errorcode = HAL_ERROR;
1769:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     goto error;
1770:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
1771:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
1772:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Don't overwrite in case of HAL_SPI_STATE_BUSY_RX */
1773:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if (hspi->State != HAL_SPI_STATE_BUSY_RX)
1774:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
1775:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     hspi->State = HAL_SPI_STATE_BUSY_TX_RX;
1776:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
1777:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
1778:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Set the transaction information */
1779:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->ErrorCode   = HAL_SPI_ERROR_NONE;
1780:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->pTxBuffPtr  = (uint8_t *)pTxData;
1781:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->TxXferSize  = Size;
1782:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->TxXferCount = Size;
1783:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->pRxBuffPtr  = (uint8_t *)pRxData;
1784:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->RxXferSize  = Size;
1785:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->RxXferCount = Size;
1786:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
1787:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Set the function for IT treatment */
1788:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if (hspi->Init.DataSize > SPI_DATASIZE_8BIT)
1789:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
1790:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     hspi->RxISR     = SPI_2linesRxISR_16BIT;
1791:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     hspi->TxISR     = SPI_2linesTxISR_16BIT;
1792:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
1793:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   else
1794:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
1795:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     hspi->RxISR     = SPI_2linesRxISR_8BIT;
1796:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     hspi->TxISR     = SPI_2linesTxISR_8BIT;
1797:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 33


1798:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
1799:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
1800:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Reset CRC Calculation */
1801:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if (hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
1802:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
1803:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     hspi->CRCSize = 1U;
1804:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     if ((hspi->Init.DataSize <= SPI_DATASIZE_8BIT) && (hspi->Init.CRCLength == SPI_CRC_LENGTH_16BIT
1805:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
1806:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       hspi->CRCSize = 2U;
1807:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
1808:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     SPI_RESET_CRC(hspi);
1809:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
1810:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   else
1811:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
1812:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     hspi->CRCSize = 0U;
1813:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
1814:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #endif /* USE_SPI_CRC */
1815:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
1816:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Check if packing mode is enabled and if there is more than 2 data to receive */
1817:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if ((hspi->Init.DataSize > SPI_DATASIZE_8BIT) || (Size >= 2U))
1818:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
1819:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* Set RX Fifo threshold according the reception data length: 16 bit */
1820:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     CLEAR_BIT(hspi->Instance->CR2, SPI_RXFIFO_THRESHOLD);
1821:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
1822:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   else
1823:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
1824:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* Set RX Fifo threshold according the reception data length: 8 bit */
1825:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     SET_BIT(hspi->Instance->CR2, SPI_RXFIFO_THRESHOLD);
1826:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
1827:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
1828:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Enable TXE, RXNE and ERR interrupt */
1829:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   __HAL_SPI_ENABLE_IT(hspi, (SPI_IT_TXE | SPI_IT_RXNE | SPI_IT_ERR));
1830:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
1831:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Check if the SPI is already enabled */
1832:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if ((hspi->Instance->CR1 & SPI_CR1_SPE) != SPI_CR1_SPE)
1833:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
1834:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* Enable SPI peripheral */
1835:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     __HAL_SPI_ENABLE(hspi);
1836:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
1837:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
1838:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** error :
1839:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Process Unlocked */
1840:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   __HAL_UNLOCK(hspi);
1841:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   return errorcode;
1842:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** }
1843:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
1844:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** /**
1845:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @brief  Transmit an amount of data in non-blocking mode with DMA.
1846:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
1847:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   *               the configuration information for SPI module.
1848:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @param  pData pointer to data buffer
1849:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @param  Size amount of data to be sent
1850:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @retval HAL status
1851:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   */
1852:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** HAL_StatusTypeDef HAL_SPI_Transmit_DMA(SPI_HandleTypeDef *hspi, uint8_t *pData, uint16_t Size)
1853:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** {
1854:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   HAL_StatusTypeDef errorcode = HAL_OK;
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 34


1855:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
1856:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Check tx dma handle */
1857:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   assert_param(IS_SPI_DMA_HANDLE(hspi->hdmatx));
1858:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
1859:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Check Direction parameter */
1860:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   assert_param(IS_SPI_DIRECTION_2LINES_OR_1LINE(hspi->Init.Direction));
1861:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
1862:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Process Locked */
1863:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   __HAL_LOCK(hspi);
1864:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
1865:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if (hspi->State != HAL_SPI_STATE_READY)
1866:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
1867:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     errorcode = HAL_BUSY;
1868:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     goto error;
1869:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
1870:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
1871:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if ((pData == NULL) || (Size == 0U))
1872:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
1873:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     errorcode = HAL_ERROR;
1874:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     goto error;
1875:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
1876:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
1877:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Set the transaction information */
1878:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->State       = HAL_SPI_STATE_BUSY_TX;
1879:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->ErrorCode   = HAL_SPI_ERROR_NONE;
1880:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->pTxBuffPtr  = (uint8_t *)pData;
1881:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->TxXferSize  = Size;
1882:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->TxXferCount = Size;
1883:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
1884:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Init field not used in handle to zero */
1885:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->pRxBuffPtr  = (uint8_t *)NULL;
1886:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->TxISR       = NULL;
1887:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->RxISR       = NULL;
1888:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->RxXferSize  = 0U;
1889:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->RxXferCount = 0U;
1890:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
1891:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Configure communication direction : 1Line */
1892:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if (hspi->Init.Direction == SPI_DIRECTION_1LINE)
1893:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
1894:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* Disable SPI Peripheral before set 1Line direction (BIDIOE bit) */
1895:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     __HAL_SPI_DISABLE(hspi);
1896:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     SPI_1LINE_TX(hspi);
1897:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
1898:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
1899:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
1900:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Reset CRC Calculation */
1901:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if (hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
1902:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
1903:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     SPI_RESET_CRC(hspi);
1904:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
1905:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #endif /* USE_SPI_CRC */
1906:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
1907:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Set the SPI TxDMA Half transfer complete callback */
1908:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->hdmatx->XferHalfCpltCallback = SPI_DMAHalfTransmitCplt;
1909:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
1910:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Set the SPI TxDMA transfer complete callback */
1911:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->hdmatx->XferCpltCallback = SPI_DMATransmitCplt;
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 35


1912:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
1913:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Set the DMA error callback */
1914:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->hdmatx->XferErrorCallback = SPI_DMAError;
1915:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
1916:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Set the DMA AbortCpltCallback */
1917:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->hdmatx->XferAbortCallback = NULL;
1918:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
1919:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   CLEAR_BIT(hspi->Instance->CR2, SPI_CR2_LDMATX);
1920:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Packing mode is enabled only if the DMA setting is HALWORD */
1921:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if ((hspi->Init.DataSize <= SPI_DATASIZE_8BIT) && (hspi->hdmatx->Init.MemDataAlignment == DMA_MDA
1922:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
1923:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* Check the even/odd of the data size + crc if enabled */
1924:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     if ((hspi->TxXferCount & 0x1U) == 0U)
1925:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
1926:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       CLEAR_BIT(hspi->Instance->CR2, SPI_CR2_LDMATX);
1927:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       hspi->TxXferCount = (hspi->TxXferCount >> 1U);
1928:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
1929:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     else
1930:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
1931:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       SET_BIT(hspi->Instance->CR2, SPI_CR2_LDMATX);
1932:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       hspi->TxXferCount = (hspi->TxXferCount >> 1U) + 1U;
1933:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
1934:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
1935:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
1936:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Enable the Tx DMA Stream/Channel */
1937:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if (HAL_OK != HAL_DMA_Start_IT(hspi->hdmatx, (uint32_t)hspi->pTxBuffPtr, (uint32_t)&hspi->Instanc
1938:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****                                  hspi->TxXferCount))
1939:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
1940:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* Update SPI error code */
1941:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_DMA);
1942:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     errorcode = HAL_ERROR;
1943:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
1944:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     hspi->State = HAL_SPI_STATE_READY;
1945:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     goto error;
1946:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
1947:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
1948:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Check if the SPI is already enabled */
1949:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if ((hspi->Instance->CR1 & SPI_CR1_SPE) != SPI_CR1_SPE)
1950:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
1951:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* Enable SPI peripheral */
1952:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     __HAL_SPI_ENABLE(hspi);
1953:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
1954:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
1955:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Enable the SPI Error Interrupt Bit */
1956:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   __HAL_SPI_ENABLE_IT(hspi, (SPI_IT_ERR));
1957:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
1958:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Enable Tx DMA Request */
1959:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   SET_BIT(hspi->Instance->CR2, SPI_CR2_TXDMAEN);
1960:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
1961:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** error :
1962:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Process Unlocked */
1963:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   __HAL_UNLOCK(hspi);
1964:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   return errorcode;
1965:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** }
1966:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
1967:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** /**
1968:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @brief  Receive an amount of data in non-blocking mode with DMA.
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 36


1969:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @note   In case of MASTER mode and SPI_DIRECTION_2LINES direction, hdmatx shall be defined.
1970:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
1971:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   *               the configuration information for SPI module.
1972:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @param  pData pointer to data buffer
1973:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @note   When the CRC feature is enabled the pData Length must be Size + 1.
1974:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @param  Size amount of data to be sent
1975:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @retval HAL status
1976:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   */
1977:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** HAL_StatusTypeDef HAL_SPI_Receive_DMA(SPI_HandleTypeDef *hspi, uint8_t *pData, uint16_t Size)
1978:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** {
1979:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   HAL_StatusTypeDef errorcode = HAL_OK;
1980:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
1981:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Check rx dma handle */
1982:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   assert_param(IS_SPI_DMA_HANDLE(hspi->hdmarx));
1983:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
1984:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if ((hspi->Init.Direction == SPI_DIRECTION_2LINES) && (hspi->Init.Mode == SPI_MODE_MASTER))
1985:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
1986:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     hspi->State = HAL_SPI_STATE_BUSY_RX;
1987:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
1988:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* Check tx dma handle */
1989:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     assert_param(IS_SPI_DMA_HANDLE(hspi->hdmatx));
1990:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
1991:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* Call transmit-receive function to send Dummy data on Tx line and generate clock on CLK line 
1992:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     return HAL_SPI_TransmitReceive_DMA(hspi, pData, pData, Size);
1993:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
1994:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
1995:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Process Locked */
1996:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   __HAL_LOCK(hspi);
1997:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
1998:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if (hspi->State != HAL_SPI_STATE_READY)
1999:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
2000:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     errorcode = HAL_BUSY;
2001:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     goto error;
2002:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
2003:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
2004:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if ((pData == NULL) || (Size == 0U))
2005:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
2006:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     errorcode = HAL_ERROR;
2007:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     goto error;
2008:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
2009:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
2010:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Set the transaction information */
2011:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->State       = HAL_SPI_STATE_BUSY_RX;
2012:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->ErrorCode   = HAL_SPI_ERROR_NONE;
2013:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->pRxBuffPtr  = (uint8_t *)pData;
2014:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->RxXferSize  = Size;
2015:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->RxXferCount = Size;
2016:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
2017:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /*Init field not used in handle to zero */
2018:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->RxISR       = NULL;
2019:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->TxISR       = NULL;
2020:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->TxXferSize  = 0U;
2021:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->TxXferCount = 0U;
2022:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
2023:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Configure communication direction : 1Line */
2024:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if (hspi->Init.Direction == SPI_DIRECTION_1LINE)
2025:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 37


2026:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* Disable SPI Peripheral before set 1Line direction (BIDIOE bit) */
2027:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     __HAL_SPI_DISABLE(hspi);
2028:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     SPI_1LINE_RX(hspi);
2029:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
2030:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
2031:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
2032:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Reset CRC Calculation */
2033:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if (hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
2034:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
2035:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     SPI_RESET_CRC(hspi);
2036:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
2037:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #endif /* USE_SPI_CRC */
2038:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
2039:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
2040:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   CLEAR_BIT(hspi->Instance->CR2, SPI_CR2_LDMARX);
2041:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if (hspi->Init.DataSize > SPI_DATASIZE_8BIT)
2042:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
2043:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* Set RX Fifo threshold according the reception data length: 16bit */
2044:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     CLEAR_BIT(hspi->Instance->CR2, SPI_RXFIFO_THRESHOLD);
2045:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
2046:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   else
2047:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
2048:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* Set RX Fifo threshold according the reception data length: 8bit */
2049:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     SET_BIT(hspi->Instance->CR2, SPI_RXFIFO_THRESHOLD);
2050:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
2051:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     if (hspi->hdmarx->Init.MemDataAlignment == DMA_MDATAALIGN_HALFWORD)
2052:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
2053:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       /* Set RX Fifo threshold according the reception data length: 16bit */
2054:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       CLEAR_BIT(hspi->Instance->CR2, SPI_RXFIFO_THRESHOLD);
2055:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
2056:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       if ((hspi->RxXferCount & 0x1U) == 0x0U)
2057:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       {
2058:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         CLEAR_BIT(hspi->Instance->CR2, SPI_CR2_LDMARX);
2059:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         hspi->RxXferCount = hspi->RxXferCount >> 1U;
2060:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       }
2061:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       else
2062:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       {
2063:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         SET_BIT(hspi->Instance->CR2, SPI_CR2_LDMARX);
2064:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         hspi->RxXferCount = (hspi->RxXferCount >> 1U) + 1U;
2065:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       }
2066:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
2067:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
2068:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
2069:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Set the SPI RxDMA Half transfer complete callback */
2070:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->hdmarx->XferHalfCpltCallback = SPI_DMAHalfReceiveCplt;
2071:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
2072:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Set the SPI Rx DMA transfer complete callback */
2073:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->hdmarx->XferCpltCallback = SPI_DMAReceiveCplt;
2074:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
2075:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Set the DMA error callback */
2076:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->hdmarx->XferErrorCallback = SPI_DMAError;
2077:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
2078:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Set the DMA AbortCpltCallback */
2079:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->hdmarx->XferAbortCallback = NULL;
2080:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
2081:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Enable the Rx DMA Stream/Channel  */
2082:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if (HAL_OK != HAL_DMA_Start_IT(hspi->hdmarx, (uint32_t)&hspi->Instance->DR, (uint32_t)hspi->pRxBu
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 38


2083:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****                                  hspi->RxXferCount))
2084:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
2085:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* Update SPI error code */
2086:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_DMA);
2087:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     errorcode = HAL_ERROR;
2088:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
2089:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     hspi->State = HAL_SPI_STATE_READY;
2090:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     goto error;
2091:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
2092:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
2093:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Check if the SPI is already enabled */
2094:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if ((hspi->Instance->CR1 & SPI_CR1_SPE) != SPI_CR1_SPE)
2095:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
2096:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* Enable SPI peripheral */
2097:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     __HAL_SPI_ENABLE(hspi);
2098:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
2099:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
2100:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Enable the SPI Error Interrupt Bit */
2101:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   __HAL_SPI_ENABLE_IT(hspi, (SPI_IT_ERR));
2102:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
2103:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Enable Rx DMA Request */
2104:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   SET_BIT(hspi->Instance->CR2, SPI_CR2_RXDMAEN);
2105:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
2106:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** error:
2107:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Process Unlocked */
2108:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   __HAL_UNLOCK(hspi);
2109:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   return errorcode;
2110:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** }
2111:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
2112:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** /**
2113:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @brief  Transmit and Receive an amount of data in non-blocking mode with DMA.
2114:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
2115:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   *               the configuration information for SPI module.
2116:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @param  pTxData pointer to transmission data buffer
2117:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @param  pRxData pointer to reception data buffer
2118:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @note   When the CRC feature is enabled the pRxData Length must be Size + 1
2119:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @param  Size amount of data to be sent
2120:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @retval HAL status
2121:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   */
2122:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** HAL_StatusTypeDef HAL_SPI_TransmitReceive_DMA(SPI_HandleTypeDef *hspi, uint8_t *pTxData, uint8_t *p
2123:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****                                               uint16_t Size)
2124:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** {
2125:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   uint32_t             tmp_mode;
2126:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   HAL_SPI_StateTypeDef tmp_state;
2127:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   HAL_StatusTypeDef errorcode = HAL_OK;
2128:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
2129:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Check rx & tx dma handles */
2130:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   assert_param(IS_SPI_DMA_HANDLE(hspi->hdmarx));
2131:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   assert_param(IS_SPI_DMA_HANDLE(hspi->hdmatx));
2132:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
2133:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Check Direction parameter */
2134:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   assert_param(IS_SPI_DIRECTION_2LINES(hspi->Init.Direction));
2135:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
2136:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Process locked */
2137:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   __HAL_LOCK(hspi);
2138:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
2139:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Init temporary variables */
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 39


2140:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   tmp_state           = hspi->State;
2141:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   tmp_mode            = hspi->Init.Mode;
2142:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
2143:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if (!((tmp_state == HAL_SPI_STATE_READY) ||
2144:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         ((tmp_mode == SPI_MODE_MASTER) && (hspi->Init.Direction == SPI_DIRECTION_2LINES) && (tmp_st
2145:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
2146:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     errorcode = HAL_BUSY;
2147:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     goto error;
2148:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
2149:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
2150:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if ((pTxData == NULL) || (pRxData == NULL) || (Size == 0U))
2151:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
2152:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     errorcode = HAL_ERROR;
2153:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     goto error;
2154:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
2155:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
2156:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Don't overwrite in case of HAL_SPI_STATE_BUSY_RX */
2157:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if (hspi->State != HAL_SPI_STATE_BUSY_RX)
2158:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
2159:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     hspi->State = HAL_SPI_STATE_BUSY_TX_RX;
2160:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
2161:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
2162:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Set the transaction information */
2163:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->ErrorCode   = HAL_SPI_ERROR_NONE;
2164:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->pTxBuffPtr  = (uint8_t *)pTxData;
2165:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->TxXferSize  = Size;
2166:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->TxXferCount = Size;
2167:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->pRxBuffPtr  = (uint8_t *)pRxData;
2168:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->RxXferSize  = Size;
2169:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->RxXferCount = Size;
2170:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
2171:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Init field not used in handle to zero */
2172:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->RxISR       = NULL;
2173:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->TxISR       = NULL;
2174:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
2175:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
2176:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Reset CRC Calculation */
2177:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if (hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
2178:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
2179:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     SPI_RESET_CRC(hspi);
2180:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
2181:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #endif /* USE_SPI_CRC */
2182:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
2183:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Reset the threshold bit */
2184:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   CLEAR_BIT(hspi->Instance->CR2, SPI_CR2_LDMATX | SPI_CR2_LDMARX);
2185:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
2186:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* The packing mode management is enabled by the DMA settings according the spi data size */
2187:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if (hspi->Init.DataSize > SPI_DATASIZE_8BIT)
2188:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
2189:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* Set fiforxthreshold according the reception data length: 16bit */
2190:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     CLEAR_BIT(hspi->Instance->CR2, SPI_RXFIFO_THRESHOLD);
2191:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
2192:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   else
2193:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
2194:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* Set RX Fifo threshold according the reception data length: 8bit */
2195:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     SET_BIT(hspi->Instance->CR2, SPI_RXFIFO_THRESHOLD);
2196:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 40


2197:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     if (hspi->hdmatx->Init.MemDataAlignment == DMA_MDATAALIGN_HALFWORD)
2198:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
2199:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       if ((hspi->TxXferSize & 0x1U) == 0x0U)
2200:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       {
2201:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         CLEAR_BIT(hspi->Instance->CR2, SPI_CR2_LDMATX);
2202:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         hspi->TxXferCount = hspi->TxXferCount >> 1U;
2203:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       }
2204:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       else
2205:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       {
2206:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         SET_BIT(hspi->Instance->CR2, SPI_CR2_LDMATX);
2207:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         hspi->TxXferCount = (hspi->TxXferCount >> 1U) + 1U;
2208:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       }
2209:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
2210:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
2211:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     if (hspi->hdmarx->Init.MemDataAlignment == DMA_MDATAALIGN_HALFWORD)
2212:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
2213:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       /* Set RX Fifo threshold according the reception data length: 16bit */
2214:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       CLEAR_BIT(hspi->Instance->CR2, SPI_RXFIFO_THRESHOLD);
2215:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
2216:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       if ((hspi->RxXferCount & 0x1U) == 0x0U)
2217:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       {
2218:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         CLEAR_BIT(hspi->Instance->CR2, SPI_CR2_LDMARX);
2219:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         hspi->RxXferCount = hspi->RxXferCount >> 1U;
2220:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       }
2221:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       else
2222:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       {
2223:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         SET_BIT(hspi->Instance->CR2, SPI_CR2_LDMARX);
2224:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         hspi->RxXferCount = (hspi->RxXferCount >> 1U) + 1U;
2225:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       }
2226:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
2227:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
2228:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
2229:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Check if we are in Rx only or in Rx/Tx Mode and configure the DMA transfer complete callback *
2230:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if (hspi->State == HAL_SPI_STATE_BUSY_RX)
2231:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
2232:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* Set the SPI Rx DMA Half transfer complete callback */
2233:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     hspi->hdmarx->XferHalfCpltCallback = SPI_DMAHalfReceiveCplt;
2234:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     hspi->hdmarx->XferCpltCallback     = SPI_DMAReceiveCplt;
2235:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
2236:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   else
2237:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
2238:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* Set the SPI Tx/Rx DMA Half transfer complete callback */
2239:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     hspi->hdmarx->XferHalfCpltCallback = SPI_DMAHalfTransmitReceiveCplt;
2240:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     hspi->hdmarx->XferCpltCallback     = SPI_DMATransmitReceiveCplt;
2241:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
2242:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
2243:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Set the DMA error callback */
2244:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->hdmarx->XferErrorCallback = SPI_DMAError;
2245:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
2246:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Set the DMA AbortCpltCallback */
2247:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->hdmarx->XferAbortCallback = NULL;
2248:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
2249:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Enable the Rx DMA Stream/Channel  */
2250:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if (HAL_OK != HAL_DMA_Start_IT(hspi->hdmarx, (uint32_t)&hspi->Instance->DR, (uint32_t)hspi->pRxBu
2251:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****                                  hspi->RxXferCount))
2252:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
2253:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* Update SPI error code */
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 41


2254:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_DMA);
2255:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     errorcode = HAL_ERROR;
2256:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
2257:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     hspi->State = HAL_SPI_STATE_READY;
2258:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     goto error;
2259:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
2260:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
2261:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Enable Rx DMA Request */
2262:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   SET_BIT(hspi->Instance->CR2, SPI_CR2_RXDMAEN);
2263:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
2264:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Set the SPI Tx DMA transfer complete callback as NULL because the communication closing
2265:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   is performed in DMA reception complete callback  */
2266:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->hdmatx->XferHalfCpltCallback = NULL;
2267:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->hdmatx->XferCpltCallback     = NULL;
2268:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->hdmatx->XferErrorCallback    = NULL;
2269:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->hdmatx->XferAbortCallback    = NULL;
2270:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
2271:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Enable the Tx DMA Stream/Channel  */
2272:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if (HAL_OK != HAL_DMA_Start_IT(hspi->hdmatx, (uint32_t)hspi->pTxBuffPtr, (uint32_t)&hspi->Instanc
2273:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****                                  hspi->TxXferCount))
2274:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
2275:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* Update SPI error code */
2276:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_DMA);
2277:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     errorcode = HAL_ERROR;
2278:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
2279:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     hspi->State = HAL_SPI_STATE_READY;
2280:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     goto error;
2281:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
2282:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
2283:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Check if the SPI is already enabled */
2284:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if ((hspi->Instance->CR1 & SPI_CR1_SPE) != SPI_CR1_SPE)
2285:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
2286:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* Enable SPI peripheral */
2287:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     __HAL_SPI_ENABLE(hspi);
2288:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
2289:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Enable the SPI Error Interrupt Bit */
2290:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   __HAL_SPI_ENABLE_IT(hspi, (SPI_IT_ERR));
2291:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
2292:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Enable Tx DMA Request */
2293:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   SET_BIT(hspi->Instance->CR2, SPI_CR2_TXDMAEN);
2294:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
2295:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** error :
2296:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Process Unlocked */
2297:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   __HAL_UNLOCK(hspi);
2298:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   return errorcode;
2299:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** }
2300:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
2301:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** /**
2302:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @brief  Abort ongoing transfer (blocking mode).
2303:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @param  hspi SPI handle.
2304:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @note   This procedure could be used for aborting any ongoing transfer (Tx and Rx),
2305:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   *         started in Interrupt or DMA mode.
2306:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   *         This procedure performs following operations :
2307:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   *           - Disable SPI Interrupts (depending of transfer direction)
2308:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   *           - Disable the DMA transfer in the peripheral register (if enabled)
2309:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   *           - Abort DMA transfer by calling HAL_DMA_Abort (in case of transfer in DMA mode)
2310:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   *           - Set handle State to READY
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 42


2311:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @note   This procedure is executed in blocking mode : when exiting function, Abort is considere
2312:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @retval HAL status
2313:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   */
2314:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** HAL_StatusTypeDef HAL_SPI_Abort(SPI_HandleTypeDef *hspi)
2315:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** {
2316:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   HAL_StatusTypeDef errorcode;
2317:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   __IO uint32_t count;
2318:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   __IO uint32_t resetcount;
2319:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
2320:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Initialized local variable  */
2321:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   errorcode = HAL_OK;
2322:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   resetcount = SPI_DEFAULT_TIMEOUT * (SystemCoreClock / 24U / 1000U);
2323:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   count = resetcount;
2324:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
2325:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Clear ERRIE interrupt to avoid error interrupts generation during Abort procedure */
2326:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   CLEAR_BIT(hspi->Instance->CR2, SPI_CR2_ERRIE);
2327:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
2328:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Disable TXEIE, RXNEIE and ERRIE(mode fault event, overrun error, TI frame error) interrupts */
2329:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if (HAL_IS_BIT_SET(hspi->Instance->CR2, SPI_CR2_TXEIE))
2330:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
2331:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     hspi->TxISR = SPI_AbortTx_ISR;
2332:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* Wait HAL_SPI_STATE_ABORT state */
2333:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     do
2334:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
2335:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       if (count == 0U)
2336:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       {
2337:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_ABORT);
2338:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         break;
2339:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       }
2340:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       count--;
2341:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     } while (hspi->State != HAL_SPI_STATE_ABORT);
2342:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* Reset Timeout Counter */
2343:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     count = resetcount;
2344:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
2345:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
2346:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if (HAL_IS_BIT_SET(hspi->Instance->CR2, SPI_CR2_RXNEIE))
2347:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
2348:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     hspi->RxISR = SPI_AbortRx_ISR;
2349:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* Wait HAL_SPI_STATE_ABORT state */
2350:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     do
2351:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
2352:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       if (count == 0U)
2353:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       {
2354:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_ABORT);
2355:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         break;
2356:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       }
2357:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       count--;
2358:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     } while (hspi->State != HAL_SPI_STATE_ABORT);
2359:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* Reset Timeout Counter */
2360:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     count = resetcount;
2361:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
2362:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
2363:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Disable the SPI DMA Tx request if enabled */
2364:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if (HAL_IS_BIT_SET(hspi->Instance->CR2, SPI_CR2_TXDMAEN))
2365:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
2366:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* Abort the SPI DMA Tx Stream/Channel : use blocking DMA Abort API (no callback) */
2367:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     if (hspi->hdmatx != NULL)
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 43


2368:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
2369:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       /* Set the SPI DMA Abort callback :
2370:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       will lead to call HAL_SPI_AbortCpltCallback() at end of DMA abort procedure */
2371:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       hspi->hdmatx->XferAbortCallback = NULL;
2372:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
2373:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       /* Abort DMA Tx Handle linked to SPI Peripheral */
2374:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       if (HAL_DMA_Abort(hspi->hdmatx) != HAL_OK)
2375:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       {
2376:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         hspi->ErrorCode = HAL_SPI_ERROR_ABORT;
2377:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       }
2378:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
2379:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       /* Disable Tx DMA Request */
2380:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       CLEAR_BIT(hspi->Instance->CR2, (SPI_CR2_TXDMAEN));
2381:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
2382:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       if (SPI_EndRxTxTransaction(hspi, SPI_DEFAULT_TIMEOUT, HAL_GetTick()) != HAL_OK)
2383:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       {
2384:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         hspi->ErrorCode = HAL_SPI_ERROR_ABORT;
2385:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       }
2386:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
2387:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       /* Disable SPI Peripheral */
2388:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       __HAL_SPI_DISABLE(hspi);
2389:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
2390:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       /* Empty the FRLVL fifo */
2391:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       if (SPI_WaitFifoStateUntilTimeout(hspi, SPI_FLAG_FRLVL, SPI_FRLVL_EMPTY, SPI_DEFAULT_TIMEOUT,
2392:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       {
2393:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         hspi->ErrorCode = HAL_SPI_ERROR_ABORT;
2394:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       }
2395:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
2396:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
2397:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
2398:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Disable the SPI DMA Rx request if enabled */
2399:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if (HAL_IS_BIT_SET(hspi->Instance->CR2, SPI_CR2_RXDMAEN))
2400:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
2401:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* Abort the SPI DMA Rx Stream/Channel : use blocking DMA Abort API (no callback) */
2402:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     if (hspi->hdmarx != NULL)
2403:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
2404:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       /* Set the SPI DMA Abort callback :
2405:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       will lead to call HAL_SPI_AbortCpltCallback() at end of DMA abort procedure */
2406:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       hspi->hdmarx->XferAbortCallback = NULL;
2407:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
2408:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       /* Abort DMA Rx Handle linked to SPI Peripheral */
2409:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       if (HAL_DMA_Abort(hspi->hdmarx) != HAL_OK)
2410:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       {
2411:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         hspi->ErrorCode = HAL_SPI_ERROR_ABORT;
2412:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       }
2413:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
2414:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       /* Disable peripheral */
2415:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       __HAL_SPI_DISABLE(hspi);
2416:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
2417:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       /* Control the BSY flag */
2418:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       if (SPI_WaitFlagStateUntilTimeout(hspi, SPI_FLAG_BSY, RESET, SPI_DEFAULT_TIMEOUT, HAL_GetTick
2419:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       {
2420:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         hspi->ErrorCode = HAL_SPI_ERROR_ABORT;
2421:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       }
2422:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
2423:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       /* Empty the FRLVL fifo */
2424:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       if (SPI_WaitFifoStateUntilTimeout(hspi, SPI_FLAG_FRLVL, SPI_FRLVL_EMPTY, SPI_DEFAULT_TIMEOUT,
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 44


2425:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       {
2426:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         hspi->ErrorCode = HAL_SPI_ERROR_ABORT;
2427:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       }
2428:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
2429:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       /* Disable Rx DMA Request */
2430:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       CLEAR_BIT(hspi->Instance->CR2, (SPI_CR2_RXDMAEN));
2431:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
2432:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
2433:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Reset Tx and Rx transfer counters */
2434:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->RxXferCount = 0U;
2435:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->TxXferCount = 0U;
2436:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
2437:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Check error during Abort procedure */
2438:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if (hspi->ErrorCode == HAL_SPI_ERROR_ABORT)
2439:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
2440:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* return HAL_Error in case of error during Abort procedure */
2441:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     errorcode = HAL_ERROR;
2442:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
2443:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   else
2444:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
2445:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* Reset errorCode */
2446:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     hspi->ErrorCode = HAL_SPI_ERROR_NONE;
2447:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
2448:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
2449:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Clear the Error flags in the SR register */
2450:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   __HAL_SPI_CLEAR_OVRFLAG(hspi);
2451:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   __HAL_SPI_CLEAR_FREFLAG(hspi);
2452:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
2453:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Restore hspi->state to ready */
2454:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->State = HAL_SPI_STATE_READY;
2455:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
2456:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   return errorcode;
2457:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** }
2458:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
2459:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** /**
2460:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @brief  Abort ongoing transfer (Interrupt mode).
2461:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @param  hspi SPI handle.
2462:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @note   This procedure could be used for aborting any ongoing transfer (Tx and Rx),
2463:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   *         started in Interrupt or DMA mode.
2464:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   *         This procedure performs following operations :
2465:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   *           - Disable SPI Interrupts (depending of transfer direction)
2466:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   *           - Disable the DMA transfer in the peripheral register (if enabled)
2467:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   *           - Abort DMA transfer by calling HAL_DMA_Abort_IT (in case of transfer in DMA mode)
2468:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   *           - Set handle State to READY
2469:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   *           - At abort completion, call user abort complete callback
2470:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @note   This procedure is executed in Interrupt mode, meaning that abort procedure could be
2471:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   *         considered as completed only when user abort complete callback is executed (not when ex
2472:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @retval HAL status
2473:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   */
2474:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** HAL_StatusTypeDef HAL_SPI_Abort_IT(SPI_HandleTypeDef *hspi)
2475:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** {
2476:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   HAL_StatusTypeDef errorcode;
2477:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   uint32_t abortcplt ;
2478:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   __IO uint32_t count;
2479:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   __IO uint32_t resetcount;
2480:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
2481:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Initialized local variable  */
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 45


2482:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   errorcode = HAL_OK;
2483:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   abortcplt = 1U;
2484:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   resetcount = SPI_DEFAULT_TIMEOUT * (SystemCoreClock / 24U / 1000U);
2485:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   count = resetcount;
2486:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
2487:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Clear ERRIE interrupt to avoid error interrupts generation during Abort procedure */
2488:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   CLEAR_BIT(hspi->Instance->CR2, SPI_CR2_ERRIE);
2489:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
2490:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Change Rx and Tx Irq Handler to Disable TXEIE, RXNEIE and ERRIE interrupts */
2491:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if (HAL_IS_BIT_SET(hspi->Instance->CR2, SPI_CR2_TXEIE))
2492:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
2493:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     hspi->TxISR = SPI_AbortTx_ISR;
2494:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* Wait HAL_SPI_STATE_ABORT state */
2495:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     do
2496:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
2497:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       if (count == 0U)
2498:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       {
2499:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_ABORT);
2500:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         break;
2501:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       }
2502:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       count--;
2503:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     } while (hspi->State != HAL_SPI_STATE_ABORT);
2504:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* Reset Timeout Counter */
2505:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     count = resetcount;
2506:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
2507:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
2508:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if (HAL_IS_BIT_SET(hspi->Instance->CR2, SPI_CR2_RXNEIE))
2509:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
2510:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     hspi->RxISR = SPI_AbortRx_ISR;
2511:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* Wait HAL_SPI_STATE_ABORT state */
2512:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     do
2513:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
2514:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       if (count == 0U)
2515:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       {
2516:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_ABORT);
2517:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         break;
2518:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       }
2519:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       count--;
2520:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     } while (hspi->State != HAL_SPI_STATE_ABORT);
2521:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* Reset Timeout Counter */
2522:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     count = resetcount;
2523:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
2524:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
2525:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* If DMA Tx and/or DMA Rx Handles are associated to SPI Handle, DMA Abort complete callbacks sho
2526:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****      before any call to DMA Abort functions */
2527:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* DMA Tx Handle is valid */
2528:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if (hspi->hdmatx != NULL)
2529:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
2530:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* Set DMA Abort Complete callback if UART DMA Tx request if enabled.
2531:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****        Otherwise, set it to NULL */
2532:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     if (HAL_IS_BIT_SET(hspi->Instance->CR2, SPI_CR2_TXDMAEN))
2533:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
2534:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       hspi->hdmatx->XferAbortCallback = SPI_DMATxAbortCallback;
2535:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
2536:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     else
2537:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
2538:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       hspi->hdmatx->XferAbortCallback = NULL;
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 46


2539:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
2540:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
2541:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* DMA Rx Handle is valid */
2542:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if (hspi->hdmarx != NULL)
2543:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
2544:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* Set DMA Abort Complete callback if UART DMA Rx request if enabled.
2545:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****        Otherwise, set it to NULL */
2546:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     if (HAL_IS_BIT_SET(hspi->Instance->CR2, SPI_CR2_RXDMAEN))
2547:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
2548:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       hspi->hdmarx->XferAbortCallback = SPI_DMARxAbortCallback;
2549:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
2550:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     else
2551:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
2552:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       hspi->hdmarx->XferAbortCallback = NULL;
2553:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
2554:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
2555:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
2556:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Disable the SPI DMA Tx request if enabled */
2557:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if (HAL_IS_BIT_SET(hspi->Instance->CR2, SPI_CR2_TXDMAEN))
2558:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
2559:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* Abort the SPI DMA Tx Stream/Channel */
2560:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     if (hspi->hdmatx != NULL)
2561:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
2562:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       /* Abort DMA Tx Handle linked to SPI Peripheral */
2563:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       if (HAL_DMA_Abort_IT(hspi->hdmatx) != HAL_OK)
2564:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       {
2565:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         hspi->hdmatx->XferAbortCallback = NULL;
2566:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         hspi->ErrorCode = HAL_SPI_ERROR_ABORT;
2567:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       }
2568:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       else
2569:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       {
2570:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         abortcplt = 0U;
2571:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       }
2572:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
2573:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
2574:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Disable the SPI DMA Rx request if enabled */
2575:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if (HAL_IS_BIT_SET(hspi->Instance->CR2, SPI_CR2_RXDMAEN))
2576:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
2577:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* Abort the SPI DMA Rx Stream/Channel */
2578:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     if (hspi->hdmarx != NULL)
2579:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
2580:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       /* Abort DMA Rx Handle linked to SPI Peripheral */
2581:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       if (HAL_DMA_Abort_IT(hspi->hdmarx) !=  HAL_OK)
2582:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       {
2583:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         hspi->hdmarx->XferAbortCallback = NULL;
2584:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         hspi->ErrorCode = HAL_SPI_ERROR_ABORT;
2585:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       }
2586:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       else
2587:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       {
2588:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         abortcplt = 0U;
2589:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       }
2590:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
2591:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
2592:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
2593:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if (abortcplt == 1U)
2594:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
2595:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* Reset Tx and Rx transfer counters */
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 47


2596:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     hspi->RxXferCount = 0U;
2597:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     hspi->TxXferCount = 0U;
2598:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
2599:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* Check error during Abort procedure */
2600:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     if (hspi->ErrorCode == HAL_SPI_ERROR_ABORT)
2601:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
2602:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       /* return HAL_Error in case of error during Abort procedure */
2603:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       errorcode = HAL_ERROR;
2604:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
2605:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     else
2606:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
2607:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       /* Reset errorCode */
2608:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       hspi->ErrorCode = HAL_SPI_ERROR_NONE;
2609:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
2610:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
2611:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* Clear the Error flags in the SR register */
2612:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     __HAL_SPI_CLEAR_OVRFLAG(hspi);
2613:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     __HAL_SPI_CLEAR_FREFLAG(hspi);
2614:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
2615:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* Restore hspi->State to Ready */
2616:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     hspi->State = HAL_SPI_STATE_READY;
2617:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
2618:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* As no DMA to be aborted, call directly user Abort complete callback */
2619:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #if (USE_HAL_SPI_REGISTER_CALLBACKS == 1U)
2620:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     hspi->AbortCpltCallback(hspi);
2621:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #else
2622:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     HAL_SPI_AbortCpltCallback(hspi);
2623:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
2624:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
2625:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
2626:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   return errorcode;
2627:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** }
2628:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
2629:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** /**
2630:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @brief  Pause the DMA Transfer.
2631:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
2632:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   *               the configuration information for the specified SPI module.
2633:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @retval HAL status
2634:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   */
2635:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** HAL_StatusTypeDef HAL_SPI_DMAPause(SPI_HandleTypeDef *hspi)
2636:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** {
2637:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Process Locked */
2638:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   __HAL_LOCK(hspi);
2639:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
2640:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Disable the SPI DMA Tx & Rx requests */
2641:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   CLEAR_BIT(hspi->Instance->CR2, SPI_CR2_TXDMAEN | SPI_CR2_RXDMAEN);
2642:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
2643:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Process Unlocked */
2644:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   __HAL_UNLOCK(hspi);
2645:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
2646:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   return HAL_OK;
2647:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** }
2648:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
2649:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** /**
2650:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @brief  Resume the DMA Transfer.
2651:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
2652:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   *               the configuration information for the specified SPI module.
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 48


2653:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @retval HAL status
2654:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   */
2655:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** HAL_StatusTypeDef HAL_SPI_DMAResume(SPI_HandleTypeDef *hspi)
2656:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** {
2657:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Process Locked */
2658:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   __HAL_LOCK(hspi);
2659:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
2660:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Enable the SPI DMA Tx & Rx requests */
2661:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   SET_BIT(hspi->Instance->CR2, SPI_CR2_TXDMAEN | SPI_CR2_RXDMAEN);
2662:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
2663:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Process Unlocked */
2664:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   __HAL_UNLOCK(hspi);
2665:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
2666:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   return HAL_OK;
2667:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** }
2668:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
2669:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** /**
2670:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @brief  Stop the DMA Transfer.
2671:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
2672:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   *               the configuration information for the specified SPI module.
2673:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @retval HAL status
2674:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   */
2675:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** HAL_StatusTypeDef HAL_SPI_DMAStop(SPI_HandleTypeDef *hspi)
2676:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** {
2677:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   HAL_StatusTypeDef errorcode = HAL_OK;
2678:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* The Lock is not implemented on this API to allow the user application
2679:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****      to call the HAL SPI API under callbacks HAL_SPI_TxCpltCallback() or HAL_SPI_RxCpltCallback() o
2680:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****      when calling HAL_DMA_Abort() API the DMA TX/RX Transfer complete interrupt is generated
2681:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****      and the correspond call back is executed HAL_SPI_TxCpltCallback() or HAL_SPI_RxCpltCallback() 
2682:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****      */
2683:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
2684:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Abort the SPI DMA tx Stream/Channel  */
2685:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if (hspi->hdmatx != NULL)
2686:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
2687:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     if (HAL_OK != HAL_DMA_Abort(hspi->hdmatx))
2688:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
2689:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_DMA);
2690:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       errorcode = HAL_ERROR;
2691:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
2692:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
2693:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Abort the SPI DMA rx Stream/Channel  */
2694:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if (hspi->hdmarx != NULL)
2695:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
2696:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     if (HAL_OK != HAL_DMA_Abort(hspi->hdmarx))
2697:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
2698:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_DMA);
2699:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       errorcode = HAL_ERROR;
2700:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
2701:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
2702:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
2703:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Disable the SPI DMA Tx & Rx requests */
2704:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   CLEAR_BIT(hspi->Instance->CR2, SPI_CR2_TXDMAEN | SPI_CR2_RXDMAEN);
2705:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->State = HAL_SPI_STATE_READY;
2706:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   return errorcode;
2707:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** }
2708:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
2709:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** /**
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 49


2710:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @brief  Handle SPI interrupt request.
2711:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
2712:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   *               the configuration information for the specified SPI module.
2713:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @retval None
2714:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   */
2715:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** void HAL_SPI_IRQHandler(SPI_HandleTypeDef *hspi)
2716:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** {
2717:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   uint32_t itsource = hspi->Instance->CR2;
2718:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   uint32_t itflag   = hspi->Instance->SR;
2719:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
2720:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* SPI in mode Receiver ----------------------------------------------------*/
2721:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if ((SPI_CHECK_FLAG(itflag, SPI_FLAG_OVR) == RESET) &&
2722:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       (SPI_CHECK_FLAG(itflag, SPI_FLAG_RXNE) != RESET) && (SPI_CHECK_IT_SOURCE(itsource, SPI_IT_RXN
2723:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
2724:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     hspi->RxISR(hspi);
2725:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     return;
2726:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
2727:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
2728:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* SPI in mode Transmitter -------------------------------------------------*/
2729:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if ((SPI_CHECK_FLAG(itflag, SPI_FLAG_TXE) != RESET) && (SPI_CHECK_IT_SOURCE(itsource, SPI_IT_TXE)
2730:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
2731:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     hspi->TxISR(hspi);
2732:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     return;
2733:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
2734:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
2735:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* SPI in Error Treatment --------------------------------------------------*/
2736:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if (((SPI_CHECK_FLAG(itflag, SPI_FLAG_MODF) != RESET) || (SPI_CHECK_FLAG(itflag, SPI_FLAG_OVR) !=
2737:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****        || (SPI_CHECK_FLAG(itflag, SPI_FLAG_FRE) != RESET)) && (SPI_CHECK_IT_SOURCE(itsource, SPI_IT
2738:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
2739:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* SPI Overrun error interrupt occurred ----------------------------------*/
2740:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     if (SPI_CHECK_FLAG(itflag, SPI_FLAG_OVR) != RESET)
2741:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
2742:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       if (hspi->State != HAL_SPI_STATE_BUSY_TX)
2743:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       {
2744:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_OVR);
2745:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         __HAL_SPI_CLEAR_OVRFLAG(hspi);
2746:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       }
2747:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       else
2748:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       {
2749:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         __HAL_SPI_CLEAR_OVRFLAG(hspi);
2750:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         return;
2751:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       }
2752:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
2753:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
2754:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* SPI Mode Fault error interrupt occurred -------------------------------*/
2755:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     if (SPI_CHECK_FLAG(itflag, SPI_FLAG_MODF) != RESET)
2756:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
2757:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_MODF);
2758:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       __HAL_SPI_CLEAR_MODFFLAG(hspi);
2759:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
2760:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
2761:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* SPI Frame error interrupt occurred ------------------------------------*/
2762:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     if (SPI_CHECK_FLAG(itflag, SPI_FLAG_FRE) != RESET)
2763:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
2764:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_FRE);
2765:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       __HAL_SPI_CLEAR_FREFLAG(hspi);
2766:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 50


2767:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
2768:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     if (hspi->ErrorCode != HAL_SPI_ERROR_NONE)
2769:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
2770:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       /* Disable all interrupts */
2771:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       __HAL_SPI_DISABLE_IT(hspi, SPI_IT_RXNE | SPI_IT_TXE | SPI_IT_ERR);
2772:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
2773:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       hspi->State = HAL_SPI_STATE_READY;
2774:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       /* Disable the SPI DMA requests if enabled */
2775:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       if ((HAL_IS_BIT_SET(itsource, SPI_CR2_TXDMAEN)) || (HAL_IS_BIT_SET(itsource, SPI_CR2_RXDMAEN)
2776:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       {
2777:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         CLEAR_BIT(hspi->Instance->CR2, (SPI_CR2_TXDMAEN | SPI_CR2_RXDMAEN));
2778:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
2779:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         /* Abort the SPI DMA Rx channel */
2780:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         if (hspi->hdmarx != NULL)
2781:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         {
2782:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           /* Set the SPI DMA Abort callback :
2783:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           will lead to call HAL_SPI_ErrorCallback() at end of DMA abort procedure */
2784:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           hspi->hdmarx->XferAbortCallback = SPI_DMAAbortOnError;
2785:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           if (HAL_OK != HAL_DMA_Abort_IT(hspi->hdmarx))
2786:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           {
2787:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****             SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_ABORT);
2788:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           }
2789:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         }
2790:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         /* Abort the SPI DMA Tx channel */
2791:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         if (hspi->hdmatx != NULL)
2792:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         {
2793:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           /* Set the SPI DMA Abort callback :
2794:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           will lead to call HAL_SPI_ErrorCallback() at end of DMA abort procedure */
2795:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           hspi->hdmatx->XferAbortCallback = SPI_DMAAbortOnError;
2796:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           if (HAL_OK != HAL_DMA_Abort_IT(hspi->hdmatx))
2797:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           {
2798:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****             SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_ABORT);
2799:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           }
2800:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         }
2801:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       }
2802:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       else
2803:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       {
2804:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         /* Call user error callback */
2805:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #if (USE_HAL_SPI_REGISTER_CALLBACKS == 1U)
2806:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         hspi->ErrorCallback(hspi);
2807:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #else
2808:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         HAL_SPI_ErrorCallback(hspi);
2809:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
2810:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       }
2811:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
2812:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     return;
2813:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
2814:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** }
2815:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
2816:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** /**
2817:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @brief  Tx Transfer completed callback.
2818:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
2819:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   *               the configuration information for SPI module.
2820:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @retval None
2821:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   */
2822:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** __weak void HAL_SPI_TxCpltCallback(SPI_HandleTypeDef *hspi)
2823:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** {
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 51


2824:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Prevent unused argument(s) compilation warning */
2825:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   UNUSED(hspi);
2826:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
2827:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* NOTE : This function should not be modified, when the callback is needed,
2828:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****             the HAL_SPI_TxCpltCallback should be implemented in the user file
2829:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****    */
2830:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** }
2831:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
2832:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** /**
2833:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @brief  Rx Transfer completed callback.
2834:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
2835:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   *               the configuration information for SPI module.
2836:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @retval None
2837:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   */
2838:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** __weak void HAL_SPI_RxCpltCallback(SPI_HandleTypeDef *hspi)
2839:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** {
2840:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Prevent unused argument(s) compilation warning */
2841:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   UNUSED(hspi);
2842:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
2843:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* NOTE : This function should not be modified, when the callback is needed,
2844:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****             the HAL_SPI_RxCpltCallback should be implemented in the user file
2845:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****    */
2846:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** }
2847:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
2848:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** /**
2849:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @brief  Tx and Rx Transfer completed callback.
2850:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
2851:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   *               the configuration information for SPI module.
2852:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @retval None
2853:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   */
2854:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** __weak void HAL_SPI_TxRxCpltCallback(SPI_HandleTypeDef *hspi)
2855:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** {
2856:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Prevent unused argument(s) compilation warning */
2857:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   UNUSED(hspi);
2858:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
2859:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* NOTE : This function should not be modified, when the callback is needed,
2860:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****             the HAL_SPI_TxRxCpltCallback should be implemented in the user file
2861:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****    */
2862:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** }
2863:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
2864:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** /**
2865:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @brief  Tx Half Transfer completed callback.
2866:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
2867:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   *               the configuration information for SPI module.
2868:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @retval None
2869:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   */
2870:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** __weak void HAL_SPI_TxHalfCpltCallback(SPI_HandleTypeDef *hspi)
2871:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** {
2872:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Prevent unused argument(s) compilation warning */
2873:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   UNUSED(hspi);
2874:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
2875:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* NOTE : This function should not be modified, when the callback is needed,
2876:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****             the HAL_SPI_TxHalfCpltCallback should be implemented in the user file
2877:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****    */
2878:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** }
2879:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
2880:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** /**
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 52


2881:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @brief  Rx Half Transfer completed callback.
2882:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
2883:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   *               the configuration information for SPI module.
2884:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @retval None
2885:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   */
2886:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** __weak void HAL_SPI_RxHalfCpltCallback(SPI_HandleTypeDef *hspi)
2887:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** {
2888:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Prevent unused argument(s) compilation warning */
2889:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   UNUSED(hspi);
2890:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
2891:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* NOTE : This function should not be modified, when the callback is needed,
2892:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****             the HAL_SPI_RxHalfCpltCallback() should be implemented in the user file
2893:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****    */
2894:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** }
2895:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
2896:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** /**
2897:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @brief  Tx and Rx Half Transfer callback.
2898:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
2899:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   *               the configuration information for SPI module.
2900:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @retval None
2901:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   */
2902:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** __weak void HAL_SPI_TxRxHalfCpltCallback(SPI_HandleTypeDef *hspi)
2903:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** {
2904:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Prevent unused argument(s) compilation warning */
2905:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   UNUSED(hspi);
2906:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
2907:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* NOTE : This function should not be modified, when the callback is needed,
2908:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****             the HAL_SPI_TxRxHalfCpltCallback() should be implemented in the user file
2909:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****    */
2910:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** }
2911:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
2912:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** /**
2913:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @brief  SPI error callback.
2914:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
2915:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   *               the configuration information for SPI module.
2916:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @retval None
2917:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   */
2918:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** __weak void HAL_SPI_ErrorCallback(SPI_HandleTypeDef *hspi)
2919:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** {
2920:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Prevent unused argument(s) compilation warning */
2921:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   UNUSED(hspi);
2922:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
2923:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* NOTE : This function should not be modified, when the callback is needed,
2924:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****             the HAL_SPI_ErrorCallback should be implemented in the user file
2925:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****    */
2926:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* NOTE : The ErrorCode parameter in the hspi handle is updated by the SPI processes
2927:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****             and user can use HAL_SPI_GetError() API to check the latest error occurred
2928:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****    */
2929:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** }
2930:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
2931:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** /**
2932:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @brief  SPI Abort Complete callback.
2933:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @param  hspi SPI handle.
2934:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @retval None
2935:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   */
2936:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** __weak void HAL_SPI_AbortCpltCallback(SPI_HandleTypeDef *hspi)
2937:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** {
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 53


2938:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Prevent unused argument(s) compilation warning */
2939:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   UNUSED(hspi);
2940:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
2941:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* NOTE : This function should not be modified, when the callback is needed,
2942:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****             the HAL_SPI_AbortCpltCallback can be implemented in the user file.
2943:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****    */
2944:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** }
2945:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
2946:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** /**
2947:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @}
2948:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   */
2949:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
2950:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** /** @defgroup SPI_Exported_Functions_Group3 Peripheral State and Errors functions
2951:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @brief   SPI control functions
2952:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   *
2953:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** @verbatim
2954:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****  ===============================================================================
2955:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****                       ##### Peripheral State and Errors functions #####
2956:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****  ===============================================================================
2957:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     [..]
2958:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     This subsection provides a set of functions allowing to control the SPI.
2959:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****      (+) HAL_SPI_GetState() API can be helpful to check in run-time the state of the SPI peripheral
2960:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****      (+) HAL_SPI_GetError() check in run-time Errors occurring during communication
2961:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** @endverbatim
2962:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @{
2963:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   */
2964:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
2965:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** /**
2966:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @brief  Return the SPI handle state.
2967:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
2968:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   *               the configuration information for SPI module.
2969:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @retval SPI state
2970:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   */
2971:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** HAL_SPI_StateTypeDef HAL_SPI_GetState(SPI_HandleTypeDef *hspi)
2972:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** {
2973:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Return SPI handle state */
2974:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   return hspi->State;
2975:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** }
2976:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
2977:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** /**
2978:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @brief  Return the SPI error code.
2979:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
2980:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   *               the configuration information for SPI module.
2981:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @retval SPI error code in bitmap format
2982:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   */
2983:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** uint32_t HAL_SPI_GetError(SPI_HandleTypeDef *hspi)
2984:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** {
2985:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Return SPI ErrorCode */
2986:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   return hspi->ErrorCode;
2987:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** }
2988:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
2989:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** /**
2990:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @}
2991:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   */
2992:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
2993:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** /**
2994:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @}
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 54


2995:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   */
2996:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
2997:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** /** @addtogroup SPI_Private_Functions
2998:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @brief   Private functions
2999:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @{
3000:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   */
3001:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
3002:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** /**
3003:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @brief  DMA SPI transmit process complete callback.
3004:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @param  hdma pointer to a DMA_HandleTypeDef structure that contains
3005:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   *               the configuration information for the specified DMA module.
3006:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @retval None
3007:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   */
3008:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** static void SPI_DMATransmitCplt(DMA_HandleTypeDef *hdma)
3009:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** {
3010:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   SPI_HandleTypeDef *hspi = (SPI_HandleTypeDef *)(((DMA_HandleTypeDef *)hdma)->Parent); /* Derogati
3011:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   uint32_t tickstart;
3012:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
3013:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Init tickstart for timeout management*/
3014:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   tickstart = HAL_GetTick();
3015:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
3016:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* DMA Normal Mode */
3017:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if ((hdma->Instance->CCR & DMA_CCR_CIRC) != DMA_CCR_CIRC)
3018:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
3019:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* Disable ERR interrupt */
3020:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     __HAL_SPI_DISABLE_IT(hspi, SPI_IT_ERR);
3021:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
3022:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* Disable Tx DMA Request */
3023:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     CLEAR_BIT(hspi->Instance->CR2, SPI_CR2_TXDMAEN);
3024:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
3025:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* Check the end of the transaction */
3026:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     if (SPI_EndRxTxTransaction(hspi, SPI_DEFAULT_TIMEOUT, tickstart) != HAL_OK)
3027:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
3028:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_FLAG);
3029:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
3030:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
3031:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* Clear overrun flag in 2 Lines communication mode because received data is not read */
3032:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     if (hspi->Init.Direction == SPI_DIRECTION_2LINES)
3033:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
3034:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       __HAL_SPI_CLEAR_OVRFLAG(hspi);
3035:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
3036:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
3037:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     hspi->TxXferCount = 0U;
3038:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     hspi->State = HAL_SPI_STATE_READY;
3039:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
3040:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     if (hspi->ErrorCode != HAL_SPI_ERROR_NONE)
3041:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
3042:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       /* Call user error callback */
3043:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #if (USE_HAL_SPI_REGISTER_CALLBACKS == 1U)
3044:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       hspi->ErrorCallback(hspi);
3045:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #else
3046:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       HAL_SPI_ErrorCallback(hspi);
3047:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
3048:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       return;
3049:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
3050:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
3051:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Call user Tx complete callback */
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 55


3052:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #if (USE_HAL_SPI_REGISTER_CALLBACKS == 1U)
3053:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->TxCpltCallback(hspi);
3054:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #else
3055:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   HAL_SPI_TxCpltCallback(hspi);
3056:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
3057:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** }
3058:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
3059:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** /**
3060:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @brief  DMA SPI receive process complete callback.
3061:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @param  hdma pointer to a DMA_HandleTypeDef structure that contains
3062:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   *               the configuration information for the specified DMA module.
3063:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @retval None
3064:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   */
3065:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** static void SPI_DMAReceiveCplt(DMA_HandleTypeDef *hdma)
3066:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** {
3067:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   SPI_HandleTypeDef *hspi = (SPI_HandleTypeDef *)(((DMA_HandleTypeDef *)hdma)->Parent); /* Derogati
3068:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   uint32_t tickstart;
3069:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
3070:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   __IO uint32_t tmpreg = 0U;
3071:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #endif /* USE_SPI_CRC */
3072:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
3073:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Init tickstart for timeout management*/
3074:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   tickstart = HAL_GetTick();
3075:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
3076:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* DMA Normal Mode */
3077:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if ((hdma->Instance->CCR & DMA_CCR_CIRC) != DMA_CCR_CIRC)
3078:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
3079:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* Disable ERR interrupt */
3080:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     __HAL_SPI_DISABLE_IT(hspi, SPI_IT_ERR);
3081:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
3082:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
3083:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* CRC handling */
3084:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     if (hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
3085:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
3086:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       /* Wait until RXNE flag */
3087:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       if (SPI_WaitFlagStateUntilTimeout(hspi, SPI_FLAG_RXNE, SET, SPI_DEFAULT_TIMEOUT, tickstart) !
3088:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       {
3089:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         /* Error on the CRC reception */
3090:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_CRC);
3091:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       }
3092:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       /* Read CRC */
3093:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       if (hspi->Init.DataSize > SPI_DATASIZE_8BIT)
3094:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       {
3095:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         /* Read 16bit CRC */
3096:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         tmpreg = READ_REG(hspi->Instance->DR);
3097:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         /* To avoid GCC warning */
3098:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         UNUSED(tmpreg);
3099:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       }
3100:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       else
3101:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       {
3102:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         /* Read 8bit CRC */
3103:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         tmpreg = READ_REG(*(__IO uint8_t *)&hspi->Instance->DR);
3104:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         /* To avoid GCC warning */
3105:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         UNUSED(tmpreg);
3106:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
3107:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         if (hspi->Init.CRCLength == SPI_CRC_LENGTH_16BIT)
3108:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         {
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 56


3109:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           if (SPI_WaitFlagStateUntilTimeout(hspi, SPI_FLAG_RXNE, SET, SPI_DEFAULT_TIMEOUT, tickstar
3110:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           {
3111:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****             /* Error on the CRC reception */
3112:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****             SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_CRC);
3113:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           }
3114:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           /* Read 8bit CRC again in case of 16bit CRC in 8bit Data mode */
3115:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           tmpreg = READ_REG(*(__IO uint8_t *)&hspi->Instance->DR);
3116:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           /* To avoid GCC warning */
3117:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           UNUSED(tmpreg);
3118:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         }
3119:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       }
3120:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
3121:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #endif /* USE_SPI_CRC */
3122:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
3123:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* Check if we are in Master RX 2 line mode */
3124:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     if ((hspi->Init.Direction == SPI_DIRECTION_2LINES) && (hspi->Init.Mode == SPI_MODE_MASTER))
3125:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
3126:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       /* Disable Rx/Tx DMA Request (done by default to handle the case master rx direction 2 lines)
3127:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       CLEAR_BIT(hspi->Instance->CR2, SPI_CR2_TXDMAEN | SPI_CR2_RXDMAEN);
3128:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
3129:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     else
3130:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
3131:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       /* Normal case */
3132:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       CLEAR_BIT(hspi->Instance->CR2, SPI_CR2_RXDMAEN);
3133:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
3134:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
3135:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* Check the end of the transaction */
3136:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     if (SPI_EndRxTransaction(hspi, SPI_DEFAULT_TIMEOUT, tickstart) != HAL_OK)
3137:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
3138:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       hspi->ErrorCode = HAL_SPI_ERROR_FLAG;
3139:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
3140:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
3141:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     hspi->RxXferCount = 0U;
3142:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     hspi->State = HAL_SPI_STATE_READY;
3143:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
3144:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
3145:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* Check if CRC error occurred */
3146:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     if (__HAL_SPI_GET_FLAG(hspi, SPI_FLAG_CRCERR))
3147:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
3148:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_CRC);
3149:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       __HAL_SPI_CLEAR_CRCERRFLAG(hspi);
3150:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
3151:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #endif /* USE_SPI_CRC */
3152:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
3153:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     if (hspi->ErrorCode != HAL_SPI_ERROR_NONE)
3154:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
3155:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       /* Call user error callback */
3156:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #if (USE_HAL_SPI_REGISTER_CALLBACKS == 1U)
3157:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       hspi->ErrorCallback(hspi);
3158:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #else
3159:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       HAL_SPI_ErrorCallback(hspi);
3160:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
3161:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       return;
3162:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
3163:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
3164:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Call user Rx complete callback */
3165:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #if (USE_HAL_SPI_REGISTER_CALLBACKS == 1U)
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 57


3166:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->RxCpltCallback(hspi);
3167:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #else
3168:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   HAL_SPI_RxCpltCallback(hspi);
3169:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
3170:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** }
3171:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
3172:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** /**
3173:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @brief  DMA SPI transmit receive process complete callback.
3174:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @param  hdma pointer to a DMA_HandleTypeDef structure that contains
3175:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   *               the configuration information for the specified DMA module.
3176:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @retval None
3177:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   */
3178:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** static void SPI_DMATransmitReceiveCplt(DMA_HandleTypeDef *hdma)
3179:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** {
3180:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   SPI_HandleTypeDef *hspi = (SPI_HandleTypeDef *)(((DMA_HandleTypeDef *)hdma)->Parent); /* Derogati
3181:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   uint32_t tickstart;
3182:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
3183:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   __IO uint32_t tmpreg = 0U;
3184:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #endif /* USE_SPI_CRC */
3185:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
3186:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Init tickstart for timeout management*/
3187:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   tickstart = HAL_GetTick();
3188:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
3189:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* DMA Normal Mode */
3190:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if ((hdma->Instance->CCR & DMA_CCR_CIRC) != DMA_CCR_CIRC)
3191:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
3192:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* Disable ERR interrupt */
3193:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     __HAL_SPI_DISABLE_IT(hspi, SPI_IT_ERR);
3194:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
3195:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
3196:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* CRC handling */
3197:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     if (hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
3198:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
3199:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       if ((hspi->Init.DataSize == SPI_DATASIZE_8BIT) && (hspi->Init.CRCLength == SPI_CRC_LENGTH_8BI
3200:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       {
3201:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         if (SPI_WaitFifoStateUntilTimeout(hspi, SPI_FLAG_FRLVL, SPI_FRLVL_QUARTER_FULL, SPI_DEFAULT
3202:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****                                           tickstart) != HAL_OK)
3203:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         {
3204:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           /* Error on the CRC reception */
3205:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_CRC);
3206:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         }
3207:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         /* Read CRC to Flush DR and RXNE flag */
3208:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         tmpreg = READ_REG(*(__IO uint8_t *)&hspi->Instance->DR);
3209:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         /* To avoid GCC warning */
3210:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         UNUSED(tmpreg);
3211:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       }
3212:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       else
3213:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       {
3214:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         if (SPI_WaitFifoStateUntilTimeout(hspi, SPI_FLAG_FRLVL, SPI_FRLVL_HALF_FULL, SPI_DEFAULT_TI
3215:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         {
3216:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           /* Error on the CRC reception */
3217:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_CRC);
3218:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         }
3219:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         /* Read CRC to Flush DR and RXNE flag */
3220:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         tmpreg = READ_REG(hspi->Instance->DR);
3221:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         /* To avoid GCC warning */
3222:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         UNUSED(tmpreg);
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 58


3223:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       }
3224:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
3225:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #endif /* USE_SPI_CRC */
3226:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
3227:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* Check the end of the transaction */
3228:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     if (SPI_EndRxTxTransaction(hspi, SPI_DEFAULT_TIMEOUT, tickstart) != HAL_OK)
3229:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
3230:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_FLAG);
3231:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
3232:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
3233:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* Disable Rx/Tx DMA Request */
3234:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     CLEAR_BIT(hspi->Instance->CR2, SPI_CR2_TXDMAEN | SPI_CR2_RXDMAEN);
3235:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
3236:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     hspi->TxXferCount = 0U;
3237:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     hspi->RxXferCount = 0U;
3238:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     hspi->State = HAL_SPI_STATE_READY;
3239:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
3240:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
3241:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* Check if CRC error occurred */
3242:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     if (__HAL_SPI_GET_FLAG(hspi, SPI_FLAG_CRCERR))
3243:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
3244:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_CRC);
3245:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       __HAL_SPI_CLEAR_CRCERRFLAG(hspi);
3246:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
3247:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #endif /* USE_SPI_CRC */
3248:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
3249:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     if (hspi->ErrorCode != HAL_SPI_ERROR_NONE)
3250:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
3251:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       /* Call user error callback */
3252:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #if (USE_HAL_SPI_REGISTER_CALLBACKS == 1U)
3253:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       hspi->ErrorCallback(hspi);
3254:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #else
3255:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       HAL_SPI_ErrorCallback(hspi);
3256:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
3257:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       return;
3258:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
3259:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
3260:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Call user TxRx complete callback */
3261:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #if (USE_HAL_SPI_REGISTER_CALLBACKS == 1U)
3262:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->TxRxCpltCallback(hspi);
3263:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #else
3264:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   HAL_SPI_TxRxCpltCallback(hspi);
3265:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
3266:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** }
3267:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
3268:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** /**
3269:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @brief  DMA SPI half transmit process complete callback.
3270:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @param  hdma pointer to a DMA_HandleTypeDef structure that contains
3271:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   *               the configuration information for the specified DMA module.
3272:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @retval None
3273:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   */
3274:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** static void SPI_DMAHalfTransmitCplt(DMA_HandleTypeDef *hdma)
3275:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** {
3276:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   SPI_HandleTypeDef *hspi = (SPI_HandleTypeDef *)(((DMA_HandleTypeDef *)hdma)->Parent); /* Derogati
3277:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
3278:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Call user Tx half complete callback */
3279:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #if (USE_HAL_SPI_REGISTER_CALLBACKS == 1U)
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 59


3280:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->TxHalfCpltCallback(hspi);
3281:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #else
3282:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   HAL_SPI_TxHalfCpltCallback(hspi);
3283:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
3284:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** }
3285:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
3286:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** /**
3287:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @brief  DMA SPI half receive process complete callback
3288:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @param  hdma pointer to a DMA_HandleTypeDef structure that contains
3289:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   *               the configuration information for the specified DMA module.
3290:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @retval None
3291:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   */
3292:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** static void SPI_DMAHalfReceiveCplt(DMA_HandleTypeDef *hdma)
3293:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** {
3294:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   SPI_HandleTypeDef *hspi = (SPI_HandleTypeDef *)(((DMA_HandleTypeDef *)hdma)->Parent); /* Derogati
3295:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
3296:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Call user Rx half complete callback */
3297:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #if (USE_HAL_SPI_REGISTER_CALLBACKS == 1U)
3298:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->RxHalfCpltCallback(hspi);
3299:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #else
3300:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   HAL_SPI_RxHalfCpltCallback(hspi);
3301:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
3302:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** }
3303:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
3304:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** /**
3305:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @brief  DMA SPI half transmit receive process complete callback.
3306:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @param  hdma pointer to a DMA_HandleTypeDef structure that contains
3307:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   *               the configuration information for the specified DMA module.
3308:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @retval None
3309:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   */
3310:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** static void SPI_DMAHalfTransmitReceiveCplt(DMA_HandleTypeDef *hdma)
3311:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** {
3312:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   SPI_HandleTypeDef *hspi = (SPI_HandleTypeDef *)(((DMA_HandleTypeDef *)hdma)->Parent); /* Derogati
3313:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
3314:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Call user TxRx half complete callback */
3315:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #if (USE_HAL_SPI_REGISTER_CALLBACKS == 1U)
3316:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->TxRxHalfCpltCallback(hspi);
3317:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #else
3318:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   HAL_SPI_TxRxHalfCpltCallback(hspi);
3319:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
3320:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** }
3321:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
3322:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** /**
3323:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @brief  DMA SPI communication error callback.
3324:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @param  hdma pointer to a DMA_HandleTypeDef structure that contains
3325:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   *               the configuration information for the specified DMA module.
3326:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @retval None
3327:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   */
3328:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** static void SPI_DMAError(DMA_HandleTypeDef *hdma)
3329:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** {
3330:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   SPI_HandleTypeDef *hspi = (SPI_HandleTypeDef *)(((DMA_HandleTypeDef *)hdma)->Parent); /* Derogati
3331:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
3332:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Stop the disable DMA transfer on SPI side */
3333:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   CLEAR_BIT(hspi->Instance->CR2, SPI_CR2_TXDMAEN | SPI_CR2_RXDMAEN);
3334:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
3335:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_DMA);
3336:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->State = HAL_SPI_STATE_READY;
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 60


3337:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Call user error callback */
3338:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #if (USE_HAL_SPI_REGISTER_CALLBACKS == 1U)
3339:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->ErrorCallback(hspi);
3340:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #else
3341:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   HAL_SPI_ErrorCallback(hspi);
3342:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
3343:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** }
3344:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
3345:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** /**
3346:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @brief  DMA SPI communication abort callback, when initiated by HAL services on Error
3347:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   *         (To be called at end of DMA Abort procedure following error occurrence).
3348:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @param  hdma DMA handle.
3349:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @retval None
3350:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   */
3351:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** static void SPI_DMAAbortOnError(DMA_HandleTypeDef *hdma)
3352:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** {
3353:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   SPI_HandleTypeDef *hspi = (SPI_HandleTypeDef *)(((DMA_HandleTypeDef *)hdma)->Parent); /* Derogati
3354:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->RxXferCount = 0U;
3355:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->TxXferCount = 0U;
3356:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
3357:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Call user error callback */
3358:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #if (USE_HAL_SPI_REGISTER_CALLBACKS == 1U)
3359:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->ErrorCallback(hspi);
3360:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #else
3361:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   HAL_SPI_ErrorCallback(hspi);
3362:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
3363:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** }
3364:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
3365:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** /**
3366:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @brief  DMA SPI Tx communication abort callback, when initiated by user
3367:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   *         (To be called at end of DMA Tx Abort procedure following user abort request).
3368:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @note   When this callback is executed, User Abort complete call back is called only if no
3369:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   *         Abort still ongoing for Rx DMA Handle.
3370:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @param  hdma DMA handle.
3371:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @retval None
3372:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   */
3373:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** static void SPI_DMATxAbortCallback(DMA_HandleTypeDef *hdma)
3374:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** {
3375:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   SPI_HandleTypeDef *hspi = (SPI_HandleTypeDef *)(((DMA_HandleTypeDef *)hdma)->Parent); /* Derogati
3376:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
3377:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->hdmatx->XferAbortCallback = NULL;
3378:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
3379:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Disable Tx DMA Request */
3380:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   CLEAR_BIT(hspi->Instance->CR2, SPI_CR2_TXDMAEN);
3381:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
3382:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if (SPI_EndRxTxTransaction(hspi, SPI_DEFAULT_TIMEOUT, HAL_GetTick()) != HAL_OK)
3383:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
3384:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     hspi->ErrorCode = HAL_SPI_ERROR_ABORT;
3385:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
3386:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
3387:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Disable SPI Peripheral */
3388:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   __HAL_SPI_DISABLE(hspi);
3389:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
3390:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Empty the FRLVL fifo */
3391:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if (SPI_WaitFifoStateUntilTimeout(hspi, SPI_FLAG_FRLVL, SPI_FRLVL_EMPTY, SPI_DEFAULT_TIMEOUT, HAL
3392:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
3393:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     hspi->ErrorCode = HAL_SPI_ERROR_ABORT;
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 61


3394:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
3395:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
3396:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Check if an Abort process is still ongoing */
3397:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if (hspi->hdmarx != NULL)
3398:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
3399:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     if (hspi->hdmarx->XferAbortCallback != NULL)
3400:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
3401:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       return;
3402:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
3403:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
3404:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
3405:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* No Abort process still ongoing : All DMA Stream/Channel are aborted, call user Abort Complete 
3406:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->RxXferCount = 0U;
3407:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->TxXferCount = 0U;
3408:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
3409:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Check no error during Abort procedure */
3410:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if (hspi->ErrorCode != HAL_SPI_ERROR_ABORT)
3411:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
3412:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* Reset errorCode */
3413:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     hspi->ErrorCode = HAL_SPI_ERROR_NONE;
3414:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
3415:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
3416:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Clear the Error flags in the SR register */
3417:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   __HAL_SPI_CLEAR_OVRFLAG(hspi);
3418:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   __HAL_SPI_CLEAR_FREFLAG(hspi);
3419:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
3420:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Restore hspi->State to Ready */
3421:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->State  = HAL_SPI_STATE_READY;
3422:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
3423:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Call user Abort complete callback */
3424:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #if (USE_HAL_SPI_REGISTER_CALLBACKS == 1U)
3425:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->AbortCpltCallback(hspi);
3426:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #else
3427:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   HAL_SPI_AbortCpltCallback(hspi);
3428:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
3429:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** }
3430:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
3431:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** /**
3432:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @brief  DMA SPI Rx communication abort callback, when initiated by user
3433:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   *         (To be called at end of DMA Rx Abort procedure following user abort request).
3434:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @note   When this callback is executed, User Abort complete call back is called only if no
3435:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   *         Abort still ongoing for Tx DMA Handle.
3436:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @param  hdma DMA handle.
3437:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @retval None
3438:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   */
3439:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** static void SPI_DMARxAbortCallback(DMA_HandleTypeDef *hdma)
3440:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** {
3441:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   SPI_HandleTypeDef *hspi = (SPI_HandleTypeDef *)(((DMA_HandleTypeDef *)hdma)->Parent); /* Derogati
3442:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
3443:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Disable SPI Peripheral */
3444:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   __HAL_SPI_DISABLE(hspi);
3445:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
3446:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->hdmarx->XferAbortCallback = NULL;
3447:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
3448:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Disable Rx DMA Request */
3449:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   CLEAR_BIT(hspi->Instance->CR2, SPI_CR2_RXDMAEN);
3450:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 62


3451:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Control the BSY flag */
3452:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if (SPI_WaitFlagStateUntilTimeout(hspi, SPI_FLAG_BSY, RESET, SPI_DEFAULT_TIMEOUT, HAL_GetTick()) 
3453:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
3454:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     hspi->ErrorCode = HAL_SPI_ERROR_ABORT;
3455:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
3456:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
3457:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Empty the FRLVL fifo */
3458:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if (SPI_WaitFifoStateUntilTimeout(hspi, SPI_FLAG_FRLVL, SPI_FRLVL_EMPTY, SPI_DEFAULT_TIMEOUT, HAL
3459:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
3460:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     hspi->ErrorCode = HAL_SPI_ERROR_ABORT;
3461:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
3462:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
3463:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Check if an Abort process is still ongoing */
3464:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if (hspi->hdmatx != NULL)
3465:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
3466:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     if (hspi->hdmatx->XferAbortCallback != NULL)
3467:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
3468:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       return;
3469:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
3470:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
3471:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
3472:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* No Abort process still ongoing : All DMA Stream/Channel are aborted, call user Abort Complete 
3473:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->RxXferCount = 0U;
3474:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->TxXferCount = 0U;
3475:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
3476:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Check no error during Abort procedure */
3477:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if (hspi->ErrorCode != HAL_SPI_ERROR_ABORT)
3478:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
3479:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* Reset errorCode */
3480:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     hspi->ErrorCode = HAL_SPI_ERROR_NONE;
3481:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
3482:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
3483:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Clear the Error flags in the SR register */
3484:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   __HAL_SPI_CLEAR_OVRFLAG(hspi);
3485:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   __HAL_SPI_CLEAR_FREFLAG(hspi);
3486:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
3487:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Restore hspi->State to Ready */
3488:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->State  = HAL_SPI_STATE_READY;
3489:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
3490:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Call user Abort complete callback */
3491:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #if (USE_HAL_SPI_REGISTER_CALLBACKS == 1U)
3492:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->AbortCpltCallback(hspi);
3493:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #else
3494:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   HAL_SPI_AbortCpltCallback(hspi);
3495:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
3496:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** }
3497:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
3498:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** /**
3499:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @brief  Rx 8-bit handler for Transmit and Receive in Interrupt mode.
3500:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
3501:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   *               the configuration information for SPI module.
3502:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @retval None
3503:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   */
3504:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** static void SPI_2linesRxISR_8BIT(struct __SPI_HandleTypeDef *hspi)
3505:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** {
3506:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Receive data in packing mode */
3507:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if (hspi->RxXferCount > 1U)
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 63


3508:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
3509:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     *((uint16_t *)hspi->pRxBuffPtr) = (uint16_t)(hspi->Instance->DR);
3510:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     hspi->pRxBuffPtr += sizeof(uint16_t);
3511:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     hspi->RxXferCount -= 2U;
3512:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     if (hspi->RxXferCount == 1U)
3513:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
3514:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       /* Set RX Fifo threshold according the reception data length: 8bit */
3515:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       SET_BIT(hspi->Instance->CR2, SPI_RXFIFO_THRESHOLD);
3516:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
3517:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
3518:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Receive data in 8 Bit mode */
3519:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   else
3520:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
3521:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     *hspi->pRxBuffPtr = *((__IO uint8_t *)&hspi->Instance->DR);
3522:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     hspi->pRxBuffPtr++;
3523:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     hspi->RxXferCount--;
3524:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
3525:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
3526:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Check end of the reception */
3527:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if (hspi->RxXferCount == 0U)
3528:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
3529:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
3530:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     if (hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
3531:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
3532:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       SET_BIT(hspi->Instance->CR2, SPI_RXFIFO_THRESHOLD);
3533:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       hspi->RxISR =  SPI_2linesRxISR_8BITCRC;
3534:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       return;
3535:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
3536:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #endif /* USE_SPI_CRC */
3537:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
3538:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* Disable RXNE  and ERR interrupt */
3539:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     __HAL_SPI_DISABLE_IT(hspi, (SPI_IT_RXNE | SPI_IT_ERR));
3540:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
3541:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     if (hspi->TxXferCount == 0U)
3542:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
3543:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       SPI_CloseRxTx_ISR(hspi);
3544:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
3545:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
3546:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** }
3547:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
3548:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
3549:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** /**
3550:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @brief  Rx 8-bit handler for Transmit and Receive in Interrupt mode.
3551:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
3552:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   *               the configuration information for SPI module.
3553:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @retval None
3554:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   */
3555:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** static void SPI_2linesRxISR_8BITCRC(struct __SPI_HandleTypeDef *hspi)
3556:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** {
3557:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   __IO uint32_t tmpreg = 0U;
3558:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
3559:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Read 8bit CRC to flush Data Register */
3560:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   tmpreg = READ_REG(*(__IO uint8_t *)&hspi->Instance->DR);
3561:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* To avoid GCC warning */
3562:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   UNUSED(tmpreg);
3563:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
3564:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->CRCSize--;
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 64


3565:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
3566:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Check end of the reception */
3567:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if (hspi->CRCSize == 0U)
3568:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
3569:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* Disable RXNE and ERR interrupt */
3570:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     __HAL_SPI_DISABLE_IT(hspi, (SPI_IT_RXNE | SPI_IT_ERR));
3571:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
3572:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     if (hspi->TxXferCount == 0U)
3573:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
3574:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       SPI_CloseRxTx_ISR(hspi);
3575:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
3576:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
3577:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** }
3578:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #endif /* USE_SPI_CRC */
3579:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
3580:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** /**
3581:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @brief  Tx 8-bit handler for Transmit and Receive in Interrupt mode.
3582:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
3583:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   *               the configuration information for SPI module.
3584:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @retval None
3585:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   */
3586:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** static void SPI_2linesTxISR_8BIT(struct __SPI_HandleTypeDef *hspi)
3587:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** {
3588:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Transmit data in packing Bit mode */
3589:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if (hspi->TxXferCount >= 2U)
3590:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
3591:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     hspi->Instance->DR = *((uint16_t *)hspi->pTxBuffPtr);
3592:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     hspi->pTxBuffPtr += sizeof(uint16_t);
3593:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     hspi->TxXferCount -= 2U;
3594:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
3595:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Transmit data in 8 Bit mode */
3596:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   else
3597:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
3598:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     *(__IO uint8_t *)&hspi->Instance->DR = (*hspi->pTxBuffPtr);
3599:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     hspi->pTxBuffPtr++;
3600:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     hspi->TxXferCount--;
3601:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
3602:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
3603:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Check the end of the transmission */
3604:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if (hspi->TxXferCount == 0U)
3605:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
3606:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
3607:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     if (hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
3608:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
3609:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       /* Set CRC Next Bit to send CRC */
3610:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       SET_BIT(hspi->Instance->CR1, SPI_CR1_CRCNEXT);
3611:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       /* Disable TXE interrupt */
3612:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       __HAL_SPI_DISABLE_IT(hspi, SPI_IT_TXE);
3613:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       return;
3614:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
3615:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #endif /* USE_SPI_CRC */
3616:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
3617:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* Disable TXE interrupt */
3618:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     __HAL_SPI_DISABLE_IT(hspi, SPI_IT_TXE);
3619:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
3620:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     if (hspi->RxXferCount == 0U)
3621:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 65


3622:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       SPI_CloseRxTx_ISR(hspi);
3623:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
3624:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
3625:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** }
3626:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
3627:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** /**
3628:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @brief  Rx 16-bit handler for Transmit and Receive in Interrupt mode.
3629:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
3630:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   *               the configuration information for SPI module.
3631:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @retval None
3632:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   */
3633:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** static void SPI_2linesRxISR_16BIT(struct __SPI_HandleTypeDef *hspi)
3634:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** {
3635:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Receive data in 16 Bit mode */
3636:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   *((uint16_t *)hspi->pRxBuffPtr) = (uint16_t)(hspi->Instance->DR);
3637:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->pRxBuffPtr += sizeof(uint16_t);
3638:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->RxXferCount--;
3639:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
3640:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if (hspi->RxXferCount == 0U)
3641:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
3642:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
3643:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     if (hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
3644:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
3645:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       hspi->RxISR =  SPI_2linesRxISR_16BITCRC;
3646:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       return;
3647:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
3648:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #endif /* USE_SPI_CRC */
3649:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
3650:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* Disable RXNE interrupt */
3651:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     __HAL_SPI_DISABLE_IT(hspi, SPI_IT_RXNE);
3652:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
3653:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     if (hspi->TxXferCount == 0U)
3654:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
3655:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       SPI_CloseRxTx_ISR(hspi);
3656:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
3657:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
3658:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** }
3659:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
3660:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
3661:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** /**
3662:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @brief  Manage the CRC 16-bit receive for Transmit and Receive in Interrupt mode.
3663:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
3664:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   *               the configuration information for SPI module.
3665:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @retval None
3666:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   */
3667:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** static void SPI_2linesRxISR_16BITCRC(struct __SPI_HandleTypeDef *hspi)
3668:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** {
3669:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   __IO uint32_t tmpreg = 0U;
3670:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
3671:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Read 16bit CRC to flush Data Register */
3672:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   tmpreg = READ_REG(hspi->Instance->DR);
3673:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* To avoid GCC warning */
3674:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   UNUSED(tmpreg);  
3675:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
3676:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Disable RXNE interrupt */
3677:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   __HAL_SPI_DISABLE_IT(hspi, SPI_IT_RXNE);
3678:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 66


3679:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   SPI_CloseRxTx_ISR(hspi);
3680:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** }
3681:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #endif /* USE_SPI_CRC */
3682:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
3683:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** /**
3684:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @brief  Tx 16-bit handler for Transmit and Receive in Interrupt mode.
3685:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
3686:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   *               the configuration information for SPI module.
3687:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @retval None
3688:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   */
3689:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** static void SPI_2linesTxISR_16BIT(struct __SPI_HandleTypeDef *hspi)
3690:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** {
3691:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Transmit data in 16 Bit mode */
3692:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->Instance->DR = *((uint16_t *)hspi->pTxBuffPtr);
3693:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->pTxBuffPtr += sizeof(uint16_t);
3694:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->TxXferCount--;
3695:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
3696:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Enable CRC Transmission */
3697:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if (hspi->TxXferCount == 0U)
3698:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
3699:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
3700:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     if (hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
3701:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
3702:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       /* Set CRC Next Bit to send CRC */
3703:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       SET_BIT(hspi->Instance->CR1, SPI_CR1_CRCNEXT);
3704:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       /* Disable TXE interrupt */
3705:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       __HAL_SPI_DISABLE_IT(hspi, SPI_IT_TXE);
3706:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       return;
3707:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
3708:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #endif /* USE_SPI_CRC */
3709:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
3710:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* Disable TXE interrupt */
3711:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     __HAL_SPI_DISABLE_IT(hspi, SPI_IT_TXE);
3712:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
3713:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     if (hspi->RxXferCount == 0U)
3714:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
3715:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       SPI_CloseRxTx_ISR(hspi);
3716:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
3717:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
3718:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** }
3719:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
3720:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
3721:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** /**
3722:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @brief  Manage the CRC 8-bit receive in Interrupt context.
3723:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
3724:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   *               the configuration information for SPI module.
3725:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @retval None
3726:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   */
3727:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** static void SPI_RxISR_8BITCRC(struct __SPI_HandleTypeDef *hspi)
3728:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** {
3729:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   __IO uint32_t tmpreg = 0U;
3730:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
3731:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Read 8bit CRC to flush Data Register */
3732:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   tmpreg = READ_REG(*(__IO uint8_t *)&hspi->Instance->DR);
3733:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* To avoid GCC warning */
3734:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   UNUSED(tmpreg);
3735:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 67


3736:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->CRCSize--;
3737:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
3738:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if (hspi->CRCSize == 0U)
3739:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
3740:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     SPI_CloseRx_ISR(hspi);
3741:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
3742:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** }
3743:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #endif /* USE_SPI_CRC */
3744:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
3745:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** /**
3746:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @brief  Manage the receive 8-bit in Interrupt context.
3747:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
3748:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   *               the configuration information for SPI module.
3749:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @retval None
3750:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   */
3751:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** static void SPI_RxISR_8BIT(struct __SPI_HandleTypeDef *hspi)
3752:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** {
3753:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   *hspi->pRxBuffPtr = (*(__IO uint8_t *)&hspi->Instance->DR);
3754:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->pRxBuffPtr++;
3755:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->RxXferCount--;
3756:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
3757:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
3758:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Enable CRC Transmission */
3759:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if ((hspi->RxXferCount == 1U) && (hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE))
3760:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
3761:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     SET_BIT(hspi->Instance->CR1, SPI_CR1_CRCNEXT);
3762:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
3763:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #endif /* USE_SPI_CRC */
3764:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
3765:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if (hspi->RxXferCount == 0U)
3766:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
3767:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
3768:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     if (hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
3769:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
3770:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       hspi->RxISR =  SPI_RxISR_8BITCRC;
3771:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       return;
3772:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
3773:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #endif /* USE_SPI_CRC */
3774:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     SPI_CloseRx_ISR(hspi);
3775:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
3776:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** }
3777:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
3778:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
3779:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** /**
3780:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @brief  Manage the CRC 16-bit receive in Interrupt context.
3781:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
3782:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   *               the configuration information for SPI module.
3783:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @retval None
3784:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   */
3785:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** static void SPI_RxISR_16BITCRC(struct __SPI_HandleTypeDef *hspi)
3786:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** {
3787:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   __IO uint32_t tmpreg = 0U;
3788:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
3789:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Read 16bit CRC to flush Data Register */
3790:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   tmpreg = READ_REG(hspi->Instance->DR);
3791:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* To avoid GCC warning */
3792:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   UNUSED(tmpreg);
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 68


3793:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
3794:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Disable RXNE and ERR interrupt */
3795:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   __HAL_SPI_DISABLE_IT(hspi, (SPI_IT_RXNE | SPI_IT_ERR));
3796:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
3797:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   SPI_CloseRx_ISR(hspi);
3798:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** }
3799:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #endif /* USE_SPI_CRC */
3800:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
3801:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** /**
3802:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @brief  Manage the 16-bit receive in Interrupt context.
3803:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
3804:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   *               the configuration information for SPI module.
3805:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @retval None
3806:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   */
3807:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** static void SPI_RxISR_16BIT(struct __SPI_HandleTypeDef *hspi)
3808:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** {
3809:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   *((uint16_t *)hspi->pRxBuffPtr) = (uint16_t)(hspi->Instance->DR);
3810:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->pRxBuffPtr += sizeof(uint16_t);
3811:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->RxXferCount--;
3812:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
3813:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
3814:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Enable CRC Transmission */
3815:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if ((hspi->RxXferCount == 1U) && (hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE))
3816:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
3817:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     SET_BIT(hspi->Instance->CR1, SPI_CR1_CRCNEXT);
3818:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
3819:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #endif /* USE_SPI_CRC */
3820:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
3821:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if (hspi->RxXferCount == 0U)
3822:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
3823:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
3824:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     if (hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
3825:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
3826:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       hspi->RxISR = SPI_RxISR_16BITCRC;
3827:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       return;
3828:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
3829:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #endif /* USE_SPI_CRC */
3830:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     SPI_CloseRx_ISR(hspi);
3831:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
3832:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** }
3833:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
3834:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** /**
3835:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @brief  Handle the data 8-bit transmit in Interrupt mode.
3836:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
3837:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   *               the configuration information for SPI module.
3838:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @retval None
3839:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   */
3840:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** static void SPI_TxISR_8BIT(struct __SPI_HandleTypeDef *hspi)
3841:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** {
3842:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   *(__IO uint8_t *)&hspi->Instance->DR = (*hspi->pTxBuffPtr);
3843:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->pTxBuffPtr++;
3844:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->TxXferCount--;
3845:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
3846:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if (hspi->TxXferCount == 0U)
3847:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
3848:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
3849:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     if (hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 69


3850:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
3851:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       /* Enable CRC Transmission */
3852:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       SET_BIT(hspi->Instance->CR1, SPI_CR1_CRCNEXT);
3853:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
3854:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #endif /* USE_SPI_CRC */
3855:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     SPI_CloseTx_ISR(hspi);
3856:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
3857:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** }
3858:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
3859:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** /**
3860:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @brief  Handle the data 16-bit transmit in Interrupt mode.
3861:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
3862:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   *               the configuration information for SPI module.
3863:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @retval None
3864:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   */
3865:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** static void SPI_TxISR_16BIT(struct __SPI_HandleTypeDef *hspi)
3866:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** {
3867:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Transmit data in 16 Bit mode */
3868:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->Instance->DR = *((uint16_t *)hspi->pTxBuffPtr);
3869:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->pTxBuffPtr += sizeof(uint16_t);
3870:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->TxXferCount--;
3871:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
3872:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if (hspi->TxXferCount == 0U)
3873:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
3874:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
3875:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     if (hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
3876:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
3877:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       /* Enable CRC Transmission */
3878:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       SET_BIT(hspi->Instance->CR1, SPI_CR1_CRCNEXT);
3879:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
3880:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #endif /* USE_SPI_CRC */
3881:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     SPI_CloseTx_ISR(hspi);
3882:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
3883:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** }
3884:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
3885:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** /**
3886:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @brief  Handle SPI Communication Timeout.
3887:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
3888:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   *              the configuration information for SPI module.
3889:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @param  Flag SPI flag to check
3890:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @param  State flag state to check
3891:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @param  Timeout Timeout duration
3892:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @param  Tickstart tick start value
3893:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @retval HAL status
3894:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   */
3895:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** static HAL_StatusTypeDef SPI_WaitFlagStateUntilTimeout(SPI_HandleTypeDef *hspi, uint32_t Flag, Flag
3896:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****                                                        uint32_t Timeout, uint32_t Tickstart)
3897:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** {
  29              		.loc 1 3897 1 view -0
  30              		.cfi_startproc
  31              		@ args = 4, pretend = 0, frame = 8
  32              		@ frame_needed = 0, uses_anonymous_args = 0
  33              		.loc 1 3897 1 is_stmt 0 view .LVU1
  34 0000 2DE9F047 		push	{r4, r5, r6, r7, r8, r9, r10, lr}
  35              	.LCFI0:
  36              		.cfi_def_cfa_offset 32
  37              		.cfi_offset 4, -32
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 70


  38              		.cfi_offset 5, -28
  39              		.cfi_offset 6, -24
  40              		.cfi_offset 7, -20
  41              		.cfi_offset 8, -16
  42              		.cfi_offset 9, -12
  43              		.cfi_offset 10, -8
  44              		.cfi_offset 14, -4
  45 0004 82B0     		sub	sp, sp, #8
  46              	.LCFI1:
  47              		.cfi_def_cfa_offset 40
  48 0006 0546     		mov	r5, r0
  49 0008 8846     		mov	r8, r1
  50 000a 1746     		mov	r7, r2
  51 000c 1E46     		mov	r6, r3
3898:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   __IO uint32_t count;
  52              		.loc 1 3898 3 is_stmt 1 view .LVU2
3899:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   uint32_t tmp_timeout;
  53              		.loc 1 3899 3 view .LVU3
3900:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   uint32_t tmp_tickstart;
  54              		.loc 1 3900 3 view .LVU4
3901:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
3902:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Adjust Timeout value  in case of end of transfer */
3903:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   tmp_timeout   = Timeout - (HAL_GetTick() - Tickstart);
  55              		.loc 1 3903 3 view .LVU5
  56              		.loc 1 3903 30 is_stmt 0 view .LVU6
  57 000e FFF7FEFF 		bl	HAL_GetTick
  58              	.LVL1:
  59              		.loc 1 3903 44 view .LVU7
  60 0012 0A9B     		ldr	r3, [sp, #40]
  61 0014 1B1A     		subs	r3, r3, r0
  62              		.loc 1 3903 17 view .LVU8
  63 0016 03EB0609 		add	r9, r3, r6
  64              	.LVL2:
3904:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   tmp_tickstart = HAL_GetTick();
  65              		.loc 1 3904 3 is_stmt 1 view .LVU9
  66              		.loc 1 3904 19 is_stmt 0 view .LVU10
  67 001a FFF7FEFF 		bl	HAL_GetTick
  68              	.LVL3:
  69 001e 8246     		mov	r10, r0
  70              	.LVL4:
3905:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
3906:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Calculate Timeout based on a software loop to avoid blocking issue if Systick is disabled */
3907:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   count = tmp_timeout * ((SystemCoreClock * 32U) >> 20U);
  71              		.loc 1 3907 3 is_stmt 1 view .LVU11
  72              		.loc 1 3907 43 is_stmt 0 view .LVU12
  73 0020 2B4B     		ldr	r3, .L16
  74 0022 1B68     		ldr	r3, [r3]
  75              		.loc 1 3907 50 view .LVU13
  76 0024 C3F3CB33 		ubfx	r3, r3, #15, #12
  77              		.loc 1 3907 23 view .LVU14
  78 0028 09FB03F3 		mul	r3, r9, r3
  79              		.loc 1 3907 9 view .LVU15
  80 002c 0193     		str	r3, [sp, #4]
3908:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
3909:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   while ((__HAL_SPI_GET_FLAG(hspi, Flag) ? SET : RESET) != State)
  81              		.loc 1 3909 3 is_stmt 1 view .LVU16
  82              	.LVL5:
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 71


  83              	.L3:
  84              		.loc 1 3909 9 view .LVU17
  85              		.loc 1 3909 11 is_stmt 0 view .LVU18
  86 002e 2B68     		ldr	r3, [r5]
  87 0030 9C68     		ldr	r4, [r3, #8]
  88              		.loc 1 3909 48 view .LVU19
  89 0032 38EA0403 		bics	r3, r8, r4
  90 0036 0CBF     		ite	eq
  91 0038 4FF0010C 		moveq	ip, #1
  92 003c 4FF0000C 		movne	ip, #0
  93              		.loc 1 3909 9 view .LVU20
  94 0040 BC45     		cmp	ip, r7
  95 0042 40D0     		beq	.L13
3910:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
3911:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     if (Timeout != HAL_MAX_DELAY)
  96              		.loc 1 3911 5 is_stmt 1 view .LVU21
  97              		.loc 1 3911 8 is_stmt 0 view .LVU22
  98 0044 B6F1FF3F 		cmp	r6, #-1
  99 0048 F1D0     		beq	.L3
3912:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
3913:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       if (((HAL_GetTick() - tmp_tickstart) >= tmp_timeout) || (tmp_timeout == 0U))
 100              		.loc 1 3913 7 is_stmt 1 view .LVU23
 101              		.loc 1 3913 13 is_stmt 0 view .LVU24
 102 004a FFF7FEFF 		bl	HAL_GetTick
 103              	.LVL6:
 104              		.loc 1 3913 27 view .LVU25
 105 004e A0EB0A00 		sub	r0, r0, r10
 106              		.loc 1 3913 10 view .LVU26
 107 0052 4845     		cmp	r0, r9
 108 0054 0AD2     		bcs	.L4
 109              		.loc 1 3913 60 discriminator 1 view .LVU27
 110 0056 B9F1000F 		cmp	r9, #0
 111 005a 07D0     		beq	.L4
3914:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       {
3915:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         /* Disable the SPI and reset the CRC: the CRC value should be cleared
3916:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****            on both master and slave sides in order to resynchronize the master
3917:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****            and slave for their respective CRC calculation */
3918:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
3919:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         /* Disable TXE, RXNE and ERR interrupts for the interrupt process */
3920:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         __HAL_SPI_DISABLE_IT(hspi, (SPI_IT_TXE | SPI_IT_RXNE | SPI_IT_ERR));
3921:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
3922:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         if ((hspi->Init.Mode == SPI_MODE_MASTER) && ((hspi->Init.Direction == SPI_DIRECTION_1LINE)
3923:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****                                                      || (hspi->Init.Direction == SPI_DIRECTION_2LIN
3924:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         {
3925:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           /* Disable SPI peripheral */
3926:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           __HAL_SPI_DISABLE(hspi);
3927:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         }
3928:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
3929:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         /* Reset CRC Calculation */
3930:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         if (hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
3931:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         {
3932:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           SPI_RESET_CRC(hspi);
3933:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         }
3934:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
3935:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         hspi->State = HAL_SPI_STATE_READY;
3936:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
3937:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         /* Process Unlocked */
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 72


3938:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         __HAL_UNLOCK(hspi);
3939:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
3940:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         return HAL_TIMEOUT;
3941:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       }
3942:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       /* If Systick is disabled or not incremented, deactivate timeout to go in disable loop proced
3943:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       if(count == 0U)
 112              		.loc 1 3943 7 is_stmt 1 view .LVU28
 113              		.loc 1 3943 16 is_stmt 0 view .LVU29
 114 005c 019A     		ldr	r2, [sp, #4]
 115              		.loc 1 3943 9 view .LVU30
 116 005e 02B1     		cbz	r2, .L10
 117 0060 4A46     		mov	r2, r9
 118              	.L10:
 119              	.LVL7:
3944:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       {
3945:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         tmp_timeout = 0U;
3946:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       }
3947:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       count--;
 120              		.loc 1 3947 7 is_stmt 1 view .LVU31
 121              		.loc 1 3947 12 is_stmt 0 view .LVU32
 122 0062 019B     		ldr	r3, [sp, #4]
 123 0064 013B     		subs	r3, r3, #1
 124 0066 0193     		str	r3, [sp, #4]
 125 0068 9146     		mov	r9, r2
 126 006a E0E7     		b	.L3
 127              	.LVL8:
 128              	.L4:
3920:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 129              		.loc 1 3920 9 is_stmt 1 view .LVU33
 130 006c 2A68     		ldr	r2, [r5]
 131 006e 5368     		ldr	r3, [r2, #4]
 132 0070 23F0E003 		bic	r3, r3, #224
 133 0074 5360     		str	r3, [r2, #4]
3922:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****                                                      || (hspi->Init.Direction == SPI_DIRECTION_2LIN
 134              		.loc 1 3922 9 view .LVU34
3922:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****                                                      || (hspi->Init.Direction == SPI_DIRECTION_2LIN
 135              		.loc 1 3922 24 is_stmt 0 view .LVU35
 136 0076 6B68     		ldr	r3, [r5, #4]
3922:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****                                                      || (hspi->Init.Direction == SPI_DIRECTION_2LIN
 137              		.loc 1 3922 12 view .LVU36
 138 0078 B3F5827F 		cmp	r3, #260
 139 007c 0BD0     		beq	.L14
 140              	.L6:
3930:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         {
 141              		.loc 1 3930 9 is_stmt 1 view .LVU37
3930:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         {
 142              		.loc 1 3930 23 is_stmt 0 view .LVU38
 143 007e AB6A     		ldr	r3, [r5, #40]
3930:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         {
 144              		.loc 1 3930 12 view .LVU39
 145 0080 B3F5005F 		cmp	r3, #8192
 146 0084 14D0     		beq	.L15
 147              	.L8:
3932:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         }
 148              		.loc 1 3932 11 is_stmt 1 discriminator 1 view .LVU40
3935:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 149              		.loc 1 3935 9 discriminator 1 view .LVU41
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 73


3935:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 150              		.loc 1 3935 21 is_stmt 0 discriminator 1 view .LVU42
 151 0086 0123     		movs	r3, #1
 152 0088 85F85D30 		strb	r3, [r5, #93]
3938:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 153              		.loc 1 3938 9 is_stmt 1 discriminator 1 view .LVU43
3938:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 154              		.loc 1 3938 9 discriminator 1 view .LVU44
 155 008c 0023     		movs	r3, #0
 156 008e 85F85C30 		strb	r3, [r5, #92]
3938:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 157              		.loc 1 3938 9 discriminator 1 view .LVU45
3940:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       }
 158              		.loc 1 3940 9 discriminator 1 view .LVU46
3940:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       }
 159              		.loc 1 3940 16 is_stmt 0 discriminator 1 view .LVU47
 160 0092 0320     		movs	r0, #3
 161 0094 18E0     		b	.L9
 162              	.L14:
3922:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****                                                      || (hspi->Init.Direction == SPI_DIRECTION_2LIN
 163              		.loc 1 3922 65 discriminator 1 view .LVU48
 164 0096 AB68     		ldr	r3, [r5, #8]
3922:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****                                                      || (hspi->Init.Direction == SPI_DIRECTION_2LIN
 165              		.loc 1 3922 50 discriminator 1 view .LVU49
 166 0098 B3F5004F 		cmp	r3, #32768
 167 009c 02D0     		beq	.L7
3923:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         {
 168              		.loc 1 3923 54 view .LVU50
 169 009e B3F5806F 		cmp	r3, #1024
 170 00a2 ECD1     		bne	.L6
 171              	.L7:
3926:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         }
 172              		.loc 1 3926 11 is_stmt 1 view .LVU51
 173 00a4 2A68     		ldr	r2, [r5]
 174 00a6 1368     		ldr	r3, [r2]
 175 00a8 23F04003 		bic	r3, r3, #64
 176 00ac 1360     		str	r3, [r2]
 177 00ae E6E7     		b	.L6
 178              	.L15:
3932:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         }
 179              		.loc 1 3932 11 view .LVU52
3932:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         }
 180              		.loc 1 3932 11 view .LVU53
 181 00b0 2A68     		ldr	r2, [r5]
 182 00b2 1368     		ldr	r3, [r2]
 183 00b4 23F40053 		bic	r3, r3, #8192
 184 00b8 1360     		str	r3, [r2]
3932:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         }
 185              		.loc 1 3932 11 view .LVU54
 186 00ba 2A68     		ldr	r2, [r5]
 187 00bc 1368     		ldr	r3, [r2]
 188 00be 43F40053 		orr	r3, r3, #8192
 189 00c2 1360     		str	r3, [r2]
 190 00c4 DFE7     		b	.L8
 191              	.L13:
3948:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
3949:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 74


3950:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
3951:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   return HAL_OK;
 192              		.loc 1 3951 10 is_stmt 0 view .LVU55
 193 00c6 0020     		movs	r0, #0
 194              	.L9:
3952:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** }
 195              		.loc 1 3952 1 view .LVU56
 196 00c8 02B0     		add	sp, sp, #8
 197              	.LCFI2:
 198              		.cfi_def_cfa_offset 32
 199              		@ sp needed
 200 00ca BDE8F087 		pop	{r4, r5, r6, r7, r8, r9, r10, pc}
 201              	.LVL9:
 202              	.L17:
 203              		.loc 1 3952 1 view .LVU57
 204 00ce 00BF     		.align	2
 205              	.L16:
 206 00d0 00000000 		.word	SystemCoreClock
 207              		.cfi_endproc
 208              	.LFE179:
 210              		.section	.text.SPI_WaitFifoStateUntilTimeout,"ax",%progbits
 211              		.align	1
 212              		.syntax unified
 213              		.thumb
 214              		.thumb_func
 215              		.fpu fpv4-sp-d16
 217              	SPI_WaitFifoStateUntilTimeout:
 218              	.LVL10:
 219              	.LFB180:
3953:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
3954:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** /**
3955:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @brief  Handle SPI FIFO Communication Timeout.
3956:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
3957:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   *              the configuration information for SPI module.
3958:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @param  Fifo Fifo to check
3959:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @param  State Fifo state to check
3960:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @param  Timeout Timeout duration
3961:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @param  Tickstart tick start value
3962:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @retval HAL status
3963:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   */
3964:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** static HAL_StatusTypeDef SPI_WaitFifoStateUntilTimeout(SPI_HandleTypeDef *hspi, uint32_t Fifo, uint
3965:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****                                                        uint32_t Timeout, uint32_t Tickstart)
3966:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** {
 220              		.loc 1 3966 1 is_stmt 1 view -0
 221              		.cfi_startproc
 222              		@ args = 4, pretend = 0, frame = 8
 223              		@ frame_needed = 0, uses_anonymous_args = 0
 224              		.loc 1 3966 1 is_stmt 0 view .LVU59
 225 0000 2DE9F047 		push	{r4, r5, r6, r7, r8, r9, r10, lr}
 226              	.LCFI3:
 227              		.cfi_def_cfa_offset 32
 228              		.cfi_offset 4, -32
 229              		.cfi_offset 5, -28
 230              		.cfi_offset 6, -24
 231              		.cfi_offset 7, -20
 232              		.cfi_offset 8, -16
 233              		.cfi_offset 9, -12
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 75


 234              		.cfi_offset 10, -8
 235              		.cfi_offset 14, -4
 236 0004 82B0     		sub	sp, sp, #8
 237              	.LCFI4:
 238              		.cfi_def_cfa_offset 40
 239 0006 0746     		mov	r7, r0
 240 0008 0D46     		mov	r5, r1
 241 000a 1646     		mov	r6, r2
 242 000c 9846     		mov	r8, r3
3967:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   __IO uint32_t tmpreg;
 243              		.loc 1 3967 3 is_stmt 1 view .LVU60
3968:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   __IO uint32_t count;
 244              		.loc 1 3968 3 view .LVU61
3969:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   uint32_t tmp_timeout;
 245              		.loc 1 3969 3 view .LVU62
3970:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   uint32_t tmp_tickstart;
 246              		.loc 1 3970 3 view .LVU63
3971:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
3972:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Adjust Timeout value  in case of end of transfer */
3973:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   tmp_timeout = Timeout - (HAL_GetTick() - Tickstart);
 247              		.loc 1 3973 3 view .LVU64
 248              		.loc 1 3973 28 is_stmt 0 view .LVU65
 249 000e FFF7FEFF 		bl	HAL_GetTick
 250              	.LVL11:
 251              		.loc 1 3973 42 view .LVU66
 252 0012 0A9B     		ldr	r3, [sp, #40]
 253 0014 1B1A     		subs	r3, r3, r0
 254              		.loc 1 3973 15 view .LVU67
 255 0016 03EB0809 		add	r9, r3, r8
 256              	.LVL12:
3974:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   tmp_tickstart = HAL_GetTick();
 257              		.loc 1 3974 3 is_stmt 1 view .LVU68
 258              		.loc 1 3974 19 is_stmt 0 view .LVU69
 259 001a FFF7FEFF 		bl	HAL_GetTick
 260              	.LVL13:
 261 001e 8246     		mov	r10, r0
 262              	.LVL14:
3975:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
3976:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Calculate Timeout based on a software loop to avoid blocking issue if Systick is disabled */
3977:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   count = tmp_timeout * ((SystemCoreClock * 35U) >> 20U);
 263              		.loc 1 3977 3 is_stmt 1 view .LVU70
 264              		.loc 1 3977 43 is_stmt 0 view .LVU71
 265 0020 2F4B     		ldr	r3, .L35
 266 0022 1B68     		ldr	r3, [r3]
 267 0024 03EB8303 		add	r3, r3, r3, lsl #2
 268 0028 C3EBC303 		rsb	r3, r3, r3, lsl #3
 269              		.loc 1 3977 50 view .LVU72
 270 002c 1B0D     		lsrs	r3, r3, #20
 271              		.loc 1 3977 23 view .LVU73
 272 002e 09FB03F3 		mul	r3, r9, r3
 273              		.loc 1 3977 9 view .LVU74
 274 0032 0093     		str	r3, [sp]
3978:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
3979:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   while ((hspi->Instance->SR & Fifo) != State)
 275              		.loc 1 3979 3 is_stmt 1 view .LVU75
 276              		.loc 1 3979 9 is_stmt 0 view .LVU76
 277 0034 02E0     		b	.L21
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 76


 278              	.LVL15:
 279              	.L20:
3980:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
3981:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     if ((Fifo == SPI_SR_FRLVL) && (State == SPI_FRLVL_EMPTY))
3982:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
3983:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       /* Flush Data Register by a blank read */
3984:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       tmpreg = READ_REG(*((__IO uint8_t *)&hspi->Instance->DR));
3985:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       /* To avoid GCC warning */
3986:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       UNUSED(tmpreg);
3987:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
3988:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
3989:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     if (Timeout != HAL_MAX_DELAY)
 280              		.loc 1 3989 5 is_stmt 1 view .LVU77
 281              		.loc 1 3989 8 is_stmt 0 view .LVU78
 282 0036 B8F1FF3F 		cmp	r8, #-1
 283 003a 0FD1     		bne	.L31
 284              	.L21:
3979:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 285              		.loc 1 3979 9 is_stmt 1 view .LVU79
3979:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 286              		.loc 1 3979 15 is_stmt 0 view .LVU80
 287 003c 3B68     		ldr	r3, [r7]
3979:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 288              		.loc 1 3979 25 view .LVU81
 289 003e 9C68     		ldr	r4, [r3, #8]
3979:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 290              		.loc 1 3979 30 view .LVU82
 291 0040 04EA050C 		and	ip, r4, r5
3979:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 292              		.loc 1 3979 9 view .LVU83
 293 0044 B445     		cmp	ip, r6
 294 0046 47D0     		beq	.L32
3981:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
 295              		.loc 1 3981 5 is_stmt 1 view .LVU84
3981:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
 296              		.loc 1 3981 8 is_stmt 0 view .LVU85
 297 0048 B5F5C06F 		cmp	r5, #1536
 298 004c F3D1     		bne	.L20
3981:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
 299              		.loc 1 3981 32 discriminator 1 view .LVU86
 300 004e 002E     		cmp	r6, #0
 301 0050 F1D1     		bne	.L20
3984:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       /* To avoid GCC warning */
 302              		.loc 1 3984 7 is_stmt 1 view .LVU87
3984:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       /* To avoid GCC warning */
 303              		.loc 1 3984 16 is_stmt 0 view .LVU88
 304 0052 1B7B     		ldrb	r3, [r3, #12]	@ zero_extendqisi2
 305 0054 DBB2     		uxtb	r3, r3
3984:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       /* To avoid GCC warning */
 306              		.loc 1 3984 14 view .LVU89
 307 0056 0193     		str	r3, [sp, #4]
3986:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
 308              		.loc 1 3986 7 is_stmt 1 view .LVU90
 309 0058 019B     		ldr	r3, [sp, #4]
 310 005a ECE7     		b	.L20
 311              	.L31:
3990:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 77


3991:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       if (((HAL_GetTick() - tmp_tickstart) >= tmp_timeout) || (tmp_timeout == 0U))
 312              		.loc 1 3991 7 view .LVU91
 313              		.loc 1 3991 13 is_stmt 0 view .LVU92
 314 005c FFF7FEFF 		bl	HAL_GetTick
 315              	.LVL16:
 316              		.loc 1 3991 27 view .LVU93
 317 0060 A0EB0A00 		sub	r0, r0, r10
 318              		.loc 1 3991 10 view .LVU94
 319 0064 4845     		cmp	r0, r9
 320 0066 0AD2     		bcs	.L22
 321              		.loc 1 3991 60 discriminator 1 view .LVU95
 322 0068 B9F1000F 		cmp	r9, #0
 323 006c 07D0     		beq	.L22
3992:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       {
3993:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         /* Disable the SPI and reset the CRC: the CRC value should be cleared
3994:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****            on both master and slave sides in order to resynchronize the master
3995:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****            and slave for their respective CRC calculation */
3996:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
3997:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         /* Disable TXE, RXNE and ERR interrupts for the interrupt process */
3998:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         __HAL_SPI_DISABLE_IT(hspi, (SPI_IT_TXE | SPI_IT_RXNE | SPI_IT_ERR));
3999:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
4000:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         if ((hspi->Init.Mode == SPI_MODE_MASTER) && ((hspi->Init.Direction == SPI_DIRECTION_1LINE)
4001:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****                                                      || (hspi->Init.Direction == SPI_DIRECTION_2LIN
4002:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         {
4003:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           /* Disable SPI peripheral */
4004:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           __HAL_SPI_DISABLE(hspi);
4005:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         }
4006:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
4007:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         /* Reset CRC Calculation */
4008:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         if (hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
4009:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         {
4010:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           SPI_RESET_CRC(hspi);
4011:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         }
4012:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
4013:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         hspi->State = HAL_SPI_STATE_READY;
4014:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
4015:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         /* Process Unlocked */
4016:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         __HAL_UNLOCK(hspi);
4017:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
4018:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         return HAL_TIMEOUT;
4019:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       }
4020:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       /* If Systick is disabled or not incremented, deactivate timeout to go in disable loop proced
4021:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       if(count == 0U)
 324              		.loc 1 4021 7 is_stmt 1 view .LVU96
 325              		.loc 1 4021 16 is_stmt 0 view .LVU97
 326 006e 009A     		ldr	r2, [sp]
 327              		.loc 1 4021 9 view .LVU98
 328 0070 02B1     		cbz	r2, .L28
 329 0072 4A46     		mov	r2, r9
 330              	.L28:
 331              	.LVL17:
4022:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       {
4023:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         tmp_timeout = 0U;
4024:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       }      
4025:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       count--;
 332              		.loc 1 4025 7 is_stmt 1 view .LVU99
 333              		.loc 1 4025 12 is_stmt 0 view .LVU100
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 78


 334 0074 009B     		ldr	r3, [sp]
 335 0076 013B     		subs	r3, r3, #1
 336 0078 0093     		str	r3, [sp]
 337 007a 9146     		mov	r9, r2
 338 007c DEE7     		b	.L21
 339              	.LVL18:
 340              	.L22:
3998:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 341              		.loc 1 3998 9 is_stmt 1 view .LVU101
 342 007e 3A68     		ldr	r2, [r7]
 343 0080 5368     		ldr	r3, [r2, #4]
 344 0082 23F0E003 		bic	r3, r3, #224
 345 0086 5360     		str	r3, [r2, #4]
4000:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****                                                      || (hspi->Init.Direction == SPI_DIRECTION_2LIN
 346              		.loc 1 4000 9 view .LVU102
4000:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****                                                      || (hspi->Init.Direction == SPI_DIRECTION_2LIN
 347              		.loc 1 4000 24 is_stmt 0 view .LVU103
 348 0088 7B68     		ldr	r3, [r7, #4]
4000:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****                                                      || (hspi->Init.Direction == SPI_DIRECTION_2LIN
 349              		.loc 1 4000 12 view .LVU104
 350 008a B3F5827F 		cmp	r3, #260
 351 008e 0BD0     		beq	.L33
 352              	.L24:
4008:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         {
 353              		.loc 1 4008 9 is_stmt 1 view .LVU105
4008:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         {
 354              		.loc 1 4008 23 is_stmt 0 view .LVU106
 355 0090 BB6A     		ldr	r3, [r7, #40]
4008:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         {
 356              		.loc 1 4008 12 view .LVU107
 357 0092 B3F5005F 		cmp	r3, #8192
 358 0096 14D0     		beq	.L34
 359              	.L26:
4010:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         }
 360              		.loc 1 4010 11 is_stmt 1 discriminator 1 view .LVU108
4013:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 361              		.loc 1 4013 9 discriminator 1 view .LVU109
4013:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 362              		.loc 1 4013 21 is_stmt 0 discriminator 1 view .LVU110
 363 0098 0123     		movs	r3, #1
 364 009a 87F85D30 		strb	r3, [r7, #93]
4016:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 365              		.loc 1 4016 9 is_stmt 1 discriminator 1 view .LVU111
4016:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 366              		.loc 1 4016 9 discriminator 1 view .LVU112
 367 009e 0023     		movs	r3, #0
 368 00a0 87F85C30 		strb	r3, [r7, #92]
4016:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 369              		.loc 1 4016 9 discriminator 1 view .LVU113
4018:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       }
 370              		.loc 1 4018 9 discriminator 1 view .LVU114
4018:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       }
 371              		.loc 1 4018 16 is_stmt 0 discriminator 1 view .LVU115
 372 00a4 0320     		movs	r0, #3
 373 00a6 18E0     		b	.L27
 374              	.L33:
4000:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****                                                      || (hspi->Init.Direction == SPI_DIRECTION_2LIN
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 79


 375              		.loc 1 4000 65 discriminator 1 view .LVU116
 376 00a8 BB68     		ldr	r3, [r7, #8]
4000:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****                                                      || (hspi->Init.Direction == SPI_DIRECTION_2LIN
 377              		.loc 1 4000 50 discriminator 1 view .LVU117
 378 00aa B3F5004F 		cmp	r3, #32768
 379 00ae 02D0     		beq	.L25
4001:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         {
 380              		.loc 1 4001 54 view .LVU118
 381 00b0 B3F5806F 		cmp	r3, #1024
 382 00b4 ECD1     		bne	.L24
 383              	.L25:
4004:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         }
 384              		.loc 1 4004 11 is_stmt 1 view .LVU119
 385 00b6 3A68     		ldr	r2, [r7]
 386 00b8 1368     		ldr	r3, [r2]
 387 00ba 23F04003 		bic	r3, r3, #64
 388 00be 1360     		str	r3, [r2]
 389 00c0 E6E7     		b	.L24
 390              	.L34:
4010:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         }
 391              		.loc 1 4010 11 view .LVU120
4010:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         }
 392              		.loc 1 4010 11 view .LVU121
 393 00c2 3A68     		ldr	r2, [r7]
 394 00c4 1368     		ldr	r3, [r2]
 395 00c6 23F40053 		bic	r3, r3, #8192
 396 00ca 1360     		str	r3, [r2]
4010:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         }
 397              		.loc 1 4010 11 view .LVU122
 398 00cc 3A68     		ldr	r2, [r7]
 399 00ce 1368     		ldr	r3, [r2]
 400 00d0 43F40053 		orr	r3, r3, #8192
 401 00d4 1360     		str	r3, [r2]
 402 00d6 DFE7     		b	.L26
 403              	.L32:
4026:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
4027:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
4028:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
4029:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   return HAL_OK;
 404              		.loc 1 4029 10 is_stmt 0 view .LVU123
 405 00d8 0020     		movs	r0, #0
 406              	.L27:
4030:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** }
 407              		.loc 1 4030 1 view .LVU124
 408 00da 02B0     		add	sp, sp, #8
 409              	.LCFI5:
 410              		.cfi_def_cfa_offset 32
 411              		@ sp needed
 412 00dc BDE8F087 		pop	{r4, r5, r6, r7, r8, r9, r10, pc}
 413              	.LVL19:
 414              	.L36:
 415              		.loc 1 4030 1 view .LVU125
 416              		.align	2
 417              	.L35:
 418 00e0 00000000 		.word	SystemCoreClock
 419              		.cfi_endproc
 420              	.LFE180:
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 80


 422              		.section	.text.SPI_EndRxTxTransaction,"ax",%progbits
 423              		.align	1
 424              		.syntax unified
 425              		.thumb
 426              		.thumb_func
 427              		.fpu fpv4-sp-d16
 429              	SPI_EndRxTxTransaction:
 430              	.LVL20:
 431              	.LFB182:
4031:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
4032:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** /**
4033:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @brief  Handle the check of the RX transaction complete.
4034:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
4035:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   *               the configuration information for SPI module.
4036:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @param  Timeout Timeout duration
4037:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @param  Tickstart tick start value
4038:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @retval HAL status
4039:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   */
4040:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** static HAL_StatusTypeDef SPI_EndRxTransaction(SPI_HandleTypeDef *hspi,  uint32_t Timeout, uint32_t 
4041:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** {
4042:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if ((hspi->Init.Mode == SPI_MODE_MASTER) && ((hspi->Init.Direction == SPI_DIRECTION_1LINE)
4043:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****                                                || (hspi->Init.Direction == SPI_DIRECTION_2LINES_RXO
4044:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
4045:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* Disable SPI peripheral */
4046:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     __HAL_SPI_DISABLE(hspi);
4047:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
4048:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
4049:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Control the BSY flag */
4050:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if (SPI_WaitFlagStateUntilTimeout(hspi, SPI_FLAG_BSY, RESET, Timeout, Tickstart) != HAL_OK)
4051:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
4052:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_FLAG);
4053:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     return HAL_TIMEOUT;
4054:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
4055:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
4056:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if ((hspi->Init.Mode == SPI_MODE_MASTER) && ((hspi->Init.Direction == SPI_DIRECTION_1LINE)
4057:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****                                                || (hspi->Init.Direction == SPI_DIRECTION_2LINES_RXO
4058:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
4059:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* Empty the FRLVL fifo */
4060:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     if (SPI_WaitFifoStateUntilTimeout(hspi, SPI_FLAG_FRLVL, SPI_FRLVL_EMPTY, Timeout, Tickstart) !=
4061:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
4062:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_FLAG);
4063:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       return HAL_TIMEOUT;
4064:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
4065:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
4066:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   return HAL_OK;
4067:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** }
4068:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
4069:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** /**
4070:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @brief  Handle the check of the RXTX or TX transaction complete.
4071:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @param  hspi SPI handle
4072:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @param  Timeout Timeout duration
4073:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @param  Tickstart tick start value
4074:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @retval HAL status
4075:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   */
4076:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** static HAL_StatusTypeDef SPI_EndRxTxTransaction(SPI_HandleTypeDef *hspi, uint32_t Timeout, uint32_t
4077:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** {
 432              		.loc 1 4077 1 is_stmt 1 view -0
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 81


 433              		.cfi_startproc
 434              		@ args = 0, pretend = 0, frame = 0
 435              		@ frame_needed = 0, uses_anonymous_args = 0
 436              		.loc 1 4077 1 is_stmt 0 view .LVU127
 437 0000 70B5     		push	{r4, r5, r6, lr}
 438              	.LCFI6:
 439              		.cfi_def_cfa_offset 16
 440              		.cfi_offset 4, -16
 441              		.cfi_offset 5, -12
 442              		.cfi_offset 6, -8
 443              		.cfi_offset 14, -4
 444 0002 82B0     		sub	sp, sp, #8
 445              	.LCFI7:
 446              		.cfi_def_cfa_offset 24
 447 0004 0446     		mov	r4, r0
 448 0006 0D46     		mov	r5, r1
 449 0008 1646     		mov	r6, r2
4078:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Control if the TX fifo is empty */
4079:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if (SPI_WaitFifoStateUntilTimeout(hspi, SPI_FLAG_FTLVL, SPI_FTLVL_EMPTY, Timeout, Tickstart) != H
 450              		.loc 1 4079 3 is_stmt 1 view .LVU128
 451              		.loc 1 4079 7 is_stmt 0 view .LVU129
 452 000a 0092     		str	r2, [sp]
 453 000c 0B46     		mov	r3, r1
 454 000e 0022     		movs	r2, #0
 455              	.LVL21:
 456              		.loc 1 4079 7 view .LVU130
 457 0010 4FF4C051 		mov	r1, #6144
 458              	.LVL22:
 459              		.loc 1 4079 7 view .LVU131
 460 0014 FFF7FEFF 		bl	SPI_WaitFifoStateUntilTimeout
 461              	.LVL23:
 462              		.loc 1 4079 6 view .LVU132
 463 0018 B0B9     		cbnz	r0, .L42
4080:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
4081:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_FLAG);
4082:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     return HAL_TIMEOUT;
4083:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
4084:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
4085:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Control the BSY flag */
4086:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if (SPI_WaitFlagStateUntilTimeout(hspi, SPI_FLAG_BSY, RESET, Timeout, Tickstart) != HAL_OK)
 464              		.loc 1 4086 3 is_stmt 1 view .LVU133
 465              		.loc 1 4086 7 is_stmt 0 view .LVU134
 466 001a 0096     		str	r6, [sp]
 467 001c 2B46     		mov	r3, r5
 468 001e 0022     		movs	r2, #0
 469 0020 8021     		movs	r1, #128
 470 0022 2046     		mov	r0, r4
 471 0024 FFF7FEFF 		bl	SPI_WaitFlagStateUntilTimeout
 472              	.LVL24:
 473              		.loc 1 4086 6 view .LVU135
 474 0028 A8B9     		cbnz	r0, .L43
4087:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
4088:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_FLAG);
4089:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     return HAL_TIMEOUT;
4090:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
4091:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
4092:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Control if the RX fifo is empty */
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 82


4093:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if (SPI_WaitFifoStateUntilTimeout(hspi, SPI_FLAG_FRLVL, SPI_FRLVL_EMPTY, Timeout, Tickstart) != H
 475              		.loc 1 4093 3 is_stmt 1 view .LVU136
 476              		.loc 1 4093 7 is_stmt 0 view .LVU137
 477 002a 0096     		str	r6, [sp]
 478 002c 2B46     		mov	r3, r5
 479 002e 0022     		movs	r2, #0
 480 0030 4FF4C061 		mov	r1, #1536
 481 0034 2046     		mov	r0, r4
 482 0036 FFF7FEFF 		bl	SPI_WaitFifoStateUntilTimeout
 483              	.LVL25:
 484              		.loc 1 4093 6 view .LVU138
 485 003a 50B1     		cbz	r0, .L39
4094:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
4095:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_FLAG);
 486              		.loc 1 4095 5 is_stmt 1 view .LVU139
 487 003c 236E     		ldr	r3, [r4, #96]
 488 003e 43F02003 		orr	r3, r3, #32
 489 0042 2366     		str	r3, [r4, #96]
4096:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     return HAL_TIMEOUT;
 490              		.loc 1 4096 5 view .LVU140
 491              		.loc 1 4096 12 is_stmt 0 view .LVU141
 492 0044 0320     		movs	r0, #3
 493 0046 04E0     		b	.L39
 494              	.L42:
4081:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     return HAL_TIMEOUT;
 495              		.loc 1 4081 5 is_stmt 1 view .LVU142
 496 0048 236E     		ldr	r3, [r4, #96]
 497 004a 43F02003 		orr	r3, r3, #32
 498 004e 2366     		str	r3, [r4, #96]
4082:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
 499              		.loc 1 4082 5 view .LVU143
4082:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
 500              		.loc 1 4082 12 is_stmt 0 view .LVU144
 501 0050 0320     		movs	r0, #3
 502              	.L39:
4097:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
4098:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
4099:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   return HAL_OK;
4100:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** }
 503              		.loc 1 4100 1 view .LVU145
 504 0052 02B0     		add	sp, sp, #8
 505              	.LCFI8:
 506              		.cfi_remember_state
 507              		.cfi_def_cfa_offset 16
 508              		@ sp needed
 509 0054 70BD     		pop	{r4, r5, r6, pc}
 510              	.LVL26:
 511              	.L43:
 512              	.LCFI9:
 513              		.cfi_restore_state
4088:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     return HAL_TIMEOUT;
 514              		.loc 1 4088 5 is_stmt 1 view .LVU146
 515 0056 236E     		ldr	r3, [r4, #96]
 516 0058 43F02003 		orr	r3, r3, #32
 517 005c 2366     		str	r3, [r4, #96]
4089:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
 518              		.loc 1 4089 5 view .LVU147
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 83


4089:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
 519              		.loc 1 4089 12 is_stmt 0 view .LVU148
 520 005e 0320     		movs	r0, #3
 521 0060 F7E7     		b	.L39
 522              		.cfi_endproc
 523              	.LFE182:
 525              		.section	.text.SPI_EndRxTransaction,"ax",%progbits
 526              		.align	1
 527              		.syntax unified
 528              		.thumb
 529              		.thumb_func
 530              		.fpu fpv4-sp-d16
 532              	SPI_EndRxTransaction:
 533              	.LVL27:
 534              	.LFB181:
4041:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if ((hspi->Init.Mode == SPI_MODE_MASTER) && ((hspi->Init.Direction == SPI_DIRECTION_1LINE)
 535              		.loc 1 4041 1 is_stmt 1 view -0
 536              		.cfi_startproc
 537              		@ args = 0, pretend = 0, frame = 0
 538              		@ frame_needed = 0, uses_anonymous_args = 0
4041:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if ((hspi->Init.Mode == SPI_MODE_MASTER) && ((hspi->Init.Direction == SPI_DIRECTION_1LINE)
 539              		.loc 1 4041 1 is_stmt 0 view .LVU150
 540 0000 70B5     		push	{r4, r5, r6, lr}
 541              	.LCFI10:
 542              		.cfi_def_cfa_offset 16
 543              		.cfi_offset 4, -16
 544              		.cfi_offset 5, -12
 545              		.cfi_offset 6, -8
 546              		.cfi_offset 14, -4
 547 0002 82B0     		sub	sp, sp, #8
 548              	.LCFI11:
 549              		.cfi_def_cfa_offset 24
 550 0004 0446     		mov	r4, r0
 551 0006 0D46     		mov	r5, r1
 552 0008 1646     		mov	r6, r2
4042:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****                                                || (hspi->Init.Direction == SPI_DIRECTION_2LINES_RXO
 553              		.loc 1 4042 3 is_stmt 1 view .LVU151
4042:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****                                                || (hspi->Init.Direction == SPI_DIRECTION_2LINES_RXO
 554              		.loc 1 4042 18 is_stmt 0 view .LVU152
 555 000a 4368     		ldr	r3, [r0, #4]
4042:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****                                                || (hspi->Init.Direction == SPI_DIRECTION_2LINES_RXO
 556              		.loc 1 4042 6 view .LVU153
 557 000c B3F5827F 		cmp	r3, #260
 558 0010 0DD0     		beq	.L51
 559              	.LVL28:
 560              	.L45:
4050:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 561              		.loc 1 4050 3 is_stmt 1 view .LVU154
4050:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 562              		.loc 1 4050 7 is_stmt 0 view .LVU155
 563 0012 0096     		str	r6, [sp]
 564 0014 2B46     		mov	r3, r5
 565 0016 0022     		movs	r2, #0
 566 0018 8021     		movs	r1, #128
 567              	.LVL29:
4050:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 568              		.loc 1 4050 7 view .LVU156
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 84


 569 001a 2046     		mov	r0, r4
 570              	.LVL30:
4050:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 571              		.loc 1 4050 7 view .LVU157
 572 001c FFF7FEFF 		bl	SPI_WaitFlagStateUntilTimeout
 573              	.LVL31:
4050:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 574              		.loc 1 4050 6 view .LVU158
 575 0020 90B9     		cbnz	r0, .L52
4056:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****                                                || (hspi->Init.Direction == SPI_DIRECTION_2LINES_RXO
 576              		.loc 1 4056 3 is_stmt 1 view .LVU159
4056:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****                                                || (hspi->Init.Direction == SPI_DIRECTION_2LINES_RXO
 577              		.loc 1 4056 18 is_stmt 0 view .LVU160
 578 0022 6368     		ldr	r3, [r4, #4]
4056:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****                                                || (hspi->Init.Direction == SPI_DIRECTION_2LINES_RXO
 579              		.loc 1 4056 6 view .LVU161
 580 0024 B3F5827F 		cmp	r3, #260
 581 0028 14D0     		beq	.L53
 582              	.L48:
4067:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 583              		.loc 1 4067 1 view .LVU162
 584 002a 02B0     		add	sp, sp, #8
 585              	.LCFI12:
 586              		.cfi_remember_state
 587              		.cfi_def_cfa_offset 16
 588              		@ sp needed
 589 002c 70BD     		pop	{r4, r5, r6, pc}
 590              	.LVL32:
 591              	.L51:
 592              	.LCFI13:
 593              		.cfi_restore_state
4042:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****                                                || (hspi->Init.Direction == SPI_DIRECTION_2LINES_RXO
 594              		.loc 1 4042 59 discriminator 1 view .LVU163
 595 002e 8368     		ldr	r3, [r0, #8]
4042:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****                                                || (hspi->Init.Direction == SPI_DIRECTION_2LINES_RXO
 596              		.loc 1 4042 44 discriminator 1 view .LVU164
 597 0030 B3F5004F 		cmp	r3, #32768
 598 0034 02D0     		beq	.L46
4043:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 599              		.loc 1 4043 48 view .LVU165
 600 0036 B3F5806F 		cmp	r3, #1024
 601 003a EAD1     		bne	.L45
 602              	.L46:
4046:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
 603              		.loc 1 4046 5 is_stmt 1 view .LVU166
 604 003c 2268     		ldr	r2, [r4]
 605              	.LVL33:
4046:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
 606              		.loc 1 4046 5 is_stmt 0 view .LVU167
 607 003e 1368     		ldr	r3, [r2]
 608 0040 23F04003 		bic	r3, r3, #64
 609 0044 1360     		str	r3, [r2]
 610 0046 E4E7     		b	.L45
 611              	.LVL34:
 612              	.L52:
4052:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     return HAL_TIMEOUT;
 613              		.loc 1 4052 5 is_stmt 1 view .LVU168
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 85


 614 0048 236E     		ldr	r3, [r4, #96]
 615 004a 43F02003 		orr	r3, r3, #32
 616 004e 2366     		str	r3, [r4, #96]
4053:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
 617              		.loc 1 4053 5 view .LVU169
4053:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
 618              		.loc 1 4053 12 is_stmt 0 view .LVU170
 619 0050 0320     		movs	r0, #3
 620 0052 EAE7     		b	.L48
 621              	.L53:
4056:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****                                                || (hspi->Init.Direction == SPI_DIRECTION_2LINES_RXO
 622              		.loc 1 4056 59 discriminator 1 view .LVU171
 623 0054 A368     		ldr	r3, [r4, #8]
4056:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****                                                || (hspi->Init.Direction == SPI_DIRECTION_2LINES_RXO
 624              		.loc 1 4056 44 discriminator 1 view .LVU172
 625 0056 B3F5004F 		cmp	r3, #32768
 626 005a 02D0     		beq	.L49
4057:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 627              		.loc 1 4057 48 view .LVU173
 628 005c B3F5806F 		cmp	r3, #1024
 629 0060 E3D1     		bne	.L48
 630              	.L49:
4060:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
 631              		.loc 1 4060 5 is_stmt 1 view .LVU174
4060:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
 632              		.loc 1 4060 9 is_stmt 0 view .LVU175
 633 0062 0096     		str	r6, [sp]
 634 0064 2B46     		mov	r3, r5
 635 0066 0022     		movs	r2, #0
 636 0068 4FF4C061 		mov	r1, #1536
 637 006c 2046     		mov	r0, r4
 638 006e FFF7FEFF 		bl	SPI_WaitFifoStateUntilTimeout
 639              	.LVL35:
4060:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
 640              		.loc 1 4060 8 view .LVU176
 641 0072 0028     		cmp	r0, #0
 642 0074 D9D0     		beq	.L48
4062:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       return HAL_TIMEOUT;
 643              		.loc 1 4062 7 is_stmt 1 view .LVU177
 644 0076 236E     		ldr	r3, [r4, #96]
 645 0078 43F02003 		orr	r3, r3, #32
 646 007c 2366     		str	r3, [r4, #96]
4063:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
 647              		.loc 1 4063 7 view .LVU178
4063:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
 648              		.loc 1 4063 14 is_stmt 0 view .LVU179
 649 007e 0320     		movs	r0, #3
 650 0080 D3E7     		b	.L48
 651              		.cfi_endproc
 652              	.LFE181:
 654              		.section	.text.SPI_AbortRx_ISR,"ax",%progbits
 655              		.align	1
 656              		.syntax unified
 657              		.thumb
 658              		.thumb_func
 659              		.fpu fpv4-sp-d16
 661              	SPI_AbortRx_ISR:
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 86


 662              	.LVL36:
 663              	.LFB186:
4101:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
4102:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** /**
4103:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @brief  Handle the end of the RXTX transaction.
4104:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
4105:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   *               the configuration information for SPI module.
4106:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @retval None
4107:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   */
4108:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** static void SPI_CloseRxTx_ISR(SPI_HandleTypeDef *hspi)
4109:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** {
4110:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   uint32_t tickstart;
4111:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
4112:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Init tickstart for timeout management */
4113:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   tickstart = HAL_GetTick();
4114:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
4115:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Disable ERR interrupt */
4116:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   __HAL_SPI_DISABLE_IT(hspi, SPI_IT_ERR);
4117:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
4118:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Check the end of the transaction */
4119:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if (SPI_EndRxTxTransaction(hspi, SPI_DEFAULT_TIMEOUT, tickstart) != HAL_OK)
4120:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
4121:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_FLAG);
4122:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
4123:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
4124:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
4125:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Check if CRC error occurred */
4126:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if (__HAL_SPI_GET_FLAG(hspi, SPI_FLAG_CRCERR) != RESET)
4127:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
4128:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     hspi->State = HAL_SPI_STATE_READY;
4129:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_CRC);
4130:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     __HAL_SPI_CLEAR_CRCERRFLAG(hspi);
4131:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* Call user error callback */
4132:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #if (USE_HAL_SPI_REGISTER_CALLBACKS == 1U)
4133:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     hspi->ErrorCallback(hspi);
4134:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #else
4135:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     HAL_SPI_ErrorCallback(hspi);
4136:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
4137:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
4138:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   else
4139:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
4140:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #endif /* USE_SPI_CRC */
4141:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     if (hspi->ErrorCode == HAL_SPI_ERROR_NONE)
4142:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
4143:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       if (hspi->State == HAL_SPI_STATE_BUSY_RX)
4144:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       {
4145:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         hspi->State = HAL_SPI_STATE_READY;
4146:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         /* Call user Rx complete callback */
4147:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #if (USE_HAL_SPI_REGISTER_CALLBACKS == 1U)
4148:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         hspi->RxCpltCallback(hspi);
4149:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #else
4150:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         HAL_SPI_RxCpltCallback(hspi);
4151:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
4152:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       }
4153:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       else
4154:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       {
4155:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         hspi->State = HAL_SPI_STATE_READY;
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 87


4156:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         /* Call user TxRx complete callback */
4157:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #if (USE_HAL_SPI_REGISTER_CALLBACKS == 1U)
4158:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         hspi->TxRxCpltCallback(hspi);
4159:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #else
4160:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         HAL_SPI_TxRxCpltCallback(hspi);
4161:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
4162:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       }
4163:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
4164:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     else
4165:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
4166:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       hspi->State = HAL_SPI_STATE_READY;
4167:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       /* Call user error callback */
4168:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #if (USE_HAL_SPI_REGISTER_CALLBACKS == 1U)
4169:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       hspi->ErrorCallback(hspi);
4170:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #else
4171:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       HAL_SPI_ErrorCallback(hspi);
4172:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
4173:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
4174:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
4175:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
4176:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #endif /* USE_SPI_CRC */
4177:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** }
4178:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
4179:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** /**
4180:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @brief  Handle the end of the RX transaction.
4181:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
4182:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   *               the configuration information for SPI module.
4183:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @retval None
4184:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   */
4185:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** static void SPI_CloseRx_ISR(SPI_HandleTypeDef *hspi)
4186:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** {
4187:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Disable RXNE and ERR interrupt */
4188:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   __HAL_SPI_DISABLE_IT(hspi, (SPI_IT_RXNE | SPI_IT_ERR));
4189:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
4190:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Check the end of the transaction */
4191:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if (SPI_EndRxTransaction(hspi, SPI_DEFAULT_TIMEOUT, HAL_GetTick()) != HAL_OK)
4192:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
4193:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_FLAG);
4194:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
4195:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->State = HAL_SPI_STATE_READY;
4196:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
4197:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
4198:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Check if CRC error occurred */
4199:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if (__HAL_SPI_GET_FLAG(hspi, SPI_FLAG_CRCERR) != RESET)
4200:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
4201:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_CRC);
4202:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     __HAL_SPI_CLEAR_CRCERRFLAG(hspi);
4203:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* Call user error callback */
4204:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #if (USE_HAL_SPI_REGISTER_CALLBACKS == 1U)
4205:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     hspi->ErrorCallback(hspi);
4206:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #else
4207:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     HAL_SPI_ErrorCallback(hspi);
4208:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
4209:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
4210:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   else
4211:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
4212:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #endif /* USE_SPI_CRC */
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 88


4213:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     if (hspi->ErrorCode == HAL_SPI_ERROR_NONE)
4214:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
4215:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       /* Call user Rx complete callback */
4216:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #if (USE_HAL_SPI_REGISTER_CALLBACKS == 1U)
4217:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       hspi->RxCpltCallback(hspi);
4218:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #else
4219:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       HAL_SPI_RxCpltCallback(hspi);
4220:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
4221:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
4222:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     else
4223:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
4224:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       /* Call user error callback */
4225:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #if (USE_HAL_SPI_REGISTER_CALLBACKS == 1U)
4226:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       hspi->ErrorCallback(hspi);
4227:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #else
4228:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       HAL_SPI_ErrorCallback(hspi);
4229:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
4230:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
4231:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
4232:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
4233:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #endif /* USE_SPI_CRC */
4234:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** }
4235:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
4236:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** /**
4237:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @brief  Handle the end of the TX transaction.
4238:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
4239:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   *               the configuration information for SPI module.
4240:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @retval None
4241:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   */
4242:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** static void SPI_CloseTx_ISR(SPI_HandleTypeDef *hspi)
4243:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** {
4244:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   uint32_t tickstart;
4245:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
4246:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Init tickstart for timeout management*/
4247:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   tickstart = HAL_GetTick();
4248:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
4249:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Disable TXE and ERR interrupt */
4250:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   __HAL_SPI_DISABLE_IT(hspi, (SPI_IT_TXE | SPI_IT_ERR));
4251:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
4252:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Check the end of the transaction */
4253:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if (SPI_EndRxTxTransaction(hspi, SPI_DEFAULT_TIMEOUT, tickstart) != HAL_OK)
4254:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
4255:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_FLAG);
4256:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
4257:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
4258:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Clear overrun flag in 2 Lines communication mode because received is not read */
4259:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if (hspi->Init.Direction == SPI_DIRECTION_2LINES)
4260:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
4261:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     __HAL_SPI_CLEAR_OVRFLAG(hspi);
4262:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
4263:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
4264:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->State = HAL_SPI_STATE_READY;
4265:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if (hspi->ErrorCode != HAL_SPI_ERROR_NONE)
4266:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
4267:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* Call user error callback */
4268:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #if (USE_HAL_SPI_REGISTER_CALLBACKS == 1U)
4269:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     hspi->ErrorCallback(hspi);
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 89


4270:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #else
4271:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     HAL_SPI_ErrorCallback(hspi);
4272:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
4273:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
4274:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   else
4275:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
4276:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* Call user Rx complete callback */
4277:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #if (USE_HAL_SPI_REGISTER_CALLBACKS == 1U)
4278:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     hspi->TxCpltCallback(hspi);
4279:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #else
4280:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     HAL_SPI_TxCpltCallback(hspi);
4281:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
4282:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
4283:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** }
4284:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
4285:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** /**
4286:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @brief  Handle abort a Rx transaction.
4287:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
4288:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   *               the configuration information for SPI module.
4289:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @retval None
4290:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   */
4291:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** static void SPI_AbortRx_ISR(SPI_HandleTypeDef *hspi)
4292:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** {
 664              		.loc 1 4292 1 is_stmt 1 view -0
 665              		.cfi_startproc
 666              		@ args = 0, pretend = 0, frame = 8
 667              		@ frame_needed = 0, uses_anonymous_args = 0
 668              		.loc 1 4292 1 is_stmt 0 view .LVU181
 669 0000 10B5     		push	{r4, lr}
 670              	.LCFI14:
 671              		.cfi_def_cfa_offset 8
 672              		.cfi_offset 4, -8
 673              		.cfi_offset 14, -4
 674 0002 84B0     		sub	sp, sp, #16
 675              	.LCFI15:
 676              		.cfi_def_cfa_offset 24
 677 0004 0446     		mov	r4, r0
4293:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   __IO uint32_t count;
 678              		.loc 1 4293 3 is_stmt 1 view .LVU182
4294:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
4295:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Disable SPI Peripheral */
4296:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   __HAL_SPI_DISABLE(hspi);
 679              		.loc 1 4296 3 view .LVU183
 680 0006 0268     		ldr	r2, [r0]
 681 0008 1368     		ldr	r3, [r2]
 682 000a 23F04003 		bic	r3, r3, #64
 683 000e 1360     		str	r3, [r2]
4297:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
4298:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   count = SPI_DEFAULT_TIMEOUT * (SystemCoreClock / 24U / 1000U);
 684              		.loc 1 4298 3 view .LVU184
 685              		.loc 1 4298 56 is_stmt 0 view .LVU185
 686 0010 1D4B     		ldr	r3, .L62
 687 0012 1B68     		ldr	r3, [r3]
 688 0014 1D4A     		ldr	r2, .L62+4
 689 0016 A2FB0323 		umull	r2, r3, r2, r3
 690 001a 5B0A     		lsrs	r3, r3, #9
 691              		.loc 1 4298 31 view .LVU186
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 90


 692 001c 6422     		movs	r2, #100
 693 001e 02FB03F3 		mul	r3, r2, r3
 694              		.loc 1 4298 9 view .LVU187
 695 0022 0393     		str	r3, [sp, #12]
4299:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
4300:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Disable RXNEIE interrupt */
4301:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   CLEAR_BIT(hspi->Instance->CR2, (SPI_CR2_RXNEIE));
 696              		.loc 1 4301 3 is_stmt 1 view .LVU188
 697 0024 0268     		ldr	r2, [r0]
 698 0026 5368     		ldr	r3, [r2, #4]
 699 0028 23F04003 		bic	r3, r3, #64
 700 002c 5360     		str	r3, [r2, #4]
 701              	.L57:
4302:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
4303:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Check RXNEIE is disabled */
4304:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   do
 702              		.loc 1 4304 3 view .LVU189
4305:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
4306:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     if (count == 0U)
 703              		.loc 1 4306 5 view .LVU190
 704              		.loc 1 4306 15 is_stmt 0 view .LVU191
 705 002e 039B     		ldr	r3, [sp, #12]
 706              		.loc 1 4306 8 view .LVU192
 707 0030 43B1     		cbz	r3, .L61
4307:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
4308:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_ABORT);
4309:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       break;
4310:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
4311:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     count--;
 708              		.loc 1 4311 5 is_stmt 1 view .LVU193
 709              		.loc 1 4311 10 is_stmt 0 view .LVU194
 710 0032 039B     		ldr	r3, [sp, #12]
 711 0034 013B     		subs	r3, r3, #1
 712 0036 0393     		str	r3, [sp, #12]
4312:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   } while (HAL_IS_BIT_SET(hspi->Instance->CR2, SPI_CR2_RXNEIE));
 713              		.loc 1 4312 11 is_stmt 1 view .LVU195
 714              		.loc 1 4312 12 is_stmt 0 view .LVU196
 715 0038 2368     		ldr	r3, [r4]
 716 003a 5B68     		ldr	r3, [r3, #4]
 717              		.loc 1 4312 3 view .LVU197
 718 003c 13F0400F 		tst	r3, #64
 719 0040 F5D1     		bne	.L57
 720 0042 03E0     		b	.L56
 721              	.L61:
4308:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       break;
 722              		.loc 1 4308 7 is_stmt 1 view .LVU198
 723 0044 236E     		ldr	r3, [r4, #96]
 724 0046 43F04003 		orr	r3, r3, #64
 725 004a 2366     		str	r3, [r4, #96]
4309:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
 726              		.loc 1 4309 7 view .LVU199
 727              	.L56:
4313:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
4314:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Control the BSY flag */
4315:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if (SPI_WaitFlagStateUntilTimeout(hspi, SPI_FLAG_BSY, RESET, SPI_DEFAULT_TIMEOUT, HAL_GetTick()) 
 728              		.loc 1 4315 3 view .LVU200
 729              		.loc 1 4315 7 is_stmt 0 view .LVU201
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 91


 730 004c FFF7FEFF 		bl	HAL_GetTick
 731              	.LVL37:
 732              		.loc 1 4315 7 view .LVU202
 733 0050 0090     		str	r0, [sp]
 734 0052 6423     		movs	r3, #100
 735 0054 0022     		movs	r2, #0
 736 0056 8021     		movs	r1, #128
 737 0058 2046     		mov	r0, r4
 738 005a FFF7FEFF 		bl	SPI_WaitFlagStateUntilTimeout
 739              	.LVL38:
 740              		.loc 1 4315 6 view .LVU203
 741 005e 08B1     		cbz	r0, .L58
4316:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
4317:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     hspi->ErrorCode = HAL_SPI_ERROR_ABORT;
 742              		.loc 1 4317 5 is_stmt 1 view .LVU204
 743              		.loc 1 4317 21 is_stmt 0 view .LVU205
 744 0060 4023     		movs	r3, #64
 745 0062 2366     		str	r3, [r4, #96]
 746              	.L58:
4318:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
4319:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
4320:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Empty the FRLVL fifo */
4321:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if (SPI_WaitFifoStateUntilTimeout(hspi, SPI_FLAG_FRLVL, SPI_FRLVL_EMPTY, SPI_DEFAULT_TIMEOUT, HAL
 747              		.loc 1 4321 3 is_stmt 1 view .LVU206
 748              		.loc 1 4321 7 is_stmt 0 view .LVU207
 749 0064 FFF7FEFF 		bl	HAL_GetTick
 750              	.LVL39:
 751 0068 0090     		str	r0, [sp]
 752 006a 6423     		movs	r3, #100
 753 006c 0022     		movs	r2, #0
 754 006e 4FF4C061 		mov	r1, #1536
 755 0072 2046     		mov	r0, r4
 756 0074 FFF7FEFF 		bl	SPI_WaitFifoStateUntilTimeout
 757              	.LVL40:
 758              		.loc 1 4321 6 view .LVU208
 759 0078 08B1     		cbz	r0, .L59
4322:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
4323:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     hspi->ErrorCode = HAL_SPI_ERROR_ABORT;
 760              		.loc 1 4323 5 is_stmt 1 view .LVU209
 761              		.loc 1 4323 21 is_stmt 0 view .LVU210
 762 007a 4023     		movs	r3, #64
 763 007c 2366     		str	r3, [r4, #96]
 764              	.L59:
4324:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
4325:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
4326:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->State = HAL_SPI_STATE_ABORT;
 765              		.loc 1 4326 3 is_stmt 1 view .LVU211
 766              		.loc 1 4326 15 is_stmt 0 view .LVU212
 767 007e 0723     		movs	r3, #7
 768 0080 84F85D30 		strb	r3, [r4, #93]
4327:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** }
 769              		.loc 1 4327 1 view .LVU213
 770 0084 04B0     		add	sp, sp, #16
 771              	.LCFI16:
 772              		.cfi_def_cfa_offset 8
 773              		@ sp needed
 774 0086 10BD     		pop	{r4, pc}
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 92


 775              	.LVL41:
 776              	.L63:
 777              		.loc 1 4327 1 view .LVU214
 778              		.align	2
 779              	.L62:
 780 0088 00000000 		.word	SystemCoreClock
 781 008c F1197605 		.word	91625969
 782              		.cfi_endproc
 783              	.LFE186:
 785              		.section	.text.SPI_AbortTx_ISR,"ax",%progbits
 786              		.align	1
 787              		.syntax unified
 788              		.thumb
 789              		.thumb_func
 790              		.fpu fpv4-sp-d16
 792              	SPI_AbortTx_ISR:
 793              	.LVL42:
 794              	.LFB187:
4328:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
4329:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** /**
4330:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @brief  Handle abort a Tx or Rx/Tx transaction.
4331:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
4332:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   *               the configuration information for SPI module.
4333:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @retval None
4334:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   */
4335:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** static void SPI_AbortTx_ISR(SPI_HandleTypeDef *hspi)
4336:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** {
 795              		.loc 1 4336 1 is_stmt 1 view -0
 796              		.cfi_startproc
 797              		@ args = 0, pretend = 0, frame = 8
 798              		@ frame_needed = 0, uses_anonymous_args = 0
 799              		.loc 1 4336 1 is_stmt 0 view .LVU216
 800 0000 10B5     		push	{r4, lr}
 801              	.LCFI17:
 802              		.cfi_def_cfa_offset 8
 803              		.cfi_offset 4, -8
 804              		.cfi_offset 14, -4
 805 0002 84B0     		sub	sp, sp, #16
 806              	.LCFI18:
 807              		.cfi_def_cfa_offset 24
 808 0004 0446     		mov	r4, r0
4337:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   __IO uint32_t count;
 809              		.loc 1 4337 3 is_stmt 1 view .LVU217
4338:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
4339:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   count = SPI_DEFAULT_TIMEOUT * (SystemCoreClock / 24U / 1000U);
 810              		.loc 1 4339 3 view .LVU218
 811              		.loc 1 4339 56 is_stmt 0 view .LVU219
 812 0006 384B     		ldr	r3, .L78
 813 0008 1B68     		ldr	r3, [r3]
 814 000a 384A     		ldr	r2, .L78+4
 815 000c A2FB0323 		umull	r2, r3, r2, r3
 816 0010 5B0A     		lsrs	r3, r3, #9
 817              		.loc 1 4339 31 view .LVU220
 818 0012 6422     		movs	r2, #100
 819 0014 02FB03F3 		mul	r3, r2, r3
 820              		.loc 1 4339 9 view .LVU221
 821 0018 0393     		str	r3, [sp, #12]
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 93


4340:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
4341:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Disable TXEIE interrupt */
4342:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   CLEAR_BIT(hspi->Instance->CR2, (SPI_CR2_TXEIE));
 822              		.loc 1 4342 3 is_stmt 1 view .LVU222
 823 001a 0268     		ldr	r2, [r0]
 824 001c 5368     		ldr	r3, [r2, #4]
 825 001e 23F08003 		bic	r3, r3, #128
 826 0022 5360     		str	r3, [r2, #4]
 827              	.L67:
4343:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
4344:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Check TXEIE is disabled */
4345:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   do
 828              		.loc 1 4345 3 view .LVU223
4346:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
4347:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     if (count == 0U)
 829              		.loc 1 4347 5 view .LVU224
 830              		.loc 1 4347 15 is_stmt 0 view .LVU225
 831 0024 039B     		ldr	r3, [sp, #12]
 832              		.loc 1 4347 8 view .LVU226
 833 0026 43B1     		cbz	r3, .L76
4348:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
4349:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_ABORT);
4350:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       break;
4351:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
4352:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     count--;
 834              		.loc 1 4352 5 is_stmt 1 view .LVU227
 835              		.loc 1 4352 10 is_stmt 0 view .LVU228
 836 0028 039B     		ldr	r3, [sp, #12]
 837 002a 013B     		subs	r3, r3, #1
 838 002c 0393     		str	r3, [sp, #12]
4353:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   } while (HAL_IS_BIT_SET(hspi->Instance->CR2, SPI_CR2_TXEIE));
 839              		.loc 1 4353 11 is_stmt 1 view .LVU229
 840              		.loc 1 4353 12 is_stmt 0 view .LVU230
 841 002e 2368     		ldr	r3, [r4]
 842 0030 5B68     		ldr	r3, [r3, #4]
 843              		.loc 1 4353 3 view .LVU231
 844 0032 13F0800F 		tst	r3, #128
 845 0036 F5D1     		bne	.L67
 846 0038 03E0     		b	.L66
 847              	.L76:
4349:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       break;
 848              		.loc 1 4349 7 is_stmt 1 view .LVU232
 849 003a 236E     		ldr	r3, [r4, #96]
 850 003c 43F04003 		orr	r3, r3, #64
 851 0040 2366     		str	r3, [r4, #96]
4350:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
 852              		.loc 1 4350 7 view .LVU233
 853              	.L66:
4354:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
4355:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if (SPI_EndRxTxTransaction(hspi, SPI_DEFAULT_TIMEOUT, HAL_GetTick()) != HAL_OK)
 854              		.loc 1 4355 3 view .LVU234
 855              		.loc 1 4355 7 is_stmt 0 view .LVU235
 856 0042 FFF7FEFF 		bl	HAL_GetTick
 857              	.LVL43:
 858              		.loc 1 4355 7 view .LVU236
 859 0046 0246     		mov	r2, r0
 860 0048 6421     		movs	r1, #100
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 94


 861 004a 2046     		mov	r0, r4
 862 004c FFF7FEFF 		bl	SPI_EndRxTxTransaction
 863              	.LVL44:
 864              		.loc 1 4355 6 view .LVU237
 865 0050 08B1     		cbz	r0, .L68
4356:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
4357:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     hspi->ErrorCode = HAL_SPI_ERROR_ABORT;
 866              		.loc 1 4357 5 is_stmt 1 view .LVU238
 867              		.loc 1 4357 21 is_stmt 0 view .LVU239
 868 0052 4023     		movs	r3, #64
 869 0054 2366     		str	r3, [r4, #96]
 870              	.L68:
4358:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
4359:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
4360:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Disable SPI Peripheral */
4361:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   __HAL_SPI_DISABLE(hspi);
 871              		.loc 1 4361 3 is_stmt 1 view .LVU240
 872 0056 2268     		ldr	r2, [r4]
 873 0058 1368     		ldr	r3, [r2]
 874 005a 23F04003 		bic	r3, r3, #64
 875 005e 1360     		str	r3, [r2]
4362:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
4363:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Empty the FRLVL fifo */
4364:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if (SPI_WaitFifoStateUntilTimeout(hspi, SPI_FLAG_FRLVL, SPI_FRLVL_EMPTY, SPI_DEFAULT_TIMEOUT, HAL
 876              		.loc 1 4364 3 view .LVU241
 877              		.loc 1 4364 7 is_stmt 0 view .LVU242
 878 0060 FFF7FEFF 		bl	HAL_GetTick
 879              	.LVL45:
 880 0064 0090     		str	r0, [sp]
 881 0066 6423     		movs	r3, #100
 882 0068 0022     		movs	r2, #0
 883 006a 4FF4C061 		mov	r1, #1536
 884 006e 2046     		mov	r0, r4
 885 0070 FFF7FEFF 		bl	SPI_WaitFifoStateUntilTimeout
 886              	.LVL46:
 887              		.loc 1 4364 6 view .LVU243
 888 0074 08B1     		cbz	r0, .L69
4365:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
4366:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     hspi->ErrorCode = HAL_SPI_ERROR_ABORT;
 889              		.loc 1 4366 5 is_stmt 1 view .LVU244
 890              		.loc 1 4366 21 is_stmt 0 view .LVU245
 891 0076 4023     		movs	r3, #64
 892 0078 2366     		str	r3, [r4, #96]
 893              	.L69:
4367:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
4368:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
4369:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Check case of Full-Duplex Mode and disable directly RXNEIE interrupt */
4370:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if (HAL_IS_BIT_SET(hspi->Instance->CR2, SPI_CR2_RXNEIE))
 894              		.loc 1 4370 3 is_stmt 1 view .LVU246
 895              		.loc 1 4370 7 is_stmt 0 view .LVU247
 896 007a 2368     		ldr	r3, [r4]
 897 007c 5A68     		ldr	r2, [r3, #4]
 898              		.loc 1 4370 6 view .LVU248
 899 007e 12F0400F 		tst	r2, #64
 900 0082 2BD0     		beq	.L70
4371:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
4372:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* Disable RXNEIE interrupt */
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 95


4373:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     CLEAR_BIT(hspi->Instance->CR2, (SPI_CR2_RXNEIE));
 901              		.loc 1 4373 5 is_stmt 1 view .LVU249
 902 0084 5A68     		ldr	r2, [r3, #4]
 903 0086 22F04002 		bic	r2, r2, #64
 904 008a 5A60     		str	r2, [r3, #4]
 905              	.L73:
4374:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
4375:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* Check RXNEIE is disabled */
4376:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     do
 906              		.loc 1 4376 5 view .LVU250
4377:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
4378:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       if (count == 0U)
 907              		.loc 1 4378 7 view .LVU251
 908              		.loc 1 4378 17 is_stmt 0 view .LVU252
 909 008c 039B     		ldr	r3, [sp, #12]
 910              		.loc 1 4378 10 view .LVU253
 911 008e 43B1     		cbz	r3, .L77
4379:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       {
4380:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_ABORT);
4381:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         break;
4382:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       }
4383:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       count--;
 912              		.loc 1 4383 7 is_stmt 1 view .LVU254
 913              		.loc 1 4383 12 is_stmt 0 view .LVU255
 914 0090 039B     		ldr	r3, [sp, #12]
 915 0092 013B     		subs	r3, r3, #1
 916 0094 0393     		str	r3, [sp, #12]
4384:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     } while (HAL_IS_BIT_SET(hspi->Instance->CR2, SPI_CR2_RXNEIE));
 917              		.loc 1 4384 13 is_stmt 1 view .LVU256
 918              		.loc 1 4384 14 is_stmt 0 view .LVU257
 919 0096 2368     		ldr	r3, [r4]
 920 0098 5B68     		ldr	r3, [r3, #4]
 921              		.loc 1 4384 5 view .LVU258
 922 009a 13F0400F 		tst	r3, #64
 923 009e F5D1     		bne	.L73
 924 00a0 03E0     		b	.L72
 925              	.L77:
4380:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         break;
 926              		.loc 1 4380 9 is_stmt 1 view .LVU259
 927 00a2 236E     		ldr	r3, [r4, #96]
 928 00a4 43F04003 		orr	r3, r3, #64
 929 00a8 2366     		str	r3, [r4, #96]
4381:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       }
 930              		.loc 1 4381 9 view .LVU260
 931              	.L72:
4385:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
4386:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* Control the BSY flag */
4387:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     if (SPI_WaitFlagStateUntilTimeout(hspi, SPI_FLAG_BSY, RESET, SPI_DEFAULT_TIMEOUT, HAL_GetTick()
 932              		.loc 1 4387 5 view .LVU261
 933              		.loc 1 4387 9 is_stmt 0 view .LVU262
 934 00aa FFF7FEFF 		bl	HAL_GetTick
 935              	.LVL47:
 936 00ae 0090     		str	r0, [sp]
 937 00b0 6423     		movs	r3, #100
 938 00b2 0022     		movs	r2, #0
 939 00b4 8021     		movs	r1, #128
 940 00b6 2046     		mov	r0, r4
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 96


 941 00b8 FFF7FEFF 		bl	SPI_WaitFlagStateUntilTimeout
 942              	.LVL48:
 943              		.loc 1 4387 8 view .LVU263
 944 00bc 08B1     		cbz	r0, .L74
4388:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
4389:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       hspi->ErrorCode = HAL_SPI_ERROR_ABORT;
 945              		.loc 1 4389 7 is_stmt 1 view .LVU264
 946              		.loc 1 4389 23 is_stmt 0 view .LVU265
 947 00be 4023     		movs	r3, #64
 948 00c0 2366     		str	r3, [r4, #96]
 949              	.L74:
4390:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
4391:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
4392:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* Empty the FRLVL fifo */
4393:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     if (SPI_WaitFifoStateUntilTimeout(hspi, SPI_FLAG_FRLVL, SPI_FRLVL_EMPTY, SPI_DEFAULT_TIMEOUT, H
 950              		.loc 1 4393 5 is_stmt 1 view .LVU266
 951              		.loc 1 4393 9 is_stmt 0 view .LVU267
 952 00c2 FFF7FEFF 		bl	HAL_GetTick
 953              	.LVL49:
 954 00c6 0090     		str	r0, [sp]
 955 00c8 6423     		movs	r3, #100
 956 00ca 0022     		movs	r2, #0
 957 00cc 4FF4C061 		mov	r1, #1536
 958 00d0 2046     		mov	r0, r4
 959 00d2 FFF7FEFF 		bl	SPI_WaitFifoStateUntilTimeout
 960              	.LVL50:
 961              		.loc 1 4393 8 view .LVU268
 962 00d6 08B1     		cbz	r0, .L70
4394:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
4395:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       hspi->ErrorCode = HAL_SPI_ERROR_ABORT;
 963              		.loc 1 4395 7 is_stmt 1 view .LVU269
 964              		.loc 1 4395 23 is_stmt 0 view .LVU270
 965 00d8 4023     		movs	r3, #64
 966 00da 2366     		str	r3, [r4, #96]
 967              	.L70:
4396:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
4397:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
4398:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->State = HAL_SPI_STATE_ABORT;
 968              		.loc 1 4398 3 is_stmt 1 view .LVU271
 969              		.loc 1 4398 15 is_stmt 0 view .LVU272
 970 00dc 0723     		movs	r3, #7
 971 00de 84F85D30 		strb	r3, [r4, #93]
4399:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** }
 972              		.loc 1 4399 1 view .LVU273
 973 00e2 04B0     		add	sp, sp, #16
 974              	.LCFI19:
 975              		.cfi_def_cfa_offset 8
 976              		@ sp needed
 977 00e4 10BD     		pop	{r4, pc}
 978              	.LVL51:
 979              	.L79:
 980              		.loc 1 4399 1 view .LVU274
 981 00e6 00BF     		.align	2
 982              	.L78:
 983 00e8 00000000 		.word	SystemCoreClock
 984 00ec F1197605 		.word	91625969
 985              		.cfi_endproc
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 97


 986              	.LFE187:
 988              		.section	.text.HAL_SPI_MspInit,"ax",%progbits
 989              		.align	1
 990              		.weak	HAL_SPI_MspInit
 991              		.syntax unified
 992              		.thumb
 993              		.thumb_func
 994              		.fpu fpv4-sp-d16
 996              	HAL_SPI_MspInit:
 997              	.LVL52:
 998              	.LFB134:
 536:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Prevent unused argument(s) compilation warning */
 999              		.loc 1 536 1 is_stmt 1 view -0
 1000              		.cfi_startproc
 1001              		@ args = 0, pretend = 0, frame = 0
 1002              		@ frame_needed = 0, uses_anonymous_args = 0
 1003              		@ link register save eliminated.
 538:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 1004              		.loc 1 538 3 view .LVU276
 543:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 1005              		.loc 1 543 1 is_stmt 0 view .LVU277
 1006 0000 7047     		bx	lr
 1007              		.cfi_endproc
 1008              	.LFE134:
 1010              		.section	.rodata.HAL_SPI_Init.str1.4,"aMS",%progbits,1
 1011              		.align	2
 1012              	.LC0:
 1013 0000 44726976 		.ascii	"Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi."
 1013      6572732F 
 1013      53544D33 
 1013      324C3478 
 1013      785F4841 
 1014 0033 6300     		.ascii	"c\000"
 1015              		.section	.text.HAL_SPI_Init,"ax",%progbits
 1016              		.align	1
 1017              		.global	HAL_SPI_Init
 1018              		.syntax unified
 1019              		.thumb
 1020              		.thumb_func
 1021              		.fpu fpv4-sp-d16
 1023              	HAL_SPI_Init:
 1024              	.LVL53:
 1025              	.LFB132:
 317:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   uint32_t frxth;
 1026              		.loc 1 317 1 is_stmt 1 view -0
 1027              		.cfi_startproc
 1028              		@ args = 0, pretend = 0, frame = 0
 1029              		@ frame_needed = 0, uses_anonymous_args = 0
 318:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 1030              		.loc 1 318 3 view .LVU279
 321:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 1031              		.loc 1 321 3 view .LVU280
 321:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 1032              		.loc 1 321 6 is_stmt 0 view .LVU281
 1033 0000 0028     		cmp	r0, #0
 1034 0002 00F04A81 		beq	.L101
 317:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   uint32_t frxth;
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 98


 1035              		.loc 1 317 1 view .LVU282
 1036 0006 10B5     		push	{r4, lr}
 1037              	.LCFI20:
 1038              		.cfi_def_cfa_offset 8
 1039              		.cfi_offset 4, -8
 1040              		.cfi_offset 14, -4
 1041 0008 0446     		mov	r4, r0
 327:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   assert_param(IS_SPI_MODE(hspi->Init.Mode));
 1042              		.loc 1 327 3 is_stmt 1 view .LVU283
 1043 000a 0368     		ldr	r3, [r0]
 1044 000c 994A     		ldr	r2, .L120
 1045 000e 9342     		cmp	r3, r2
 1046 0010 0CD0     		beq	.L83
 327:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   assert_param(IS_SPI_MODE(hspi->Init.Mode));
 1047              		.loc 1 327 3 is_stmt 0 discriminator 1 view .LVU284
 1048 0012 A2F57842 		sub	r2, r2, #63488
 1049 0016 9342     		cmp	r3, r2
 1050 0018 08D0     		beq	.L83
 327:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   assert_param(IS_SPI_MODE(hspi->Init.Mode));
 1051              		.loc 1 327 3 discriminator 2 view .LVU285
 1052 001a 02F58062 		add	r2, r2, #1024
 1053 001e 9342     		cmp	r3, r2
 1054 0020 04D0     		beq	.L83
 327:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   assert_param(IS_SPI_MODE(hspi->Init.Mode));
 1055              		.loc 1 327 3 discriminator 3 view .LVU286
 1056 0022 40F24711 		movw	r1, #327
 1057 0026 9448     		ldr	r0, .L120+4
 1058              	.LVL54:
 327:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   assert_param(IS_SPI_MODE(hspi->Init.Mode));
 1059              		.loc 1 327 3 discriminator 3 view .LVU287
 1060 0028 FFF7FEFF 		bl	assert_failed
 1061              	.LVL55:
 1062              	.L83:
 328:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   assert_param(IS_SPI_DIRECTION(hspi->Init.Direction));
 1063              		.loc 1 328 3 is_stmt 1 view .LVU288
 1064 002c 6368     		ldr	r3, [r4, #4]
 1065 002e 13B1     		cbz	r3, .L84
 328:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   assert_param(IS_SPI_DIRECTION(hspi->Init.Direction));
 1066              		.loc 1 328 3 is_stmt 0 discriminator 1 view .LVU289
 1067 0030 B3F5827F 		cmp	r3, #260
 1068 0034 65D1     		bne	.L107
 1069              	.L84:
 329:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   assert_param(IS_SPI_DATASIZE(hspi->Init.DataSize));
 1070              		.loc 1 329 3 is_stmt 1 view .LVU290
 1071 0036 A368     		ldr	r3, [r4, #8]
 1072 0038 2BB1     		cbz	r3, .L85
 329:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   assert_param(IS_SPI_DATASIZE(hspi->Init.DataSize));
 1073              		.loc 1 329 3 is_stmt 0 discriminator 1 view .LVU291
 1074 003a B3F5806F 		cmp	r3, #1024
 1075 003e 02D0     		beq	.L85
 329:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   assert_param(IS_SPI_DATASIZE(hspi->Init.DataSize));
 1076              		.loc 1 329 3 discriminator 2 view .LVU292
 1077 0040 B3F5004F 		cmp	r3, #32768
 1078 0044 63D1     		bne	.L108
 1079              	.L85:
 330:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   assert_param(IS_SPI_NSS(hspi->Init.NSS));
 1080              		.loc 1 330 3 is_stmt 1 view .LVU293
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 99


 1081 0046 E368     		ldr	r3, [r4, #12]
 1082 0048 B3F5706F 		cmp	r3, #3840
 1083 004c 23D0     		beq	.L86
 330:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   assert_param(IS_SPI_NSS(hspi->Init.NSS));
 1084              		.loc 1 330 3 is_stmt 0 discriminator 1 view .LVU294
 1085 004e B3F5606F 		cmp	r3, #3584
 1086 0052 20D0     		beq	.L86
 330:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   assert_param(IS_SPI_NSS(hspi->Init.NSS));
 1087              		.loc 1 330 3 discriminator 2 view .LVU295
 1088 0054 B3F5506F 		cmp	r3, #3328
 1089 0058 1DD0     		beq	.L86
 330:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   assert_param(IS_SPI_NSS(hspi->Init.NSS));
 1090              		.loc 1 330 3 discriminator 3 view .LVU296
 1091 005a B3F5406F 		cmp	r3, #3072
 1092 005e 1AD0     		beq	.L86
 330:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   assert_param(IS_SPI_NSS(hspi->Init.NSS));
 1093              		.loc 1 330 3 discriminator 4 view .LVU297
 1094 0060 B3F5306F 		cmp	r3, #2816
 1095 0064 17D0     		beq	.L86
 330:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   assert_param(IS_SPI_NSS(hspi->Init.NSS));
 1096              		.loc 1 330 3 discriminator 5 view .LVU298
 1097 0066 B3F5206F 		cmp	r3, #2560
 1098 006a 14D0     		beq	.L86
 330:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   assert_param(IS_SPI_NSS(hspi->Init.NSS));
 1099              		.loc 1 330 3 discriminator 6 view .LVU299
 1100 006c B3F5106F 		cmp	r3, #2304
 1101 0070 11D0     		beq	.L86
 330:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   assert_param(IS_SPI_NSS(hspi->Init.NSS));
 1102              		.loc 1 330 3 discriminator 7 view .LVU300
 1103 0072 B3F5006F 		cmp	r3, #2048
 1104 0076 0ED0     		beq	.L86
 330:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   assert_param(IS_SPI_NSS(hspi->Init.NSS));
 1105              		.loc 1 330 3 discriminator 8 view .LVU301
 1106 0078 B3F5E06F 		cmp	r3, #1792
 1107 007c 0BD0     		beq	.L86
 330:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   assert_param(IS_SPI_NSS(hspi->Init.NSS));
 1108              		.loc 1 330 3 discriminator 9 view .LVU302
 1109 007e B3F5C06F 		cmp	r3, #1536
 1110 0082 08D0     		beq	.L86
 330:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   assert_param(IS_SPI_NSS(hspi->Init.NSS));
 1111              		.loc 1 330 3 discriminator 10 view .LVU303
 1112 0084 B3F5A06F 		cmp	r3, #1280
 1113 0088 05D0     		beq	.L86
 330:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   assert_param(IS_SPI_NSS(hspi->Init.NSS));
 1114              		.loc 1 330 3 discriminator 11 view .LVU304
 1115 008a B3F5806F 		cmp	r3, #1024
 1116 008e 02D0     		beq	.L86
 330:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   assert_param(IS_SPI_NSS(hspi->Init.NSS));
 1117              		.loc 1 330 3 discriminator 12 view .LVU305
 1118 0090 B3F5407F 		cmp	r3, #768
 1119 0094 41D1     		bne	.L109
 1120              	.L86:
 331:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   assert_param(IS_SPI_NSSP(hspi->Init.NSSPMode));
 1121              		.loc 1 331 3 is_stmt 1 view .LVU306
 1122 0096 A369     		ldr	r3, [r4, #24]
 1123 0098 B3F5007F 		cmp	r3, #512
 1124 009c 03D0     		beq	.L87
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 100


 331:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   assert_param(IS_SPI_NSSP(hspi->Init.NSSPMode));
 1125              		.loc 1 331 3 is_stmt 0 discriminator 1 view .LVU307
 1126 009e 13B1     		cbz	r3, .L87
 331:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   assert_param(IS_SPI_NSSP(hspi->Init.NSSPMode));
 1127              		.loc 1 331 3 discriminator 2 view .LVU308
 1128 00a0 B3F5802F 		cmp	r3, #262144
 1129 00a4 3FD1     		bne	.L110
 1130              	.L87:
 332:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   assert_param(IS_SPI_BAUDRATE_PRESCALER(hspi->Init.BaudRatePrescaler));
 1131              		.loc 1 332 3 is_stmt 1 view .LVU309
 1132 00a6 636B     		ldr	r3, [r4, #52]
 1133 00a8 082B     		cmp	r3, #8
 1134 00aa 01D0     		beq	.L88
 332:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   assert_param(IS_SPI_BAUDRATE_PRESCALER(hspi->Init.BaudRatePrescaler));
 1135              		.loc 1 332 3 is_stmt 0 discriminator 1 view .LVU310
 1136 00ac 002B     		cmp	r3, #0
 1137 00ae 40D1     		bne	.L111
 1138              	.L88:
 333:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   assert_param(IS_SPI_FIRST_BIT(hspi->Init.FirstBit));
 1139              		.loc 1 333 3 is_stmt 1 view .LVU311
 1140 00b0 E369     		ldr	r3, [r4, #28]
 1141 00b2 6BB1     		cbz	r3, .L89
 333:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   assert_param(IS_SPI_FIRST_BIT(hspi->Init.FirstBit));
 1142              		.loc 1 333 3 is_stmt 0 discriminator 1 view .LVU312
 1143 00b4 082B     		cmp	r3, #8
 1144 00b6 0BD0     		beq	.L89
 333:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   assert_param(IS_SPI_FIRST_BIT(hspi->Init.FirstBit));
 1145              		.loc 1 333 3 discriminator 2 view .LVU313
 1146 00b8 102B     		cmp	r3, #16
 1147 00ba 09D0     		beq	.L89
 333:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   assert_param(IS_SPI_FIRST_BIT(hspi->Init.FirstBit));
 1148              		.loc 1 333 3 discriminator 3 view .LVU314
 1149 00bc 182B     		cmp	r3, #24
 1150 00be 07D0     		beq	.L89
 333:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   assert_param(IS_SPI_FIRST_BIT(hspi->Init.FirstBit));
 1151              		.loc 1 333 3 discriminator 4 view .LVU315
 1152 00c0 202B     		cmp	r3, #32
 1153 00c2 05D0     		beq	.L89
 333:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   assert_param(IS_SPI_FIRST_BIT(hspi->Init.FirstBit));
 1154              		.loc 1 333 3 discriminator 5 view .LVU316
 1155 00c4 282B     		cmp	r3, #40
 1156 00c6 03D0     		beq	.L89
 333:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   assert_param(IS_SPI_FIRST_BIT(hspi->Init.FirstBit));
 1157              		.loc 1 333 3 discriminator 6 view .LVU317
 1158 00c8 302B     		cmp	r3, #48
 1159 00ca 01D0     		beq	.L89
 333:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   assert_param(IS_SPI_FIRST_BIT(hspi->Init.FirstBit));
 1160              		.loc 1 333 3 discriminator 7 view .LVU318
 1161 00cc 382B     		cmp	r3, #56
 1162 00ce 36D1     		bne	.L112
 1163              	.L89:
 334:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   assert_param(IS_SPI_TIMODE(hspi->Init.TIMode));
 1164              		.loc 1 334 3 is_stmt 1 view .LVU319
 1165 00d0 236A     		ldr	r3, [r4, #32]
 1166 00d2 0BB1     		cbz	r3, .L90
 334:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   assert_param(IS_SPI_TIMODE(hspi->Init.TIMode));
 1167              		.loc 1 334 3 is_stmt 0 discriminator 1 view .LVU320
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 101


 1168 00d4 802B     		cmp	r3, #128
 1169 00d6 38D1     		bne	.L113
 1170              	.L90:
 335:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if (hspi->Init.TIMode == SPI_TIMODE_DISABLE)
 1171              		.loc 1 335 3 is_stmt 1 view .LVU321
 1172 00d8 636A     		ldr	r3, [r4, #36]
 1173 00da 0BB1     		cbz	r3, .L91
 335:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if (hspi->Init.TIMode == SPI_TIMODE_DISABLE)
 1174              		.loc 1 335 3 is_stmt 0 discriminator 1 view .LVU322
 1175 00dc 102B     		cmp	r3, #16
 1176 00de 3AD1     		bne	.L114
 1177              	.L91:
 336:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 1178              		.loc 1 336 3 is_stmt 1 view .LVU323
 336:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 1179              		.loc 1 336 17 is_stmt 0 view .LVU324
 1180 00e0 636A     		ldr	r3, [r4, #36]
 336:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 1181              		.loc 1 336 6 view .LVU325
 1182 00e2 002B     		cmp	r3, #0
 1183 00e4 5FD1     		bne	.L92
 338:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     assert_param(IS_SPI_CPHA(hspi->Init.CLKPhase));
 1184              		.loc 1 338 5 is_stmt 1 view .LVU326
 1185 00e6 2369     		ldr	r3, [r4, #16]
 1186 00e8 0BB1     		cbz	r3, .L93
 338:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     assert_param(IS_SPI_CPHA(hspi->Init.CLKPhase));
 1187              		.loc 1 338 5 is_stmt 0 discriminator 1 view .LVU327
 1188 00ea 022B     		cmp	r3, #2
 1189 00ec 39D1     		bne	.L115
 1190              	.L93:
 339:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 1191              		.loc 1 339 5 is_stmt 1 view .LVU328
 1192 00ee 6369     		ldr	r3, [r4, #20]
 1193 00f0 012B     		cmp	r3, #1
 1194 00f2 3CD8     		bhi	.L116
 1195              	.L94:
 341:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
 1196              		.loc 1 341 5 view .LVU329
 341:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
 1197              		.loc 1 341 19 is_stmt 0 view .LVU330
 1198 00f4 6368     		ldr	r3, [r4, #4]
 341:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
 1199              		.loc 1 341 8 view .LVU331
 1200 00f6 B3F5827F 		cmp	r3, #260
 1201 00fa 3ED0     		beq	.L117
 348:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
 1202              		.loc 1 348 7 is_stmt 1 view .LVU332
 348:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
 1203              		.loc 1 348 36 is_stmt 0 view .LVU333
 1204 00fc 0023     		movs	r3, #0
 1205 00fe E361     		str	r3, [r4, #28]
 1206 0100 64E0     		b	.L96
 1207              	.L107:
 328:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   assert_param(IS_SPI_DIRECTION(hspi->Init.Direction));
 1208              		.loc 1 328 3 discriminator 2 view .LVU334
 1209 0102 4FF4A471 		mov	r1, #328
 1210 0106 5C48     		ldr	r0, .L120+4
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 102


 1211 0108 FFF7FEFF 		bl	assert_failed
 1212              	.LVL56:
 1213 010c 93E7     		b	.L84
 1214              	.L108:
 329:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   assert_param(IS_SPI_DATASIZE(hspi->Init.DataSize));
 1215              		.loc 1 329 3 discriminator 3 view .LVU335
 1216 010e 40F24911 		movw	r1, #329
 1217 0112 5948     		ldr	r0, .L120+4
 1218 0114 FFF7FEFF 		bl	assert_failed
 1219              	.LVL57:
 1220 0118 95E7     		b	.L85
 1221              	.L109:
 330:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   assert_param(IS_SPI_NSS(hspi->Init.NSS));
 1222              		.loc 1 330 3 discriminator 13 view .LVU336
 1223 011a 4FF4A571 		mov	r1, #330
 1224 011e 5648     		ldr	r0, .L120+4
 1225 0120 FFF7FEFF 		bl	assert_failed
 1226              	.LVL58:
 1227 0124 B7E7     		b	.L86
 1228              	.L110:
 331:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   assert_param(IS_SPI_NSSP(hspi->Init.NSSPMode));
 1229              		.loc 1 331 3 discriminator 3 view .LVU337
 1230 0126 40F24B11 		movw	r1, #331
 1231 012a 5348     		ldr	r0, .L120+4
 1232 012c FFF7FEFF 		bl	assert_failed
 1233              	.LVL59:
 1234 0130 B9E7     		b	.L87
 1235              	.L111:
 332:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   assert_param(IS_SPI_BAUDRATE_PRESCALER(hspi->Init.BaudRatePrescaler));
 1236              		.loc 1 332 3 discriminator 2 view .LVU338
 1237 0132 4FF4A671 		mov	r1, #332
 1238 0136 5048     		ldr	r0, .L120+4
 1239 0138 FFF7FEFF 		bl	assert_failed
 1240              	.LVL60:
 1241 013c B8E7     		b	.L88
 1242              	.L112:
 333:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   assert_param(IS_SPI_FIRST_BIT(hspi->Init.FirstBit));
 1243              		.loc 1 333 3 discriminator 8 view .LVU339
 1244 013e 40F24D11 		movw	r1, #333
 1245 0142 4D48     		ldr	r0, .L120+4
 1246 0144 FFF7FEFF 		bl	assert_failed
 1247              	.LVL61:
 1248 0148 C2E7     		b	.L89
 1249              	.L113:
 334:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   assert_param(IS_SPI_TIMODE(hspi->Init.TIMode));
 1250              		.loc 1 334 3 discriminator 2 view .LVU340
 1251 014a 4FF4A771 		mov	r1, #334
 1252 014e 4A48     		ldr	r0, .L120+4
 1253 0150 FFF7FEFF 		bl	assert_failed
 1254              	.LVL62:
 1255 0154 C0E7     		b	.L90
 1256              	.L114:
 335:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if (hspi->Init.TIMode == SPI_TIMODE_DISABLE)
 1257              		.loc 1 335 3 discriminator 2 view .LVU341
 1258 0156 40F24F11 		movw	r1, #335
 1259 015a 4748     		ldr	r0, .L120+4
 1260 015c FFF7FEFF 		bl	assert_failed
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 103


 1261              	.LVL63:
 1262 0160 BEE7     		b	.L91
 1263              	.L115:
 338:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     assert_param(IS_SPI_CPHA(hspi->Init.CLKPhase));
 1264              		.loc 1 338 5 discriminator 2 view .LVU342
 1265 0162 4FF4A971 		mov	r1, #338
 1266 0166 4448     		ldr	r0, .L120+4
 1267 0168 FFF7FEFF 		bl	assert_failed
 1268              	.LVL64:
 1269 016c BFE7     		b	.L93
 1270              	.L116:
 339:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 1271              		.loc 1 339 5 discriminator 1 view .LVU343
 1272 016e 40F25311 		movw	r1, #339
 1273 0172 4148     		ldr	r0, .L120+4
 1274 0174 FFF7FEFF 		bl	assert_failed
 1275              	.LVL65:
 1276 0178 BCE7     		b	.L94
 1277              	.L117:
 343:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
 1278              		.loc 1 343 7 is_stmt 1 view .LVU344
 1279 017a E369     		ldr	r3, [r4, #28]
 1280 017c 33B3     		cbz	r3, .L96
 343:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
 1281              		.loc 1 343 7 is_stmt 0 discriminator 1 view .LVU345
 1282 017e 082B     		cmp	r3, #8
 1283 0180 24D0     		beq	.L96
 343:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
 1284              		.loc 1 343 7 discriminator 2 view .LVU346
 1285 0182 102B     		cmp	r3, #16
 1286 0184 22D0     		beq	.L96
 343:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
 1287              		.loc 1 343 7 discriminator 3 view .LVU347
 1288 0186 182B     		cmp	r3, #24
 1289 0188 20D0     		beq	.L96
 343:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
 1290              		.loc 1 343 7 discriminator 4 view .LVU348
 1291 018a 202B     		cmp	r3, #32
 1292 018c 1ED0     		beq	.L96
 343:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
 1293              		.loc 1 343 7 discriminator 5 view .LVU349
 1294 018e 282B     		cmp	r3, #40
 1295 0190 1CD0     		beq	.L96
 343:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
 1296              		.loc 1 343 7 discriminator 6 view .LVU350
 1297 0192 302B     		cmp	r3, #48
 1298 0194 1AD0     		beq	.L96
 343:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
 1299              		.loc 1 343 7 discriminator 7 view .LVU351
 1300 0196 382B     		cmp	r3, #56
 1301 0198 18D0     		beq	.L96
 343:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
 1302              		.loc 1 343 7 discriminator 8 view .LVU352
 1303 019a 40F25711 		movw	r1, #343
 1304 019e 3648     		ldr	r0, .L120+4
 1305 01a0 FFF7FEFF 		bl	assert_failed
 1306              	.LVL66:
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 104


 1307 01a4 12E0     		b	.L96
 1308              	.L92:
 353:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 1309              		.loc 1 353 5 is_stmt 1 view .LVU353
 1310 01a6 E369     		ldr	r3, [r4, #28]
 1311 01a8 6BB1     		cbz	r3, .L97
 353:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 1312              		.loc 1 353 5 is_stmt 0 discriminator 1 view .LVU354
 1313 01aa 082B     		cmp	r3, #8
 1314 01ac 0BD0     		beq	.L97
 353:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 1315              		.loc 1 353 5 discriminator 2 view .LVU355
 1316 01ae 102B     		cmp	r3, #16
 1317 01b0 09D0     		beq	.L97
 353:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 1318              		.loc 1 353 5 discriminator 3 view .LVU356
 1319 01b2 182B     		cmp	r3, #24
 1320 01b4 07D0     		beq	.L97
 353:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 1321              		.loc 1 353 5 discriminator 4 view .LVU357
 1322 01b6 202B     		cmp	r3, #32
 1323 01b8 05D0     		beq	.L97
 353:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 1324              		.loc 1 353 5 discriminator 5 view .LVU358
 1325 01ba 282B     		cmp	r3, #40
 1326 01bc 03D0     		beq	.L97
 353:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 1327              		.loc 1 353 5 discriminator 6 view .LVU359
 1328 01be 302B     		cmp	r3, #48
 1329 01c0 01D0     		beq	.L97
 353:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 1330              		.loc 1 353 5 discriminator 7 view .LVU360
 1331 01c2 382B     		cmp	r3, #56
 1332 01c4 5AD1     		bne	.L118
 1333              	.L97:
 356:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     hspi->Init.CLKPhase    = SPI_PHASE_1EDGE;
 1334              		.loc 1 356 5 is_stmt 1 view .LVU361
 356:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     hspi->Init.CLKPhase    = SPI_PHASE_1EDGE;
 1335              		.loc 1 356 28 is_stmt 0 view .LVU362
 1336 01c6 0023     		movs	r3, #0
 1337 01c8 2361     		str	r3, [r4, #16]
 357:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
 1338              		.loc 1 357 5 is_stmt 1 view .LVU363
 357:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
 1339              		.loc 1 357 28 is_stmt 0 view .LVU364
 1340 01ca 6361     		str	r3, [r4, #20]
 1341              	.L96:
 367:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #endif /* USE_SPI_CRC */
 1342              		.loc 1 367 3 is_stmt 1 view .LVU365
 367:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #endif /* USE_SPI_CRC */
 1343              		.loc 1 367 29 is_stmt 0 view .LVU366
 1344 01cc 0023     		movs	r3, #0
 1345 01ce A362     		str	r3, [r4, #40]
 370:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 1346              		.loc 1 370 3 is_stmt 1 view .LVU367
 370:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 1347              		.loc 1 370 11 is_stmt 0 view .LVU368
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 105


 1348 01d0 94F85D30 		ldrb	r3, [r4, #93]	@ zero_extendqisi2
 370:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 1349              		.loc 1 370 6 view .LVU369
 1350 01d4 002B     		cmp	r3, #0
 1351 01d6 57D0     		beq	.L119
 1352              	.L98:
 399:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 1353              		.loc 1 399 3 is_stmt 1 view .LVU370
 399:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 1354              		.loc 1 399 15 is_stmt 0 view .LVU371
 1355 01d8 0223     		movs	r3, #2
 1356 01da 84F85D30 		strb	r3, [r4, #93]
 402:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 1357              		.loc 1 402 3 is_stmt 1 view .LVU372
 1358 01de 2268     		ldr	r2, [r4]
 1359 01e0 1368     		ldr	r3, [r2]
 1360 01e2 23F04003 		bic	r3, r3, #64
 1361 01e6 1360     		str	r3, [r2]
 405:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 1362              		.loc 1 405 3 view .LVU373
 405:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 1363              		.loc 1 405 17 is_stmt 0 view .LVU374
 1364 01e8 E368     		ldr	r3, [r4, #12]
 405:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 1365              		.loc 1 405 6 view .LVU375
 1366 01ea B3F5E06F 		cmp	r3, #1792
 1367 01ee 51D9     		bls	.L102
 407:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
 1368              		.loc 1 407 11 view .LVU376
 1369 01f0 0022     		movs	r2, #0
 1370              	.L99:
 1371              	.LVL67:
 415:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 1372              		.loc 1 415 3 is_stmt 1 view .LVU377
 415:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 1373              		.loc 1 415 6 is_stmt 0 view .LVU378
 1374 01f2 B3F5706F 		cmp	r3, #3840
 1375 01f6 04D0     		beq	.L100
 415:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 1376              		.loc 1 415 51 discriminator 1 view .LVU379
 1377 01f8 B3F5E06F 		cmp	r3, #1792
 1378 01fc 01D0     		beq	.L100
 418:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
 1379              		.loc 1 418 5 is_stmt 1 view .LVU380
 418:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
 1380              		.loc 1 418 31 is_stmt 0 view .LVU381
 1381 01fe 0023     		movs	r3, #0
 1382 0200 A362     		str	r3, [r4, #40]
 1383              	.L100:
 424:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****                                   (hspi->Init.Direction & (SPI_CR1_RXONLY | SPI_CR1_BIDIMODE)) |
 1384              		.loc 1 424 3 is_stmt 1 view .LVU382
 1385 0202 6368     		ldr	r3, [r4, #4]
 1386 0204 03F48273 		and	r3, r3, #260
 1387 0208 A168     		ldr	r1, [r4, #8]
 1388 020a 01F40441 		and	r1, r1, #33792
 1389 020e 0B43     		orrs	r3, r3, r1
 1390 0210 2169     		ldr	r1, [r4, #16]
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 106


 1391 0212 01F00201 		and	r1, r1, #2
 1392 0216 0B43     		orrs	r3, r3, r1
 1393 0218 6169     		ldr	r1, [r4, #20]
 1394 021a 01F00101 		and	r1, r1, #1
 1395 021e 0B43     		orrs	r3, r3, r1
 1396 0220 A169     		ldr	r1, [r4, #24]
 1397 0222 01F40071 		and	r1, r1, #512
 1398 0226 0B43     		orrs	r3, r3, r1
 1399 0228 E169     		ldr	r1, [r4, #28]
 1400 022a 01F03801 		and	r1, r1, #56
 1401 022e 0B43     		orrs	r3, r3, r1
 1402 0230 216A     		ldr	r1, [r4, #32]
 1403 0232 01F08001 		and	r1, r1, #128
 1404 0236 0B43     		orrs	r3, r3, r1
 1405 0238 A16A     		ldr	r1, [r4, #40]
 1406 023a 01F40051 		and	r1, r1, #8192
 1407 023e 2068     		ldr	r0, [r4]
 1408 0240 0B43     		orrs	r3, r3, r1
 1409 0242 0360     		str	r3, [r0]
 459:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****                                   (hspi->Init.TIMode & SPI_CR2_FRF) |
 1410              		.loc 1 459 3 view .LVU383
 1411 0244 638B     		ldrh	r3, [r4, #26]
 1412 0246 03F00403 		and	r3, r3, #4
 1413 024a 616A     		ldr	r1, [r4, #36]
 1414 024c 01F01001 		and	r1, r1, #16
 1415 0250 0B43     		orrs	r3, r3, r1
 1416 0252 616B     		ldr	r1, [r4, #52]
 1417 0254 01F00801 		and	r1, r1, #8
 1418 0258 0B43     		orrs	r3, r3, r1
 1419 025a E168     		ldr	r1, [r4, #12]
 1420 025c 01F47061 		and	r1, r1, #3840
 1421 0260 0B43     		orrs	r3, r3, r1
 1422 0262 2168     		ldr	r1, [r4]
 1423 0264 1343     		orrs	r3, r3, r2
 1424 0266 4B60     		str	r3, [r1, #4]
 479:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->State     = HAL_SPI_STATE_READY;
 1425              		.loc 1 479 3 view .LVU384
 479:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->State     = HAL_SPI_STATE_READY;
 1426              		.loc 1 479 19 is_stmt 0 view .LVU385
 1427 0268 0020     		movs	r0, #0
 1428 026a 2066     		str	r0, [r4, #96]
 480:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 1429              		.loc 1 480 3 is_stmt 1 view .LVU386
 480:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 1430              		.loc 1 480 19 is_stmt 0 view .LVU387
 1431 026c 0123     		movs	r3, #1
 1432 026e 84F85D30 		strb	r3, [r4, #93]
 482:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** }
 1433              		.loc 1 482 3 is_stmt 1 view .LVU388
 483:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 1434              		.loc 1 483 1 is_stmt 0 view .LVU389
 1435 0272 10BD     		pop	{r4, pc}
 1436              	.LVL68:
 1437              	.L121:
 483:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 1438              		.loc 1 483 1 view .LVU390
 1439              		.align	2
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 107


 1440              	.L120:
 1441 0274 00300140 		.word	1073819648
 1442 0278 00000000 		.word	.LC0
 1443              	.LVL69:
 1444              	.L118:
 353:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 1445              		.loc 1 353 5 discriminator 8 view .LVU391
 1446 027c 40F26111 		movw	r1, #353
 1447 0280 0748     		ldr	r0, .L122
 1448 0282 FFF7FEFF 		bl	assert_failed
 1449              	.LVL70:
 1450 0286 9EE7     		b	.L97
 1451              	.L119:
 373:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 1452              		.loc 1 373 5 is_stmt 1 view .LVU392
 373:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 1453              		.loc 1 373 16 is_stmt 0 view .LVU393
 1454 0288 84F85C30 		strb	r3, [r4, #92]
 395:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
 1455              		.loc 1 395 5 is_stmt 1 view .LVU394
 1456 028c 2046     		mov	r0, r4
 1457 028e FFF7FEFF 		bl	HAL_SPI_MspInit
 1458              	.LVL71:
 1459 0292 A1E7     		b	.L98
 1460              	.L102:
 411:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
 1461              		.loc 1 411 11 is_stmt 0 view .LVU395
 1462 0294 4FF48052 		mov	r2, #4096
 1463 0298 ABE7     		b	.L99
 1464              	.LVL72:
 1465              	.L101:
 1466              	.LCFI21:
 1467              		.cfi_def_cfa_offset 0
 1468              		.cfi_restore 4
 1469              		.cfi_restore 14
 323:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
 1470              		.loc 1 323 12 view .LVU396
 1471 029a 0120     		movs	r0, #1
 1472              	.LVL73:
 483:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 1473              		.loc 1 483 1 view .LVU397
 1474 029c 7047     		bx	lr
 1475              	.L123:
 1476 029e 00BF     		.align	2
 1477              	.L122:
 1478 02a0 00000000 		.word	.LC0
 1479              		.cfi_endproc
 1480              	.LFE132:
 1482              		.section	.text.HAL_SPI_MspDeInit,"ax",%progbits
 1483              		.align	1
 1484              		.weak	HAL_SPI_MspDeInit
 1485              		.syntax unified
 1486              		.thumb
 1487              		.thumb_func
 1488              		.fpu fpv4-sp-d16
 1490              	HAL_SPI_MspDeInit:
 1491              	.LVL74:
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 108


 1492              	.LFB135:
 552:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Prevent unused argument(s) compilation warning */
 1493              		.loc 1 552 1 is_stmt 1 view -0
 1494              		.cfi_startproc
 1495              		@ args = 0, pretend = 0, frame = 0
 1496              		@ frame_needed = 0, uses_anonymous_args = 0
 1497              		@ link register save eliminated.
 554:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 1498              		.loc 1 554 3 view .LVU399
 559:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 1499              		.loc 1 559 1 is_stmt 0 view .LVU400
 1500 0000 7047     		bx	lr
 1501              		.cfi_endproc
 1502              	.LFE135:
 1504              		.section	.text.HAL_SPI_DeInit,"ax",%progbits
 1505              		.align	1
 1506              		.global	HAL_SPI_DeInit
 1507              		.syntax unified
 1508              		.thumb
 1509              		.thumb_func
 1510              		.fpu fpv4-sp-d16
 1512              	HAL_SPI_DeInit:
 1513              	.LVL75:
 1514              	.LFB133:
 492:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Check the SPI handle allocation */
 1515              		.loc 1 492 1 is_stmt 1 view -0
 1516              		.cfi_startproc
 1517              		@ args = 0, pretend = 0, frame = 0
 1518              		@ frame_needed = 0, uses_anonymous_args = 0
 494:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 1519              		.loc 1 494 3 view .LVU402
 494:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 1520              		.loc 1 494 6 is_stmt 0 view .LVU403
 1521 0000 20B3     		cbz	r0, .L128
 492:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Check the SPI handle allocation */
 1522              		.loc 1 492 1 view .LVU404
 1523 0002 10B5     		push	{r4, lr}
 1524              	.LCFI22:
 1525              		.cfi_def_cfa_offset 8
 1526              		.cfi_offset 4, -8
 1527              		.cfi_offset 14, -4
 1528 0004 0446     		mov	r4, r0
 500:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 1529              		.loc 1 500 3 is_stmt 1 view .LVU405
 1530 0006 0368     		ldr	r3, [r0]
 1531 0008 114A     		ldr	r2, .L133
 1532 000a 9342     		cmp	r3, r2
 1533 000c 0CD0     		beq	.L127
 500:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 1534              		.loc 1 500 3 is_stmt 0 discriminator 1 view .LVU406
 1535 000e A2F57842 		sub	r2, r2, #63488
 1536 0012 9342     		cmp	r3, r2
 1537 0014 08D0     		beq	.L127
 500:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 1538              		.loc 1 500 3 discriminator 2 view .LVU407
 1539 0016 02F58062 		add	r2, r2, #1024
 1540 001a 9342     		cmp	r3, r2
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 109


 1541 001c 04D0     		beq	.L127
 500:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 1542              		.loc 1 500 3 discriminator 3 view .LVU408
 1543 001e 4FF4FA71 		mov	r1, #500
 1544 0022 0C48     		ldr	r0, .L133+4
 1545              	.LVL76:
 500:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 1546              		.loc 1 500 3 discriminator 3 view .LVU409
 1547 0024 FFF7FEFF 		bl	assert_failed
 1548              	.LVL77:
 1549              	.L127:
 502:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 1550              		.loc 1 502 3 is_stmt 1 view .LVU410
 502:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 1551              		.loc 1 502 15 is_stmt 0 view .LVU411
 1552 0028 0223     		movs	r3, #2
 1553 002a 84F85D30 		strb	r3, [r4, #93]
 505:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 1554              		.loc 1 505 3 is_stmt 1 view .LVU412
 1555 002e 2268     		ldr	r2, [r4]
 1556 0030 1368     		ldr	r3, [r2]
 1557 0032 23F04003 		bic	r3, r3, #64
 1558 0036 1360     		str	r3, [r2]
 517:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
 1559              		.loc 1 517 3 view .LVU413
 1560 0038 2046     		mov	r0, r4
 1561 003a FFF7FEFF 		bl	HAL_SPI_MspDeInit
 1562              	.LVL78:
 520:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->State = HAL_SPI_STATE_RESET;
 1563              		.loc 1 520 3 view .LVU414
 520:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->State = HAL_SPI_STATE_RESET;
 1564              		.loc 1 520 19 is_stmt 0 view .LVU415
 1565 003e 0020     		movs	r0, #0
 1566 0040 2066     		str	r0, [r4, #96]
 521:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 1567              		.loc 1 521 3 is_stmt 1 view .LVU416
 521:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 1568              		.loc 1 521 15 is_stmt 0 view .LVU417
 1569 0042 84F85D00 		strb	r0, [r4, #93]
 524:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 1570              		.loc 1 524 3 is_stmt 1 view .LVU418
 524:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 1571              		.loc 1 524 3 view .LVU419
 1572 0046 84F85C00 		strb	r0, [r4, #92]
 524:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 1573              		.loc 1 524 3 view .LVU420
 526:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** }
 1574              		.loc 1 526 3 view .LVU421
 527:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 1575              		.loc 1 527 1 is_stmt 0 view .LVU422
 1576 004a 10BD     		pop	{r4, pc}
 1577              	.LVL79:
 1578              	.L128:
 1579              	.LCFI23:
 1580              		.cfi_def_cfa_offset 0
 1581              		.cfi_restore 4
 1582              		.cfi_restore 14
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 110


 496:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
 1583              		.loc 1 496 12 view .LVU423
 1584 004c 0120     		movs	r0, #1
 1585              	.LVL80:
 527:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 1586              		.loc 1 527 1 view .LVU424
 1587 004e 7047     		bx	lr
 1588              	.L134:
 1589              		.align	2
 1590              	.L133:
 1591 0050 00300140 		.word	1073819648
 1592 0054 00000000 		.word	.LC0
 1593              		.cfi_endproc
 1594              	.LFE133:
 1596              		.section	.text.HAL_SPI_Transmit,"ax",%progbits
 1597              		.align	1
 1598              		.global	HAL_SPI_Transmit
 1599              		.syntax unified
 1600              		.thumb
 1601              		.thumb_func
 1602              		.fpu fpv4-sp-d16
 1604              	HAL_SPI_Transmit:
 1605              	.LVL81:
 1606              	.LFB136:
 824:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   uint32_t tickstart;
 1607              		.loc 1 824 1 is_stmt 1 view -0
 1608              		.cfi_startproc
 1609              		@ args = 0, pretend = 0, frame = 8
 1610              		@ frame_needed = 0, uses_anonymous_args = 0
 824:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   uint32_t tickstart;
 1611              		.loc 1 824 1 is_stmt 0 view .LVU426
 1612 0000 2DE9F043 		push	{r4, r5, r6, r7, r8, r9, lr}
 1613              	.LCFI24:
 1614              		.cfi_def_cfa_offset 28
 1615              		.cfi_offset 4, -28
 1616              		.cfi_offset 5, -24
 1617              		.cfi_offset 6, -20
 1618              		.cfi_offset 7, -16
 1619              		.cfi_offset 8, -12
 1620              		.cfi_offset 9, -8
 1621              		.cfi_offset 14, -4
 1622 0004 83B0     		sub	sp, sp, #12
 1623              	.LCFI25:
 1624              		.cfi_def_cfa_offset 40
 1625 0006 0446     		mov	r4, r0
 1626 0008 8946     		mov	r9, r1
 1627 000a 9046     		mov	r8, r2
 1628 000c 1D46     		mov	r5, r3
 825:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   HAL_StatusTypeDef errorcode = HAL_OK;
 1629              		.loc 1 825 3 is_stmt 1 view .LVU427
 826:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   uint16_t initial_TxXferCount;
 1630              		.loc 1 826 3 view .LVU428
 1631              	.LVL82:
 827:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 1632              		.loc 1 827 3 view .LVU429
 830:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 1633              		.loc 1 830 3 view .LVU430
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 111


 1634 000e 8368     		ldr	r3, [r0, #8]
 1635              	.LVL83:
 830:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 1636              		.loc 1 830 3 is_stmt 0 view .LVU431
 1637 0010 13B1     		cbz	r3, .L136
 830:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 1638              		.loc 1 830 3 discriminator 1 view .LVU432
 1639 0012 B3F5004F 		cmp	r3, #32768
 1640 0016 4DD1     		bne	.L168
 1641              	.LVL84:
 1642              	.L136:
 833:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 1643              		.loc 1 833 3 is_stmt 1 view .LVU433
 833:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 1644              		.loc 1 833 3 view .LVU434
 1645 0018 94F85C30 		ldrb	r3, [r4, #92]	@ zero_extendqisi2
 1646 001c 012B     		cmp	r3, #1
 1647 001e 00F0F980 		beq	.L161
 833:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 1648              		.loc 1 833 3 discriminator 2 view .LVU435
 1649 0022 0123     		movs	r3, #1
 1650 0024 84F85C30 		strb	r3, [r4, #92]
 833:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 1651              		.loc 1 833 3 discriminator 2 view .LVU436
 836:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   initial_TxXferCount = Size;
 1652              		.loc 1 836 3 discriminator 2 view .LVU437
 836:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   initial_TxXferCount = Size;
 1653              		.loc 1 836 15 is_stmt 0 discriminator 2 view .LVU438
 1654 0028 FFF7FEFF 		bl	HAL_GetTick
 1655              	.LVL85:
 1656 002c 0746     		mov	r7, r0
 1657              	.LVL86:
 837:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 1658              		.loc 1 837 3 is_stmt 1 discriminator 2 view .LVU439
 839:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 1659              		.loc 1 839 3 discriminator 2 view .LVU440
 839:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 1660              		.loc 1 839 11 is_stmt 0 discriminator 2 view .LVU441
 1661 002e 94F85D60 		ldrb	r6, [r4, #93]	@ zero_extendqisi2
 1662 0032 F6B2     		uxtb	r6, r6
 839:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 1663              		.loc 1 839 6 discriminator 2 view .LVU442
 1664 0034 012E     		cmp	r6, #1
 1665 0036 40F0DA80 		bne	.L162
 845:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 1666              		.loc 1 845 3 is_stmt 1 view .LVU443
 845:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 1667              		.loc 1 845 6 is_stmt 0 view .LVU444
 1668 003a B9F1000F 		cmp	r9, #0
 1669 003e 00F0D780 		beq	.L138
 845:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 1670              		.loc 1 845 23 discriminator 1 view .LVU445
 1671 0042 B8F1000F 		cmp	r8, #0
 1672 0046 00F0D380 		beq	.L138
 852:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->ErrorCode   = HAL_SPI_ERROR_NONE;
 1673              		.loc 1 852 3 is_stmt 1 view .LVU446
 852:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->ErrorCode   = HAL_SPI_ERROR_NONE;
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 112


 1674              		.loc 1 852 21 is_stmt 0 view .LVU447
 1675 004a 0323     		movs	r3, #3
 1676 004c 84F85D30 		strb	r3, [r4, #93]
 853:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->pTxBuffPtr  = (uint8_t *)pData;
 1677              		.loc 1 853 3 is_stmt 1 view .LVU448
 853:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->pTxBuffPtr  = (uint8_t *)pData;
 1678              		.loc 1 853 21 is_stmt 0 view .LVU449
 1679 0050 0023     		movs	r3, #0
 1680 0052 2366     		str	r3, [r4, #96]
 854:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->TxXferSize  = Size;
 1681              		.loc 1 854 3 is_stmt 1 view .LVU450
 854:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->TxXferSize  = Size;
 1682              		.loc 1 854 21 is_stmt 0 view .LVU451
 1683 0054 C4F83890 		str	r9, [r4, #56]
 855:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->TxXferCount = Size;
 1684              		.loc 1 855 3 is_stmt 1 view .LVU452
 855:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->TxXferCount = Size;
 1685              		.loc 1 855 21 is_stmt 0 view .LVU453
 1686 0058 A4F83C80 		strh	r8, [r4, #60]	@ movhi
 856:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 1687              		.loc 1 856 3 is_stmt 1 view .LVU454
 856:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 1688              		.loc 1 856 21 is_stmt 0 view .LVU455
 1689 005c A4F83E80 		strh	r8, [r4, #62]	@ movhi
 859:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->RxXferSize  = 0U;
 1690              		.loc 1 859 3 is_stmt 1 view .LVU456
 859:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->RxXferSize  = 0U;
 1691              		.loc 1 859 21 is_stmt 0 view .LVU457
 1692 0060 2364     		str	r3, [r4, #64]
 860:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->RxXferCount = 0U;
 1693              		.loc 1 860 3 is_stmt 1 view .LVU458
 860:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->RxXferCount = 0U;
 1694              		.loc 1 860 21 is_stmt 0 view .LVU459
 1695 0062 A4F84430 		strh	r3, [r4, #68]	@ movhi
 861:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->TxISR       = NULL;
 1696              		.loc 1 861 3 is_stmt 1 view .LVU460
 861:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->TxISR       = NULL;
 1697              		.loc 1 861 21 is_stmt 0 view .LVU461
 1698 0066 A4F84630 		strh	r3, [r4, #70]	@ movhi
 862:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->RxISR       = NULL;
 1699              		.loc 1 862 3 is_stmt 1 view .LVU462
 862:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->RxISR       = NULL;
 1700              		.loc 1 862 21 is_stmt 0 view .LVU463
 1701 006a 2365     		str	r3, [r4, #80]
 863:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 1702              		.loc 1 863 3 is_stmt 1 view .LVU464
 863:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 1703              		.loc 1 863 21 is_stmt 0 view .LVU465
 1704 006c E364     		str	r3, [r4, #76]
 866:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 1705              		.loc 1 866 3 is_stmt 1 view .LVU466
 866:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 1706              		.loc 1 866 17 is_stmt 0 view .LVU467
 1707 006e A368     		ldr	r3, [r4, #8]
 866:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 1708              		.loc 1 866 6 view .LVU468
 1709 0070 B3F5004F 		cmp	r3, #32768
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 113


 1710 0074 24D0     		beq	.L169
 1711              	.L139:
 882:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 1712              		.loc 1 882 3 is_stmt 1 view .LVU469
 882:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 1713              		.loc 1 882 12 is_stmt 0 view .LVU470
 1714 0076 2368     		ldr	r3, [r4]
 882:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 1715              		.loc 1 882 22 view .LVU471
 1716 0078 1A68     		ldr	r2, [r3]
 882:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 1717              		.loc 1 882 6 view .LVU472
 1718 007a 12F0400F 		tst	r2, #64
 1719 007e 03D1     		bne	.L140
 885:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
 1720              		.loc 1 885 5 is_stmt 1 view .LVU473
 1721 0080 1A68     		ldr	r2, [r3]
 1722 0082 42F04002 		orr	r2, r2, #64
 1723 0086 1A60     		str	r2, [r3]
 1724              	.L140:
 889:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 1725              		.loc 1 889 3 view .LVU474
 889:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 1726              		.loc 1 889 17 is_stmt 0 view .LVU475
 1727 0088 E368     		ldr	r3, [r4, #12]
 889:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 1728              		.loc 1 889 6 view .LVU476
 1729 008a B3F5E06F 		cmp	r3, #1792
 1730 008e 48D9     		bls	.L141
 891:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
 1731              		.loc 1 891 5 is_stmt 1 view .LVU477
 891:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
 1732              		.loc 1 891 20 is_stmt 0 view .LVU478
 1733 0090 6368     		ldr	r3, [r4, #4]
 891:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
 1734              		.loc 1 891 8 view .LVU479
 1735 0092 13B1     		cbz	r3, .L142
 891:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
 1736              		.loc 1 891 45 discriminator 1 view .LVU480
 1737 0094 B8F1010F 		cmp	r8, #1
 1738 0098 29D1     		bne	.L144
 1739              	.L142:
 893:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       hspi->pTxBuffPtr += sizeof(uint16_t);
 1740              		.loc 1 893 7 is_stmt 1 view .LVU481
 893:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       hspi->pTxBuffPtr += sizeof(uint16_t);
 1741              		.loc 1 893 46 is_stmt 0 view .LVU482
 1742 009a A26B     		ldr	r2, [r4, #56]
 893:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       hspi->pTxBuffPtr += sizeof(uint16_t);
 1743              		.loc 1 893 11 view .LVU483
 1744 009c 2368     		ldr	r3, [r4]
 893:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       hspi->pTxBuffPtr += sizeof(uint16_t);
 1745              		.loc 1 893 28 view .LVU484
 1746 009e 1288     		ldrh	r2, [r2]
 893:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       hspi->pTxBuffPtr += sizeof(uint16_t);
 1747              		.loc 1 893 26 view .LVU485
 1748 00a0 DA60     		str	r2, [r3, #12]
 894:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       hspi->TxXferCount--;
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 114


 1749              		.loc 1 894 7 is_stmt 1 view .LVU486
 894:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       hspi->TxXferCount--;
 1750              		.loc 1 894 24 is_stmt 0 view .LVU487
 1751 00a2 A36B     		ldr	r3, [r4, #56]
 1752 00a4 0233     		adds	r3, r3, #2
 1753 00a6 A363     		str	r3, [r4, #56]
 895:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
 1754              		.loc 1 895 7 is_stmt 1 view .LVU488
 895:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
 1755              		.loc 1 895 11 is_stmt 0 view .LVU489
 1756 00a8 E38F     		ldrh	r3, [r4, #62]
 1757 00aa 9BB2     		uxth	r3, r3
 895:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
 1758              		.loc 1 895 24 view .LVU490
 1759 00ac 013B     		subs	r3, r3, #1
 1760 00ae 9BB2     		uxth	r3, r3
 1761 00b0 E387     		strh	r3, [r4, #62]	@ movhi
 1762 00b2 1CE0     		b	.L144
 1763              	.LVL87:
 1764              	.L168:
 830:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 1765              		.loc 1 830 3 discriminator 2 view .LVU491
 1766 00b4 40F23E31 		movw	r1, #830
 1767              	.LVL88:
 830:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 1768              		.loc 1 830 3 discriminator 2 view .LVU492
 1769 00b8 5748     		ldr	r0, .L170
 1770              	.LVL89:
 830:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 1771              		.loc 1 830 3 discriminator 2 view .LVU493
 1772 00ba FFF7FEFF 		bl	assert_failed
 1773              	.LVL90:
 830:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 1774              		.loc 1 830 3 discriminator 2 view .LVU494
 1775 00be ABE7     		b	.L136
 1776              	.LVL91:
 1777              	.L169:
 869:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     SPI_1LINE_TX(hspi);
 1778              		.loc 1 869 5 is_stmt 1 view .LVU495
 1779 00c0 2268     		ldr	r2, [r4]
 1780 00c2 1368     		ldr	r3, [r2]
 1781 00c4 23F04003 		bic	r3, r3, #64
 1782 00c8 1360     		str	r3, [r2]
 870:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
 1783              		.loc 1 870 5 view .LVU496
 1784 00ca 2268     		ldr	r2, [r4]
 1785 00cc 1368     		ldr	r3, [r2]
 1786 00ce 43F48043 		orr	r3, r3, #16384
 1787 00d2 1360     		str	r3, [r2]
 1788 00d4 CFE7     		b	.L139
 1789              	.LVL92:
 1790              	.L145:
 910:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         {
 1791              		.loc 1 910 9 view .LVU497
 910:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         {
 1792              		.loc 1 910 16 is_stmt 0 view .LVU498
 1793 00d6 FFF7FEFF 		bl	HAL_GetTick
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 115


 1794              	.LVL93:
 910:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         {
 1795              		.loc 1 910 30 view .LVU499
 1796 00da C01B     		subs	r0, r0, r7
 910:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         {
 1797              		.loc 1 910 12 view .LVU500
 1798 00dc A842     		cmp	r0, r5
 1799 00de 03D3     		bcc	.L147
 910:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         {
 1800              		.loc 1 910 56 discriminator 1 view .LVU501
 1801 00e0 B5F1FF3F 		cmp	r5, #-1
 1802 00e4 40F08E80 		bne	.L163
 1803              	.L147:
 910:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         {
 1804              		.loc 1 910 87 discriminator 3 view .LVU502
 1805 00e8 002D     		cmp	r5, #0
 1806 00ea 00F08D80 		beq	.L164
 1807              	.L144:
 898:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
 1808              		.loc 1 898 11 is_stmt 1 view .LVU503
 898:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
 1809              		.loc 1 898 16 is_stmt 0 view .LVU504
 1810 00ee E38F     		ldrh	r3, [r4, #62]
 1811 00f0 9BB2     		uxth	r3, r3
 898:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
 1812              		.loc 1 898 11 view .LVU505
 1813 00f2 002B     		cmp	r3, #0
 1814 00f4 66D0     		beq	.L149
 901:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       {
 1815              		.loc 1 901 7 is_stmt 1 view .LVU506
 901:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       {
 1816              		.loc 1 901 11 is_stmt 0 view .LVU507
 1817 00f6 2368     		ldr	r3, [r4]
 1818 00f8 9A68     		ldr	r2, [r3, #8]
 901:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       {
 1819              		.loc 1 901 10 view .LVU508
 1820 00fa 12F0020F 		tst	r2, #2
 1821 00fe EAD0     		beq	.L145
 903:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         hspi->pTxBuffPtr += sizeof(uint16_t);
 1822              		.loc 1 903 9 is_stmt 1 view .LVU509
 903:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         hspi->pTxBuffPtr += sizeof(uint16_t);
 1823              		.loc 1 903 48 is_stmt 0 view .LVU510
 1824 0100 A26B     		ldr	r2, [r4, #56]
 903:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         hspi->pTxBuffPtr += sizeof(uint16_t);
 1825              		.loc 1 903 30 view .LVU511
 1826 0102 1288     		ldrh	r2, [r2]
 903:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         hspi->pTxBuffPtr += sizeof(uint16_t);
 1827              		.loc 1 903 28 view .LVU512
 1828 0104 DA60     		str	r2, [r3, #12]
 904:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         hspi->TxXferCount--;
 1829              		.loc 1 904 9 is_stmt 1 view .LVU513
 904:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         hspi->TxXferCount--;
 1830              		.loc 1 904 26 is_stmt 0 view .LVU514
 1831 0106 A36B     		ldr	r3, [r4, #56]
 1832 0108 0233     		adds	r3, r3, #2
 1833 010a A363     		str	r3, [r4, #56]
 905:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       }
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 116


 1834              		.loc 1 905 9 is_stmt 1 view .LVU515
 905:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       }
 1835              		.loc 1 905 13 is_stmt 0 view .LVU516
 1836 010c B4F83EC0 		ldrh	ip, [r4, #62]
 1837 0110 1FFA8CFC 		uxth	ip, ip
 905:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       }
 1838              		.loc 1 905 26 view .LVU517
 1839 0114 0CF1FF3C 		add	ip, ip, #-1
 1840 0118 1FFA8CFC 		uxth	ip, ip
 1841 011c A4F83EC0 		strh	ip, [r4, #62]	@ movhi
 1842 0120 E5E7     		b	.L144
 1843              	.LVL94:
 1844              	.L141:
 921:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
 1845              		.loc 1 921 5 is_stmt 1 view .LVU518
 921:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
 1846              		.loc 1 921 20 is_stmt 0 view .LVU519
 1847 0122 6368     		ldr	r3, [r4, #4]
 921:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
 1848              		.loc 1 921 8 view .LVU520
 1849 0124 13B1     		cbz	r3, .L150
 921:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
 1850              		.loc 1 921 45 discriminator 1 view .LVU521
 1851 0126 B8F1010F 		cmp	r8, #1
 1852 012a 33D1     		bne	.L153
 1853              	.L150:
 923:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       {
 1854              		.loc 1 923 7 is_stmt 1 view .LVU522
 923:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       {
 1855              		.loc 1 923 15 is_stmt 0 view .LVU523
 1856 012c E38F     		ldrh	r3, [r4, #62]
 1857 012e 9BB2     		uxth	r3, r3
 923:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       {
 1858              		.loc 1 923 10 view .LVU524
 1859 0130 012B     		cmp	r3, #1
 1860 0132 0CD9     		bls	.L152
 926:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         hspi->pTxBuffPtr += sizeof(uint16_t);
 1861              		.loc 1 926 9 is_stmt 1 view .LVU525
 926:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         hspi->pTxBuffPtr += sizeof(uint16_t);
 1862              		.loc 1 926 48 is_stmt 0 view .LVU526
 1863 0134 A26B     		ldr	r2, [r4, #56]
 926:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         hspi->pTxBuffPtr += sizeof(uint16_t);
 1864              		.loc 1 926 13 view .LVU527
 1865 0136 2368     		ldr	r3, [r4]
 926:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         hspi->pTxBuffPtr += sizeof(uint16_t);
 1866              		.loc 1 926 30 view .LVU528
 1867 0138 1288     		ldrh	r2, [r2]
 926:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         hspi->pTxBuffPtr += sizeof(uint16_t);
 1868              		.loc 1 926 28 view .LVU529
 1869 013a DA60     		str	r2, [r3, #12]
 927:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         hspi->TxXferCount -= 2U;
 1870              		.loc 1 927 9 is_stmt 1 view .LVU530
 927:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         hspi->TxXferCount -= 2U;
 1871              		.loc 1 927 26 is_stmt 0 view .LVU531
 1872 013c A36B     		ldr	r3, [r4, #56]
 1873 013e 0233     		adds	r3, r3, #2
 1874 0140 A363     		str	r3, [r4, #56]
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 117


 928:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       }
 1875              		.loc 1 928 9 is_stmt 1 view .LVU532
 928:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       }
 1876              		.loc 1 928 27 is_stmt 0 view .LVU533
 1877 0142 E38F     		ldrh	r3, [r4, #62]
 1878 0144 9BB2     		uxth	r3, r3
 1879 0146 023B     		subs	r3, r3, #2
 1880 0148 9BB2     		uxth	r3, r3
 1881 014a E387     		strh	r3, [r4, #62]	@ movhi
 1882 014c 22E0     		b	.L153
 1883              	.L152:
 932:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         hspi->pTxBuffPtr ++;
 1884              		.loc 1 932 9 is_stmt 1 view .LVU534
 932:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         hspi->pTxBuffPtr ++;
 1885              		.loc 1 932 56 is_stmt 0 view .LVU535
 1886 014e A26B     		ldr	r2, [r4, #56]
 932:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         hspi->pTxBuffPtr ++;
 1887              		.loc 1 932 32 view .LVU536
 1888 0150 2368     		ldr	r3, [r4]
 932:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         hspi->pTxBuffPtr ++;
 1889              		.loc 1 932 51 view .LVU537
 1890 0152 1278     		ldrb	r2, [r2]	@ zero_extendqisi2
 932:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         hspi->pTxBuffPtr ++;
 1891              		.loc 1 932 48 view .LVU538
 1892 0154 1A73     		strb	r2, [r3, #12]
 933:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         hspi->TxXferCount--;
 1893              		.loc 1 933 9 is_stmt 1 view .LVU539
 933:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         hspi->TxXferCount--;
 1894              		.loc 1 933 13 is_stmt 0 view .LVU540
 1895 0156 A36B     		ldr	r3, [r4, #56]
 933:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         hspi->TxXferCount--;
 1896              		.loc 1 933 26 view .LVU541
 1897 0158 0133     		adds	r3, r3, #1
 1898 015a A363     		str	r3, [r4, #56]
 934:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       }
 1899              		.loc 1 934 9 is_stmt 1 view .LVU542
 934:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       }
 1900              		.loc 1 934 13 is_stmt 0 view .LVU543
 1901 015c E38F     		ldrh	r3, [r4, #62]
 1902 015e 9BB2     		uxth	r3, r3
 934:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       }
 1903              		.loc 1 934 26 view .LVU544
 1904 0160 013B     		subs	r3, r3, #1
 1905 0162 9BB2     		uxth	r3, r3
 1906 0164 E387     		strh	r3, [r4, #62]	@ movhi
 1907 0166 15E0     		b	.L153
 1908              	.LVL95:
 1909              	.L155:
 951:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           hspi->pTxBuffPtr++;
 1910              		.loc 1 951 11 is_stmt 1 view .LVU545
 951:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           hspi->pTxBuffPtr++;
 1911              		.loc 1 951 58 is_stmt 0 view .LVU546
 1912 0168 A36B     		ldr	r3, [r4, #56]
 951:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           hspi->pTxBuffPtr++;
 1913              		.loc 1 951 53 view .LVU547
 1914 016a 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 951:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           hspi->pTxBuffPtr++;
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 118


 1915              		.loc 1 951 50 view .LVU548
 1916 016c 1373     		strb	r3, [r2, #12]
 952:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           hspi->TxXferCount--;
 1917              		.loc 1 952 11 is_stmt 1 view .LVU549
 952:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           hspi->TxXferCount--;
 1918              		.loc 1 952 15 is_stmt 0 view .LVU550
 1919 016e A36B     		ldr	r3, [r4, #56]
 952:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           hspi->TxXferCount--;
 1920              		.loc 1 952 27 view .LVU551
 1921 0170 0133     		adds	r3, r3, #1
 1922 0172 A363     		str	r3, [r4, #56]
 953:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         }
 1923              		.loc 1 953 11 is_stmt 1 view .LVU552
 953:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         }
 1924              		.loc 1 953 15 is_stmt 0 view .LVU553
 1925 0174 E38F     		ldrh	r3, [r4, #62]
 1926 0176 9BB2     		uxth	r3, r3
 953:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         }
 1927              		.loc 1 953 28 view .LVU554
 1928 0178 013B     		subs	r3, r3, #1
 1929 017a 9BB2     		uxth	r3, r3
 1930 017c E387     		strh	r3, [r4, #62]	@ movhi
 1931 017e 09E0     		b	.L153
 1932              	.L154:
 959:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         {
 1933              		.loc 1 959 9 is_stmt 1 view .LVU555
 959:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         {
 1934              		.loc 1 959 16 is_stmt 0 view .LVU556
 1935 0180 FFF7FEFF 		bl	HAL_GetTick
 1936              	.LVL96:
 959:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         {
 1937              		.loc 1 959 30 view .LVU557
 1938 0184 C01B     		subs	r0, r0, r7
 959:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         {
 1939              		.loc 1 959 12 view .LVU558
 1940 0186 A842     		cmp	r0, r5
 1941 0188 02D3     		bcc	.L157
 959:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         {
 1942              		.loc 1 959 56 discriminator 1 view .LVU559
 1943 018a B5F1FF3F 		cmp	r5, #-1
 1944 018e 3DD1     		bne	.L165
 1945              	.L157:
 959:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         {
 1946              		.loc 1 959 87 discriminator 3 view .LVU560
 1947 0190 002D     		cmp	r5, #0
 1948 0192 3DD0     		beq	.L166
 1949              	.L153:
 937:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
 1950              		.loc 1 937 11 is_stmt 1 view .LVU561
 937:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
 1951              		.loc 1 937 16 is_stmt 0 view .LVU562
 1952 0194 E38F     		ldrh	r3, [r4, #62]
 1953 0196 9BB2     		uxth	r3, r3
 937:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
 1954              		.loc 1 937 11 view .LVU563
 1955 0198 A3B1     		cbz	r3, .L149
 940:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       {
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 119


 1956              		.loc 1 940 7 is_stmt 1 view .LVU564
 940:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       {
 1957              		.loc 1 940 11 is_stmt 0 view .LVU565
 1958 019a 2268     		ldr	r2, [r4]
 1959 019c 9368     		ldr	r3, [r2, #8]
 940:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       {
 1960              		.loc 1 940 10 view .LVU566
 1961 019e 13F0020F 		tst	r3, #2
 1962 01a2 EDD0     		beq	.L154
 942:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         {
 1963              		.loc 1 942 9 is_stmt 1 view .LVU567
 942:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         {
 1964              		.loc 1 942 17 is_stmt 0 view .LVU568
 1965 01a4 E38F     		ldrh	r3, [r4, #62]
 1966 01a6 9BB2     		uxth	r3, r3
 942:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         {
 1967              		.loc 1 942 12 view .LVU569
 1968 01a8 012B     		cmp	r3, #1
 1969 01aa DDD9     		bls	.L155
 945:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           hspi->pTxBuffPtr += sizeof(uint16_t);
 1970              		.loc 1 945 11 is_stmt 1 view .LVU570
 945:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           hspi->pTxBuffPtr += sizeof(uint16_t);
 1971              		.loc 1 945 50 is_stmt 0 view .LVU571
 1972 01ac A36B     		ldr	r3, [r4, #56]
 945:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           hspi->pTxBuffPtr += sizeof(uint16_t);
 1973              		.loc 1 945 32 view .LVU572
 1974 01ae 1B88     		ldrh	r3, [r3]
 945:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           hspi->pTxBuffPtr += sizeof(uint16_t);
 1975              		.loc 1 945 30 view .LVU573
 1976 01b0 D360     		str	r3, [r2, #12]
 946:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           hspi->TxXferCount -= 2U;
 1977              		.loc 1 946 11 is_stmt 1 view .LVU574
 946:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           hspi->TxXferCount -= 2U;
 1978              		.loc 1 946 28 is_stmt 0 view .LVU575
 1979 01b2 A36B     		ldr	r3, [r4, #56]
 1980 01b4 0233     		adds	r3, r3, #2
 1981 01b6 A363     		str	r3, [r4, #56]
 947:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         }
 1982              		.loc 1 947 11 is_stmt 1 view .LVU576
 947:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         }
 1983              		.loc 1 947 29 is_stmt 0 view .LVU577
 1984 01b8 E38F     		ldrh	r3, [r4, #62]
 1985 01ba 9BB2     		uxth	r3, r3
 1986 01bc 023B     		subs	r3, r3, #2
 1987 01be 9BB2     		uxth	r3, r3
 1988 01c0 E387     		strh	r3, [r4, #62]	@ movhi
 1989 01c2 E7E7     		b	.L153
 1990              	.L149:
 976:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 1991              		.loc 1 976 3 is_stmt 1 view .LVU578
 976:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 1992              		.loc 1 976 7 is_stmt 0 view .LVU579
 1993 01c4 3A46     		mov	r2, r7
 1994 01c6 2946     		mov	r1, r5
 1995 01c8 2046     		mov	r0, r4
 1996 01ca FFF7FEFF 		bl	SPI_EndRxTxTransaction
 1997              	.LVL97:
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 120


 976:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 1998              		.loc 1 976 6 view .LVU580
 1999 01ce 08B1     		cbz	r0, .L159
 978:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
 2000              		.loc 1 978 5 is_stmt 1 view .LVU581
 978:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
 2001              		.loc 1 978 21 is_stmt 0 view .LVU582
 2002 01d0 2023     		movs	r3, #32
 2003 01d2 2366     		str	r3, [r4, #96]
 2004              	.L159:
 982:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 2005              		.loc 1 982 3 is_stmt 1 view .LVU583
 982:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 2006              		.loc 1 982 17 is_stmt 0 view .LVU584
 2007 01d4 A368     		ldr	r3, [r4, #8]
 982:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 2008              		.loc 1 982 6 view .LVU585
 2009 01d6 33B9     		cbnz	r3, .L160
 984:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
 2010              		.loc 1 984 5 is_stmt 1 view .LVU586
 2011              	.LBB2:
 984:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
 2012              		.loc 1 984 5 view .LVU587
 2013 01d8 0193     		str	r3, [sp, #4]
 984:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
 2014              		.loc 1 984 5 view .LVU588
 2015 01da 2368     		ldr	r3, [r4]
 2016 01dc DA68     		ldr	r2, [r3, #12]
 2017 01de 0192     		str	r2, [sp, #4]
 984:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
 2018              		.loc 1 984 5 view .LVU589
 2019 01e0 9B68     		ldr	r3, [r3, #8]
 2020 01e2 0193     		str	r3, [sp, #4]
 984:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
 2021              		.loc 1 984 5 view .LVU590
 2022 01e4 019B     		ldr	r3, [sp, #4]
 2023              	.L160:
 2024              	.LBE2:
 984:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
 2025              		.loc 1 984 5 discriminator 1 view .LVU591
 987:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 2026              		.loc 1 987 3 discriminator 1 view .LVU592
 987:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 2027              		.loc 1 987 11 is_stmt 0 discriminator 1 view .LVU593
 2028 01e6 236E     		ldr	r3, [r4, #96]
 987:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 2029              		.loc 1 987 6 discriminator 1 view .LVU594
 2030 01e8 13B9     		cbnz	r3, .L138
 826:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   uint16_t initial_TxXferCount;
 2031              		.loc 1 826 21 view .LVU595
 2032 01ea 0026     		movs	r6, #0
 2033 01ec 00E0     		b	.L138
 2034              	.LVL98:
 2035              	.L162:
 841:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     goto error;
 2036              		.loc 1 841 15 view .LVU596
 2037 01ee 0226     		movs	r6, #2
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 121


 2038              	.LVL99:
 2039              	.L138:
 993:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Process Unlocked */
 2040              		.loc 1 993 3 is_stmt 1 view .LVU597
 993:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Process Unlocked */
 2041              		.loc 1 993 15 is_stmt 0 view .LVU598
 2042 01f0 0123     		movs	r3, #1
 2043 01f2 84F85D30 		strb	r3, [r4, #93]
 995:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   return errorcode;
 2044              		.loc 1 995 3 is_stmt 1 view .LVU599
 995:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   return errorcode;
 2045              		.loc 1 995 3 view .LVU600
 2046 01f6 0023     		movs	r3, #0
 2047 01f8 84F85C30 		strb	r3, [r4, #92]
 995:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   return errorcode;
 2048              		.loc 1 995 3 view .LVU601
 996:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** }
 2049              		.loc 1 996 3 view .LVU602
 2050              	.LVL100:
 2051              	.L137:
 997:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 2052              		.loc 1 997 1 is_stmt 0 view .LVU603
 2053 01fc 3046     		mov	r0, r6
 2054 01fe 03B0     		add	sp, sp, #12
 2055              	.LCFI26:
 2056              		.cfi_remember_state
 2057              		.cfi_def_cfa_offset 28
 2058              		@ sp needed
 2059 0200 BDE8F083 		pop	{r4, r5, r6, r7, r8, r9, pc}
 2060              	.LVL101:
 2061              	.L163:
 2062              	.LCFI27:
 2063              		.cfi_restore_state
 912:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           goto error;
 2064              		.loc 1 912 21 view .LVU604
 2065 0204 0326     		movs	r6, #3
 2066 0206 F3E7     		b	.L138
 2067              	.L164:
 2068 0208 0326     		movs	r6, #3
 2069 020a F1E7     		b	.L138
 2070              	.L165:
 961:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           goto error;
 2071              		.loc 1 961 21 view .LVU605
 2072 020c 0326     		movs	r6, #3
 2073 020e EFE7     		b	.L138
 2074              	.L166:
 2075 0210 0326     		movs	r6, #3
 2076 0212 EDE7     		b	.L138
 2077              	.LVL102:
 2078              	.L161:
 833:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 2079              		.loc 1 833 3 view .LVU606
 2080 0214 0226     		movs	r6, #2
 2081 0216 F1E7     		b	.L137
 2082              	.L171:
 2083              		.align	2
 2084              	.L170:
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 122


 2085 0218 00000000 		.word	.LC0
 2086              		.cfi_endproc
 2087              	.LFE136:
 2089              		.section	.text.HAL_SPI_TransmitReceive,"ax",%progbits
 2090              		.align	1
 2091              		.global	HAL_SPI_TransmitReceive
 2092              		.syntax unified
 2093              		.thumb
 2094              		.thumb_func
 2095              		.fpu fpv4-sp-d16
 2097              	HAL_SPI_TransmitReceive:
 2098              	.LVL103:
 2099              	.LFB138:
1246:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
 2100              		.loc 1 1246 1 is_stmt 1 view -0
 2101              		.cfi_startproc
 2102              		@ args = 4, pretend = 0, frame = 0
 2103              		@ frame_needed = 0, uses_anonymous_args = 0
1246:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
 2104              		.loc 1 1246 1 is_stmt 0 view .LVU608
 2105 0000 2DE9F843 		push	{r3, r4, r5, r6, r7, r8, r9, lr}
 2106              	.LCFI28:
 2107              		.cfi_def_cfa_offset 32
 2108              		.cfi_offset 3, -32
 2109              		.cfi_offset 4, -28
 2110              		.cfi_offset 5, -24
 2111              		.cfi_offset 6, -20
 2112              		.cfi_offset 7, -16
 2113              		.cfi_offset 8, -12
 2114              		.cfi_offset 9, -8
 2115              		.cfi_offset 14, -4
 2116 0004 0446     		mov	r4, r0
 2117 0006 8846     		mov	r8, r1
 2118 0008 9146     		mov	r9, r2
 2119 000a 1F46     		mov	r7, r3
 2120 000c 089D     		ldr	r5, [sp, #32]
1250:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   uint16_t             initial_RxXferCount;
 2121              		.loc 1 1250 3 is_stmt 1 view .LVU609
1251:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   uint32_t             tmp_mode;
 2122              		.loc 1 1251 3 view .LVU610
1252:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   HAL_SPI_StateTypeDef tmp_state;
 2123              		.loc 1 1252 3 view .LVU611
1253:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   uint32_t             tickstart;
 2124              		.loc 1 1253 3 view .LVU612
1254:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
 2125              		.loc 1 1254 3 view .LVU613
1261:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   HAL_StatusTypeDef    errorcode = HAL_OK;
 2126              		.loc 1 1261 3 view .LVU614
 2127              	.LVL104:
1262:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 2128              		.loc 1 1262 3 view .LVU615
1265:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 2129              		.loc 1 1265 3 view .LVU616
 2130 000e 8368     		ldr	r3, [r0, #8]
 2131              	.LVL105:
1265:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 2132              		.loc 1 1265 3 is_stmt 0 view .LVU617
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 123


 2133 0010 002B     		cmp	r3, #0
 2134 0012 66D1     		bne	.L212
 2135              	.LVL106:
 2136              	.L173:
1268:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 2137              		.loc 1 1268 3 is_stmt 1 view .LVU618
1268:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 2138              		.loc 1 1268 3 view .LVU619
 2139 0014 94F85C30 		ldrb	r3, [r4, #92]	@ zero_extendqisi2
 2140 0018 012B     		cmp	r3, #1
 2141 001a 00F06781 		beq	.L200
1268:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 2142              		.loc 1 1268 3 discriminator 2 view .LVU620
 2143 001e 0123     		movs	r3, #1
 2144 0020 84F85C30 		strb	r3, [r4, #92]
1268:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 2145              		.loc 1 1268 3 discriminator 2 view .LVU621
1271:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 2146              		.loc 1 1271 3 discriminator 2 view .LVU622
1271:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 2147              		.loc 1 1271 15 is_stmt 0 discriminator 2 view .LVU623
 2148 0024 FFF7FEFF 		bl	HAL_GetTick
 2149              	.LVL107:
 2150 0028 0646     		mov	r6, r0
 2151              	.LVL108:
1274:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   tmp_mode            = hspi->Init.Mode;
 2152              		.loc 1 1274 3 is_stmt 1 discriminator 2 view .LVU624
1274:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   tmp_mode            = hspi->Init.Mode;
 2153              		.loc 1 1274 23 is_stmt 0 discriminator 2 view .LVU625
 2154 002a 94F85D30 		ldrb	r3, [r4, #93]	@ zero_extendqisi2
 2155 002e DBB2     		uxtb	r3, r3
 2156              	.LVL109:
1275:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   initial_TxXferCount = Size;
 2157              		.loc 1 1275 3 is_stmt 1 discriminator 2 view .LVU626
1275:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   initial_TxXferCount = Size;
 2158              		.loc 1 1275 23 is_stmt 0 discriminator 2 view .LVU627
 2159 0030 6268     		ldr	r2, [r4, #4]
 2160              	.LVL110:
1276:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   initial_RxXferCount = Size;
 2161              		.loc 1 1276 3 is_stmt 1 discriminator 2 view .LVU628
1277:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
 2162              		.loc 1 1277 3 discriminator 2 view .LVU629
1283:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         ((tmp_mode == SPI_MODE_MASTER) && (hspi->Init.Direction == SPI_DIRECTION_2LINES) && (tmp_st
 2163              		.loc 1 1283 3 discriminator 2 view .LVU630
1283:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         ((tmp_mode == SPI_MODE_MASTER) && (hspi->Init.Direction == SPI_DIRECTION_2LINES) && (tmp_st
 2164              		.loc 1 1283 6 is_stmt 0 discriminator 2 view .LVU631
 2165 0032 012B     		cmp	r3, #1
 2166 0034 0AD0     		beq	.L175
1283:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         ((tmp_mode == SPI_MODE_MASTER) && (hspi->Init.Direction == SPI_DIRECTION_2LINES) && (tmp_st
 2167              		.loc 1 1283 7 discriminator 1 view .LVU632
 2168 0036 B2F5827F 		cmp	r2, #260
 2169 003a 40F03E81 		bne	.L201
1284:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 2170              		.loc 1 1284 54 view .LVU633
 2171 003e A268     		ldr	r2, [r4, #8]
 2172              	.LVL111:
1284:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 124


 2173              		.loc 1 1284 40 view .LVU634
 2174 0040 002A     		cmp	r2, #0
 2175 0042 40F04381 		bne	.L202
1284:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 2176              		.loc 1 1284 90 discriminator 1 view .LVU635
 2177 0046 042B     		cmp	r3, #4
 2178 0048 40F04281 		bne	.L203
 2179              	.L175:
1290:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 2180              		.loc 1 1290 3 is_stmt 1 view .LVU636
1290:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 2181              		.loc 1 1290 6 is_stmt 0 view .LVU637
 2182 004c B8F1000F 		cmp	r8, #0
 2183 0050 00F04081 		beq	.L204
1290:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 2184              		.loc 1 1290 25 discriminator 1 view .LVU638
 2185 0054 B9F1000F 		cmp	r9, #0
 2186 0058 00F03E81 		beq	.L205
1290:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 2187              		.loc 1 1290 46 discriminator 2 view .LVU639
 2188 005c 002F     		cmp	r7, #0
 2189 005e 00F03D81 		beq	.L206
1297:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 2190              		.loc 1 1297 3 is_stmt 1 view .LVU640
1297:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 2191              		.loc 1 1297 11 is_stmt 0 view .LVU641
 2192 0062 94F85D30 		ldrb	r3, [r4, #93]	@ zero_extendqisi2
 2193              	.LVL112:
1297:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 2194              		.loc 1 1297 11 view .LVU642
 2195 0066 DBB2     		uxtb	r3, r3
1297:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 2196              		.loc 1 1297 6 view .LVU643
 2197 0068 042B     		cmp	r3, #4
 2198 006a 02D0     		beq	.L177
1299:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
 2199              		.loc 1 1299 5 is_stmt 1 view .LVU644
1299:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
 2200              		.loc 1 1299 17 is_stmt 0 view .LVU645
 2201 006c 0523     		movs	r3, #5
 2202 006e 84F85D30 		strb	r3, [r4, #93]
 2203              	.L177:
1303:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->pRxBuffPtr  = (uint8_t *)pRxData;
 2204              		.loc 1 1303 3 is_stmt 1 view .LVU646
1303:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->pRxBuffPtr  = (uint8_t *)pRxData;
 2205              		.loc 1 1303 21 is_stmt 0 view .LVU647
 2206 0072 0023     		movs	r3, #0
 2207 0074 2366     		str	r3, [r4, #96]
1304:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->RxXferCount = Size;
 2208              		.loc 1 1304 3 is_stmt 1 view .LVU648
1304:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->RxXferCount = Size;
 2209              		.loc 1 1304 21 is_stmt 0 view .LVU649
 2210 0076 C4F84090 		str	r9, [r4, #64]
1305:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->RxXferSize  = Size;
 2211              		.loc 1 1305 3 is_stmt 1 view .LVU650
1305:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->RxXferSize  = Size;
 2212              		.loc 1 1305 21 is_stmt 0 view .LVU651
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 125


 2213 007a A4F84670 		strh	r7, [r4, #70]	@ movhi
1306:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->pTxBuffPtr  = (uint8_t *)pTxData;
 2214              		.loc 1 1306 3 is_stmt 1 view .LVU652
1306:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->pTxBuffPtr  = (uint8_t *)pTxData;
 2215              		.loc 1 1306 21 is_stmt 0 view .LVU653
 2216 007e A4F84470 		strh	r7, [r4, #68]	@ movhi
1307:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->TxXferCount = Size;
 2217              		.loc 1 1307 3 is_stmt 1 view .LVU654
1307:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->TxXferCount = Size;
 2218              		.loc 1 1307 21 is_stmt 0 view .LVU655
 2219 0082 C4F83880 		str	r8, [r4, #56]
1308:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->TxXferSize  = Size;
 2220              		.loc 1 1308 3 is_stmt 1 view .LVU656
1308:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->TxXferSize  = Size;
 2221              		.loc 1 1308 21 is_stmt 0 view .LVU657
 2222 0086 E787     		strh	r7, [r4, #62]	@ movhi
1309:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 2223              		.loc 1 1309 3 is_stmt 1 view .LVU658
1309:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 2224              		.loc 1 1309 21 is_stmt 0 view .LVU659
 2225 0088 A787     		strh	r7, [r4, #60]	@ movhi
1312:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->TxISR       = NULL;
 2226              		.loc 1 1312 3 is_stmt 1 view .LVU660
1312:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->TxISR       = NULL;
 2227              		.loc 1 1312 21 is_stmt 0 view .LVU661
 2228 008a E364     		str	r3, [r4, #76]
1313:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 2229              		.loc 1 1313 3 is_stmt 1 view .LVU662
1313:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 2230              		.loc 1 1313 21 is_stmt 0 view .LVU663
 2231 008c 2365     		str	r3, [r4, #80]
1324:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 2232              		.loc 1 1324 3 is_stmt 1 view .LVU664
1324:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 2233              		.loc 1 1324 18 is_stmt 0 view .LVU665
 2234 008e E368     		ldr	r3, [r4, #12]
1324:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 2235              		.loc 1 1324 6 view .LVU666
 2236 0090 B3F5E06F 		cmp	r3, #1792
 2237 0094 01D8     		bhi	.L178
1324:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 2238              		.loc 1 1324 49 discriminator 1 view .LVU667
 2239 0096 012F     		cmp	r7, #1
 2240 0098 29D9     		bls	.L179
 2241              	.L178:
1327:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
 2242              		.loc 1 1327 5 is_stmt 1 view .LVU668
 2243 009a 2268     		ldr	r2, [r4]
 2244 009c 5368     		ldr	r3, [r2, #4]
 2245 009e 23F48053 		bic	r3, r3, #4096
 2246 00a2 5360     		str	r3, [r2, #4]
 2247              	.LVL113:
 2248              	.L180:
1336:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 2249              		.loc 1 1336 3 view .LVU669
1336:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 2250              		.loc 1 1336 12 is_stmt 0 view .LVU670
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 126


 2251 00a4 2368     		ldr	r3, [r4]
1336:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 2252              		.loc 1 1336 22 view .LVU671
 2253 00a6 1A68     		ldr	r2, [r3]
1336:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 2254              		.loc 1 1336 6 view .LVU672
 2255 00a8 12F0400F 		tst	r2, #64
 2256 00ac 03D1     		bne	.L181
1339:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
 2257              		.loc 1 1339 5 is_stmt 1 view .LVU673
 2258 00ae 1A68     		ldr	r2, [r3]
 2259 00b0 42F04002 		orr	r2, r2, #64
 2260 00b4 1A60     		str	r2, [r3]
 2261              	.L181:
1343:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 2262              		.loc 1 1343 3 view .LVU674
1343:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 2263              		.loc 1 1343 17 is_stmt 0 view .LVU675
 2264 00b6 E368     		ldr	r3, [r4, #12]
1343:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 2265              		.loc 1 1343 6 view .LVU676
 2266 00b8 B3F5E06F 		cmp	r3, #1792
 2267 00bc 5ED9     		bls	.L182
1345:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
 2268              		.loc 1 1345 5 is_stmt 1 view .LVU677
1345:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
 2269              		.loc 1 1345 20 is_stmt 0 view .LVU678
 2270 00be 6368     		ldr	r3, [r4, #4]
1345:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
 2271              		.loc 1 1345 8 view .LVU679
 2272 00c0 0BB1     		cbz	r3, .L183
1345:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
 2273              		.loc 1 1345 45 discriminator 1 view .LVU680
 2274 00c2 012F     		cmp	r7, #1
 2275 00c4 0BD1     		bne	.L184
 2276              	.L183:
1347:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       hspi->pTxBuffPtr += sizeof(uint16_t);
 2277              		.loc 1 1347 7 is_stmt 1 view .LVU681
1347:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       hspi->pTxBuffPtr += sizeof(uint16_t);
 2278              		.loc 1 1347 46 is_stmt 0 view .LVU682
 2279 00c6 A26B     		ldr	r2, [r4, #56]
1347:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       hspi->pTxBuffPtr += sizeof(uint16_t);
 2280              		.loc 1 1347 11 view .LVU683
 2281 00c8 2368     		ldr	r3, [r4]
1347:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       hspi->pTxBuffPtr += sizeof(uint16_t);
 2282              		.loc 1 1347 28 view .LVU684
 2283 00ca 1288     		ldrh	r2, [r2]
1347:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       hspi->pTxBuffPtr += sizeof(uint16_t);
 2284              		.loc 1 1347 26 view .LVU685
 2285 00cc DA60     		str	r2, [r3, #12]
1348:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       hspi->TxXferCount--;
 2286              		.loc 1 1348 7 is_stmt 1 view .LVU686
1348:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       hspi->TxXferCount--;
 2287              		.loc 1 1348 24 is_stmt 0 view .LVU687
 2288 00ce A36B     		ldr	r3, [r4, #56]
 2289 00d0 0233     		adds	r3, r3, #2
 2290 00d2 A363     		str	r3, [r4, #56]
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 127


1349:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
 2291              		.loc 1 1349 7 is_stmt 1 view .LVU688
1349:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
 2292              		.loc 1 1349 11 is_stmt 0 view .LVU689
 2293 00d4 E38F     		ldrh	r3, [r4, #62]
 2294 00d6 9BB2     		uxth	r3, r3
1349:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
 2295              		.loc 1 1349 24 view .LVU690
 2296 00d8 013B     		subs	r3, r3, #1
 2297 00da 9BB2     		uxth	r3, r3
 2298 00dc E387     		strh	r3, [r4, #62]	@ movhi
 2299              	.L184:
1383:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       }
 2300              		.loc 1 1383 19 view .LVU691
 2301 00de 0127     		movs	r7, #1
 2302              	.LVL114:
1383:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       }
 2303              		.loc 1 1383 19 view .LVU692
 2304 00e0 37E0     		b	.L185
 2305              	.LVL115:
 2306              	.L212:
1265:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 2307              		.loc 1 1265 3 discriminator 1 view .LVU693
 2308 00e2 40F2F141 		movw	r1, #1265
 2309              	.LVL116:
1265:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 2310              		.loc 1 1265 3 discriminator 1 view .LVU694
 2311 00e6 8248     		ldr	r0, .L217
 2312              	.LVL117:
1265:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 2313              		.loc 1 1265 3 discriminator 1 view .LVU695
 2314 00e8 FFF7FEFF 		bl	assert_failed
 2315              	.LVL118:
1265:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 2316              		.loc 1 1265 3 discriminator 1 view .LVU696
 2317 00ec 92E7     		b	.L173
 2318              	.LVL119:
 2319              	.L179:
1332:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
 2320              		.loc 1 1332 5 is_stmt 1 view .LVU697
 2321 00ee 2268     		ldr	r2, [r4]
 2322 00f0 5368     		ldr	r3, [r2, #4]
 2323 00f2 43F48053 		orr	r3, r3, #4096
 2324 00f6 5360     		str	r3, [r2, #4]
 2325              	.LVL120:
1332:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
 2326              		.loc 1 1332 5 is_stmt 0 view .LVU698
 2327 00f8 D4E7     		b	.L180
 2328              	.LVL121:
 2329              	.L213:
1356:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         hspi->pTxBuffPtr += sizeof(uint16_t);
 2330              		.loc 1 1356 9 is_stmt 1 view .LVU699
1356:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         hspi->pTxBuffPtr += sizeof(uint16_t);
 2331              		.loc 1 1356 48 is_stmt 0 view .LVU700
 2332 00fa A26B     		ldr	r2, [r4, #56]
1356:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         hspi->pTxBuffPtr += sizeof(uint16_t);
 2333              		.loc 1 1356 30 view .LVU701
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 128


 2334 00fc 1288     		ldrh	r2, [r2]
1356:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         hspi->pTxBuffPtr += sizeof(uint16_t);
 2335              		.loc 1 1356 28 view .LVU702
 2336 00fe DA60     		str	r2, [r3, #12]
1357:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         hspi->TxXferCount--;
 2337              		.loc 1 1357 9 is_stmt 1 view .LVU703
1357:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         hspi->TxXferCount--;
 2338              		.loc 1 1357 26 is_stmt 0 view .LVU704
 2339 0100 A36B     		ldr	r3, [r4, #56]
 2340 0102 0233     		adds	r3, r3, #2
 2341 0104 A363     		str	r3, [r4, #56]
1358:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         /* Next Data is a reception (Rx). Tx not allowed */
 2342              		.loc 1 1358 9 is_stmt 1 view .LVU705
1358:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         /* Next Data is a reception (Rx). Tx not allowed */
 2343              		.loc 1 1358 13 is_stmt 0 view .LVU706
 2344 0106 E38F     		ldrh	r3, [r4, #62]
 2345 0108 9BB2     		uxth	r3, r3
1358:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         /* Next Data is a reception (Rx). Tx not allowed */
 2346              		.loc 1 1358 26 view .LVU707
 2347 010a 013B     		subs	r3, r3, #1
 2348 010c 9BB2     		uxth	r3, r3
 2349 010e E387     		strh	r3, [r4, #62]	@ movhi
1360:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 2350              		.loc 1 1360 9 is_stmt 1 view .LVU708
 2351              	.LVL122:
1360:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 2352              		.loc 1 1360 19 is_stmt 0 view .LVU709
 2353 0110 0027     		movs	r7, #0
 2354              	.LVL123:
 2355              	.L186:
1377:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       {
 2356              		.loc 1 1377 7 is_stmt 1 view .LVU710
1377:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       {
 2357              		.loc 1 1377 12 is_stmt 0 view .LVU711
 2358 0112 2368     		ldr	r3, [r4]
 2359 0114 9A68     		ldr	r2, [r3, #8]
1377:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       {
 2360              		.loc 1 1377 10 view .LVU712
 2361 0116 12F0010F 		tst	r2, #1
 2362 011a 11D0     		beq	.L187
1377:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       {
 2363              		.loc 1 1377 61 discriminator 1 view .LVU713
 2364 011c B4F84620 		ldrh	r2, [r4, #70]
 2365 0120 92B2     		uxth	r2, r2
1377:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       {
 2366              		.loc 1 1377 53 discriminator 1 view .LVU714
 2367 0122 6AB1     		cbz	r2, .L187
1379:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         hspi->pRxBuffPtr += sizeof(uint16_t);
 2368              		.loc 1 1379 9 is_stmt 1 view .LVU715
1379:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         hspi->pRxBuffPtr += sizeof(uint16_t);
 2369              		.loc 1 1379 67 is_stmt 0 view .LVU716
 2370 0124 DA68     		ldr	r2, [r3, #12]
1379:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         hspi->pRxBuffPtr += sizeof(uint16_t);
 2371              		.loc 1 1379 27 view .LVU717
 2372 0126 236C     		ldr	r3, [r4, #64]
1379:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         hspi->pRxBuffPtr += sizeof(uint16_t);
 2373              		.loc 1 1379 41 view .LVU718
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 129


 2374 0128 1A80     		strh	r2, [r3]	@ movhi
1380:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         hspi->RxXferCount--;
 2375              		.loc 1 1380 9 is_stmt 1 view .LVU719
1380:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         hspi->RxXferCount--;
 2376              		.loc 1 1380 26 is_stmt 0 view .LVU720
 2377 012a 236C     		ldr	r3, [r4, #64]
 2378 012c 0233     		adds	r3, r3, #2
 2379 012e 2364     		str	r3, [r4, #64]
1381:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         /* Next Data is a Transmission (Tx). Tx is allowed */
 2380              		.loc 1 1381 9 is_stmt 1 view .LVU721
1381:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         /* Next Data is a Transmission (Tx). Tx is allowed */
 2381              		.loc 1 1381 13 is_stmt 0 view .LVU722
 2382 0130 B4F84630 		ldrh	r3, [r4, #70]
 2383 0134 9BB2     		uxth	r3, r3
1381:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         /* Next Data is a Transmission (Tx). Tx is allowed */
 2384              		.loc 1 1381 26 view .LVU723
 2385 0136 013B     		subs	r3, r3, #1
 2386 0138 9BB2     		uxth	r3, r3
 2387 013a A4F84630 		strh	r3, [r4, #70]	@ movhi
1383:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       }
 2388              		.loc 1 1383 9 is_stmt 1 view .LVU724
 2389              	.LVL124:
1383:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       }
 2390              		.loc 1 1383 19 is_stmt 0 view .LVU725
 2391 013e 0127     		movs	r7, #1
 2392              	.LVL125:
 2393              	.L187:
1385:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       {
 2394              		.loc 1 1385 7 is_stmt 1 view .LVU726
1385:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       {
 2395              		.loc 1 1385 13 is_stmt 0 view .LVU727
 2396 0140 FFF7FEFF 		bl	HAL_GetTick
 2397              	.LVL126:
1385:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       {
 2398              		.loc 1 1385 27 view .LVU728
 2399 0144 831B     		subs	r3, r0, r6
1385:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       {
 2400              		.loc 1 1385 10 view .LVU729
 2401 0146 AB42     		cmp	r3, r5
 2402 0148 03D3     		bcc	.L185
1385:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       {
 2403              		.loc 1 1385 53 discriminator 1 view .LVU730
 2404 014a B5F1FF3F 		cmp	r5, #-1
 2405 014e 40F0C780 		bne	.L207
 2406              	.LVL127:
 2407              	.L185:
1351:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
 2408              		.loc 1 1351 11 is_stmt 1 view .LVU731
1351:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
 2409              		.loc 1 1351 17 is_stmt 0 view .LVU732
 2410 0152 E38F     		ldrh	r3, [r4, #62]
 2411 0154 9BB2     		uxth	r3, r3
1351:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
 2412              		.loc 1 1351 11 view .LVU733
 2413 0156 2BB9     		cbnz	r3, .L188
1351:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
 2414              		.loc 1 1351 45 discriminator 1 view .LVU734
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 130


 2415 0158 B4F84630 		ldrh	r3, [r4, #70]
 2416 015c 9BB2     		uxth	r3, r3
1351:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
 2417              		.loc 1 1351 37 discriminator 1 view .LVU735
 2418 015e 002B     		cmp	r3, #0
 2419 0160 00F0A180 		beq	.L189
 2420              	.L188:
1354:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       {
 2421              		.loc 1 1354 7 is_stmt 1 view .LVU736
1354:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       {
 2422              		.loc 1 1354 12 is_stmt 0 view .LVU737
 2423 0164 2368     		ldr	r3, [r4]
 2424 0166 9A68     		ldr	r2, [r3, #8]
1354:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       {
 2425              		.loc 1 1354 10 view .LVU738
 2426 0168 12F0020F 		tst	r2, #2
 2427 016c D1D0     		beq	.L186
1354:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       {
 2428              		.loc 1 1354 60 discriminator 1 view .LVU739
 2429 016e E28F     		ldrh	r2, [r4, #62]
 2430 0170 92B2     		uxth	r2, r2
1354:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       {
 2431              		.loc 1 1354 52 discriminator 1 view .LVU740
 2432 0172 002A     		cmp	r2, #0
 2433 0174 CDD0     		beq	.L186
1354:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       {
 2434              		.loc 1 1354 80 discriminator 2 view .LVU741
 2435 0176 002F     		cmp	r7, #0
 2436 0178 CBD0     		beq	.L186
 2437 017a BEE7     		b	.L213
 2438              	.LVL128:
 2439              	.L182:
1395:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
 2440              		.loc 1 1395 5 is_stmt 1 view .LVU742
1395:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
 2441              		.loc 1 1395 20 is_stmt 0 view .LVU743
 2442 017c 6368     		ldr	r3, [r4, #4]
1395:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
 2443              		.loc 1 1395 8 view .LVU744
 2444 017e 0BB1     		cbz	r3, .L190
1395:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
 2445              		.loc 1 1395 45 discriminator 1 view .LVU745
 2446 0180 012F     		cmp	r7, #1
 2447 0182 0FD1     		bne	.L191
 2448              	.L190:
1397:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       {
 2449              		.loc 1 1397 7 is_stmt 1 view .LVU746
1397:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       {
 2450              		.loc 1 1397 15 is_stmt 0 view .LVU747
 2451 0184 E38F     		ldrh	r3, [r4, #62]
 2452 0186 9BB2     		uxth	r3, r3
1397:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       {
 2453              		.loc 1 1397 10 view .LVU748
 2454 0188 012B     		cmp	r3, #1
 2455 018a 0DD9     		bls	.L192
1399:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         hspi->pTxBuffPtr += sizeof(uint16_t);
 2456              		.loc 1 1399 9 is_stmt 1 view .LVU749
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 131


1399:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         hspi->pTxBuffPtr += sizeof(uint16_t);
 2457              		.loc 1 1399 48 is_stmt 0 view .LVU750
 2458 018c A26B     		ldr	r2, [r4, #56]
1399:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         hspi->pTxBuffPtr += sizeof(uint16_t);
 2459              		.loc 1 1399 13 view .LVU751
 2460 018e 2368     		ldr	r3, [r4]
1399:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         hspi->pTxBuffPtr += sizeof(uint16_t);
 2461              		.loc 1 1399 30 view .LVU752
 2462 0190 1288     		ldrh	r2, [r2]
1399:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         hspi->pTxBuffPtr += sizeof(uint16_t);
 2463              		.loc 1 1399 28 view .LVU753
 2464 0192 DA60     		str	r2, [r3, #12]
1400:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         hspi->TxXferCount -= 2U;
 2465              		.loc 1 1400 9 is_stmt 1 view .LVU754
1400:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         hspi->TxXferCount -= 2U;
 2466              		.loc 1 1400 26 is_stmt 0 view .LVU755
 2467 0194 A36B     		ldr	r3, [r4, #56]
 2468 0196 0233     		adds	r3, r3, #2
 2469 0198 A363     		str	r3, [r4, #56]
1401:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       }
 2470              		.loc 1 1401 9 is_stmt 1 view .LVU756
1401:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       }
 2471              		.loc 1 1401 27 is_stmt 0 view .LVU757
 2472 019a E38F     		ldrh	r3, [r4, #62]
 2473 019c 9BB2     		uxth	r3, r3
 2474 019e 023B     		subs	r3, r3, #2
 2475 01a0 9BB2     		uxth	r3, r3
 2476 01a2 E387     		strh	r3, [r4, #62]	@ movhi
 2477              	.L191:
1465:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       }
 2478              		.loc 1 1465 19 view .LVU758
 2479 01a4 0127     		movs	r7, #1
 2480              	.LVL129:
1465:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       }
 2481              		.loc 1 1465 19 view .LVU759
 2482 01a6 49E0     		b	.L198
 2483              	.LVL130:
 2484              	.L192:
1405:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         hspi->pTxBuffPtr++;
 2485              		.loc 1 1405 9 is_stmt 1 view .LVU760
1405:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         hspi->pTxBuffPtr++;
 2486              		.loc 1 1405 54 is_stmt 0 view .LVU761
 2487 01a8 A26B     		ldr	r2, [r4, #56]
1405:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         hspi->pTxBuffPtr++;
 2488              		.loc 1 1405 31 view .LVU762
 2489 01aa 2368     		ldr	r3, [r4]
1405:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         hspi->pTxBuffPtr++;
 2490              		.loc 1 1405 49 view .LVU763
 2491 01ac 1278     		ldrb	r2, [r2]	@ zero_extendqisi2
1405:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         hspi->pTxBuffPtr++;
 2492              		.loc 1 1405 46 view .LVU764
 2493 01ae 1A73     		strb	r2, [r3, #12]
1406:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         hspi->TxXferCount--;
 2494              		.loc 1 1406 9 is_stmt 1 view .LVU765
1406:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         hspi->TxXferCount--;
 2495              		.loc 1 1406 13 is_stmt 0 view .LVU766
 2496 01b0 A36B     		ldr	r3, [r4, #56]
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 132


1406:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         hspi->TxXferCount--;
 2497              		.loc 1 1406 25 view .LVU767
 2498 01b2 0133     		adds	r3, r3, #1
 2499 01b4 A363     		str	r3, [r4, #56]
1407:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       }
 2500              		.loc 1 1407 9 is_stmt 1 view .LVU768
1407:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       }
 2501              		.loc 1 1407 13 is_stmt 0 view .LVU769
 2502 01b6 E38F     		ldrh	r3, [r4, #62]
 2503 01b8 9BB2     		uxth	r3, r3
1407:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       }
 2504              		.loc 1 1407 26 view .LVU770
 2505 01ba 013B     		subs	r3, r3, #1
 2506 01bc 9BB2     		uxth	r3, r3
 2507 01be E387     		strh	r3, [r4, #62]	@ movhi
 2508 01c0 F0E7     		b	.L191
 2509              	.LVL131:
 2510              	.L215:
1415:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         {
 2511              		.loc 1 1415 9 is_stmt 1 view .LVU771
1415:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         {
 2512              		.loc 1 1415 17 is_stmt 0 view .LVU772
 2513 01c2 E28F     		ldrh	r2, [r4, #62]
 2514 01c4 92B2     		uxth	r2, r2
1415:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         {
 2515              		.loc 1 1415 12 view .LVU773
 2516 01c6 012A     		cmp	r2, #1
 2517 01c8 0CD9     		bls	.L194
1417:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           hspi->pTxBuffPtr += sizeof(uint16_t);
 2518              		.loc 1 1417 11 is_stmt 1 view .LVU774
1417:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           hspi->pTxBuffPtr += sizeof(uint16_t);
 2519              		.loc 1 1417 50 is_stmt 0 view .LVU775
 2520 01ca A26B     		ldr	r2, [r4, #56]
1417:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           hspi->pTxBuffPtr += sizeof(uint16_t);
 2521              		.loc 1 1417 32 view .LVU776
 2522 01cc 1288     		ldrh	r2, [r2]
1417:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           hspi->pTxBuffPtr += sizeof(uint16_t);
 2523              		.loc 1 1417 30 view .LVU777
 2524 01ce DA60     		str	r2, [r3, #12]
1418:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           hspi->TxXferCount -= 2U;
 2525              		.loc 1 1418 11 is_stmt 1 view .LVU778
1418:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           hspi->TxXferCount -= 2U;
 2526              		.loc 1 1418 28 is_stmt 0 view .LVU779
 2527 01d0 A36B     		ldr	r3, [r4, #56]
 2528 01d2 0233     		adds	r3, r3, #2
 2529 01d4 A363     		str	r3, [r4, #56]
1419:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         }
 2530              		.loc 1 1419 11 is_stmt 1 view .LVU780
1419:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         }
 2531              		.loc 1 1419 29 is_stmt 0 view .LVU781
 2532 01d6 E38F     		ldrh	r3, [r4, #62]
 2533 01d8 9BB2     		uxth	r3, r3
 2534 01da 023B     		subs	r3, r3, #2
 2535 01dc 9BB2     		uxth	r3, r3
 2536 01de E387     		strh	r3, [r4, #62]	@ movhi
1428:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 2537              		.loc 1 1428 19 view .LVU782
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 133


 2538 01e0 0027     		movs	r7, #0
 2539              	.LVL132:
1428:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 2540              		.loc 1 1428 19 view .LVU783
 2541 01e2 3DE0     		b	.L193
 2542              	.LVL133:
 2543              	.L194:
1423:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           hspi->pTxBuffPtr++;
 2544              		.loc 1 1423 11 is_stmt 1 view .LVU784
1423:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           hspi->pTxBuffPtr++;
 2545              		.loc 1 1423 56 is_stmt 0 view .LVU785
 2546 01e4 A26B     		ldr	r2, [r4, #56]
1423:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           hspi->pTxBuffPtr++;
 2547              		.loc 1 1423 51 view .LVU786
 2548 01e6 1278     		ldrb	r2, [r2]	@ zero_extendqisi2
1423:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           hspi->pTxBuffPtr++;
 2549              		.loc 1 1423 48 view .LVU787
 2550 01e8 1A73     		strb	r2, [r3, #12]
1424:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           hspi->TxXferCount--;
 2551              		.loc 1 1424 11 is_stmt 1 view .LVU788
1424:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           hspi->TxXferCount--;
 2552              		.loc 1 1424 15 is_stmt 0 view .LVU789
 2553 01ea A36B     		ldr	r3, [r4, #56]
1424:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           hspi->TxXferCount--;
 2554              		.loc 1 1424 27 view .LVU790
 2555 01ec 0133     		adds	r3, r3, #1
 2556 01ee A363     		str	r3, [r4, #56]
1425:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         }
 2557              		.loc 1 1425 11 is_stmt 1 view .LVU791
1425:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         }
 2558              		.loc 1 1425 15 is_stmt 0 view .LVU792
 2559 01f0 E38F     		ldrh	r3, [r4, #62]
 2560 01f2 9BB2     		uxth	r3, r3
1425:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         }
 2561              		.loc 1 1425 28 view .LVU793
 2562 01f4 013B     		subs	r3, r3, #1
 2563 01f6 9BB2     		uxth	r3, r3
 2564 01f8 E387     		strh	r3, [r4, #62]	@ movhi
1428:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 2565              		.loc 1 1428 19 view .LVU794
 2566 01fa 0027     		movs	r7, #0
 2567              	.LVL134:
1428:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 2568              		.loc 1 1428 19 view .LVU795
 2569 01fc 30E0     		b	.L193
 2570              	.LVL135:
 2571              	.L216:
1455:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           }
 2572              		.loc 1 1455 13 is_stmt 1 view .LVU796
 2573 01fe 2268     		ldr	r2, [r4]
 2574 0200 5368     		ldr	r3, [r2, #4]
 2575 0202 43F48053 		orr	r3, r3, #4096
 2576 0206 5360     		str	r3, [r2, #4]
1465:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       }
 2577              		.loc 1 1465 19 is_stmt 0 view .LVU797
 2578 0208 0127     		movs	r7, #1
 2579              	.LVL136:
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 134


1465:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       }
 2580              		.loc 1 1465 19 view .LVU798
 2581 020a 0DE0     		b	.L195
 2582              	.LVL137:
 2583              	.L196:
1460:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           hspi->pRxBuffPtr++;
 2584              		.loc 1 1460 11 is_stmt 1 view .LVU799
1460:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           hspi->pRxBuffPtr++;
 2585              		.loc 1 1460 28 is_stmt 0 view .LVU800
 2586 020c 226C     		ldr	r2, [r4, #64]
1460:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           hspi->pRxBuffPtr++;
 2587              		.loc 1 1460 44 view .LVU801
 2588 020e 1B7B     		ldrb	r3, [r3, #12]	@ zero_extendqisi2
1460:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           hspi->pRxBuffPtr++;
 2589              		.loc 1 1460 42 view .LVU802
 2590 0210 1370     		strb	r3, [r2]
1461:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           hspi->RxXferCount--;
 2591              		.loc 1 1461 11 is_stmt 1 view .LVU803
1461:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           hspi->RxXferCount--;
 2592              		.loc 1 1461 15 is_stmt 0 view .LVU804
 2593 0212 236C     		ldr	r3, [r4, #64]
1461:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           hspi->RxXferCount--;
 2594              		.loc 1 1461 27 view .LVU805
 2595 0214 0133     		adds	r3, r3, #1
 2596 0216 2364     		str	r3, [r4, #64]
1462:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         }
 2597              		.loc 1 1462 11 is_stmt 1 view .LVU806
1462:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         }
 2598              		.loc 1 1462 15 is_stmt 0 view .LVU807
 2599 0218 B4F84630 		ldrh	r3, [r4, #70]
 2600 021c 9BB2     		uxth	r3, r3
1462:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         }
 2601              		.loc 1 1462 28 view .LVU808
 2602 021e 013B     		subs	r3, r3, #1
 2603 0220 9BB2     		uxth	r3, r3
 2604 0222 A4F84630 		strh	r3, [r4, #70]	@ movhi
1465:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       }
 2605              		.loc 1 1465 19 view .LVU809
 2606 0226 0127     		movs	r7, #1
 2607              	.LVL138:
 2608              	.L195:
1467:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       {
 2609              		.loc 1 1467 7 is_stmt 1 view .LVU810
1467:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       {
 2610              		.loc 1 1467 14 is_stmt 0 view .LVU811
 2611 0228 FFF7FEFF 		bl	HAL_GetTick
 2612              	.LVL139:
1467:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       {
 2613              		.loc 1 1467 28 view .LVU812
 2614 022c 801B     		subs	r0, r0, r6
1467:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       {
 2615              		.loc 1 1467 10 view .LVU813
 2616 022e A842     		cmp	r0, r5
 2617 0230 02D3     		bcc	.L197
1467:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       {
 2618              		.loc 1 1467 54 discriminator 1 view .LVU814
 2619 0232 B5F1FF3F 		cmp	r5, #-1
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 135


 2620 0236 55D1     		bne	.L209
 2621              	.L197:
1467:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       {
 2622              		.loc 1 1467 87 discriminator 3 view .LVU815
 2623 0238 002D     		cmp	r5, #0
 2624 023a 55D0     		beq	.L214
 2625              	.LVL140:
 2626              	.L198:
1410:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
 2627              		.loc 1 1410 11 is_stmt 1 view .LVU816
1410:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
 2628              		.loc 1 1410 17 is_stmt 0 view .LVU817
 2629 023c E38F     		ldrh	r3, [r4, #62]
 2630 023e 9BB2     		uxth	r3, r3
1410:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
 2631              		.loc 1 1410 11 view .LVU818
 2632 0240 23B9     		cbnz	r3, .L199
1410:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
 2633              		.loc 1 1410 45 discriminator 1 view .LVU819
 2634 0242 B4F84630 		ldrh	r3, [r4, #70]
 2635 0246 9BB2     		uxth	r3, r3
1410:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
 2636              		.loc 1 1410 37 discriminator 1 view .LVU820
 2637 0248 002B     		cmp	r3, #0
 2638 024a 2CD0     		beq	.L189
 2639              	.L199:
1413:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       {
 2640              		.loc 1 1413 7 is_stmt 1 view .LVU821
1413:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       {
 2641              		.loc 1 1413 12 is_stmt 0 view .LVU822
 2642 024c 2368     		ldr	r3, [r4]
 2643 024e 9A68     		ldr	r2, [r3, #8]
1413:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       {
 2644              		.loc 1 1413 10 view .LVU823
 2645 0250 12F0020F 		tst	r2, #2
 2646 0254 04D0     		beq	.L193
1413:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       {
 2647              		.loc 1 1413 60 discriminator 1 view .LVU824
 2648 0256 E28F     		ldrh	r2, [r4, #62]
 2649 0258 92B2     		uxth	r2, r2
1413:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       {
 2650              		.loc 1 1413 52 discriminator 1 view .LVU825
 2651 025a 0AB1     		cbz	r2, .L193
1413:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       {
 2652              		.loc 1 1413 80 discriminator 2 view .LVU826
 2653 025c 002F     		cmp	r7, #0
 2654 025e B0D1     		bne	.L215
 2655              	.LVL141:
 2656              	.L193:
1445:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       {
 2657              		.loc 1 1445 7 is_stmt 1 view .LVU827
1445:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       {
 2658              		.loc 1 1445 12 is_stmt 0 view .LVU828
 2659 0260 2368     		ldr	r3, [r4]
 2660 0262 9A68     		ldr	r2, [r3, #8]
1445:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       {
 2661              		.loc 1 1445 10 view .LVU829
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 136


 2662 0264 12F0010F 		tst	r2, #1
 2663 0268 DED0     		beq	.L195
1445:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       {
 2664              		.loc 1 1445 61 discriminator 1 view .LVU830
 2665 026a B4F84620 		ldrh	r2, [r4, #70]
 2666 026e 92B2     		uxth	r2, r2
1445:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       {
 2667              		.loc 1 1445 53 discriminator 1 view .LVU831
 2668 0270 002A     		cmp	r2, #0
 2669 0272 D9D0     		beq	.L195
1447:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         {
 2670              		.loc 1 1447 9 is_stmt 1 view .LVU832
1447:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         {
 2671              		.loc 1 1447 17 is_stmt 0 view .LVU833
 2672 0274 B4F84620 		ldrh	r2, [r4, #70]
 2673 0278 92B2     		uxth	r2, r2
1447:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         {
 2674              		.loc 1 1447 12 view .LVU834
 2675 027a 012A     		cmp	r2, #1
 2676 027c C6D9     		bls	.L196
1449:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           hspi->pRxBuffPtr += sizeof(uint16_t);
 2677              		.loc 1 1449 11 is_stmt 1 view .LVU835
1449:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           hspi->pRxBuffPtr += sizeof(uint16_t);
 2678              		.loc 1 1449 69 is_stmt 0 view .LVU836
 2679 027e DA68     		ldr	r2, [r3, #12]
1449:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           hspi->pRxBuffPtr += sizeof(uint16_t);
 2680              		.loc 1 1449 29 view .LVU837
 2681 0280 236C     		ldr	r3, [r4, #64]
1449:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           hspi->pRxBuffPtr += sizeof(uint16_t);
 2682              		.loc 1 1449 43 view .LVU838
 2683 0282 1A80     		strh	r2, [r3]	@ movhi
1450:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           hspi->RxXferCount -= 2U;
 2684              		.loc 1 1450 11 is_stmt 1 view .LVU839
1450:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           hspi->RxXferCount -= 2U;
 2685              		.loc 1 1450 28 is_stmt 0 view .LVU840
 2686 0284 236C     		ldr	r3, [r4, #64]
 2687 0286 0233     		adds	r3, r3, #2
 2688 0288 2364     		str	r3, [r4, #64]
1451:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           if (hspi->RxXferCount <= 1U)
 2689              		.loc 1 1451 11 is_stmt 1 view .LVU841
1451:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           if (hspi->RxXferCount <= 1U)
 2690              		.loc 1 1451 29 is_stmt 0 view .LVU842
 2691 028a B4F84630 		ldrh	r3, [r4, #70]
 2692 028e 9BB2     		uxth	r3, r3
 2693 0290 023B     		subs	r3, r3, #2
 2694 0292 9BB2     		uxth	r3, r3
 2695 0294 A4F84630 		strh	r3, [r4, #70]	@ movhi
1452:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           {
 2696              		.loc 1 1452 11 is_stmt 1 view .LVU843
1452:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           {
 2697              		.loc 1 1452 19 is_stmt 0 view .LVU844
 2698 0298 B4F84630 		ldrh	r3, [r4, #70]
 2699 029c 9BB2     		uxth	r3, r3
1452:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           {
 2700              		.loc 1 1452 14 view .LVU845
 2701 029e 012B     		cmp	r3, #1
 2702 02a0 ADD9     		bls	.L216
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 137


1465:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       }
 2703              		.loc 1 1465 19 view .LVU846
 2704 02a2 0127     		movs	r7, #1
 2705              	.LVL142:
1465:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       }
 2706              		.loc 1 1465 19 view .LVU847
 2707 02a4 C0E7     		b	.L195
 2708              	.LVL143:
 2709              	.L189:
1531:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 2710              		.loc 1 1531 3 is_stmt 1 view .LVU848
1531:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 2711              		.loc 1 1531 7 is_stmt 0 view .LVU849
 2712 02a6 3246     		mov	r2, r6
 2713 02a8 2946     		mov	r1, r5
 2714 02aa 2046     		mov	r0, r4
 2715 02ac FFF7FEFF 		bl	SPI_EndRxTxTransaction
 2716              	.LVL144:
1531:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 2717              		.loc 1 1531 6 view .LVU850
 2718 02b0 20B1     		cbz	r0, .L176
1533:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     hspi->ErrorCode = HAL_SPI_ERROR_FLAG;
 2719              		.loc 1 1533 5 is_stmt 1 view .LVU851
 2720              	.LVL145:
1534:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
 2721              		.loc 1 1534 5 view .LVU852
1534:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
 2722              		.loc 1 1534 21 is_stmt 0 view .LVU853
 2723 02b2 2023     		movs	r3, #32
 2724 02b4 2366     		str	r3, [r4, #96]
1533:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     hspi->ErrorCode = HAL_SPI_ERROR_FLAG;
 2725              		.loc 1 1533 15 view .LVU854
 2726 02b6 0120     		movs	r0, #1
 2727 02b8 00E0     		b	.L176
 2728              	.LVL146:
 2729              	.L201:
1286:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     goto error;
 2730              		.loc 1 1286 15 view .LVU855
 2731 02ba 0220     		movs	r0, #2
 2732              	.LVL147:
 2733              	.L176:
1538:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   __HAL_UNLOCK(hspi);
 2734              		.loc 1 1538 3 is_stmt 1 view .LVU856
1538:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   __HAL_UNLOCK(hspi);
 2735              		.loc 1 1538 15 is_stmt 0 view .LVU857
 2736 02bc 0123     		movs	r3, #1
 2737 02be 84F85D30 		strb	r3, [r4, #93]
1539:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   return errorcode;
 2738              		.loc 1 1539 3 is_stmt 1 view .LVU858
1539:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   return errorcode;
 2739              		.loc 1 1539 3 view .LVU859
 2740 02c2 0023     		movs	r3, #0
 2741 02c4 84F85C30 		strb	r3, [r4, #92]
1539:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   return errorcode;
 2742              		.loc 1 1539 3 view .LVU860
1540:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** }
 2743              		.loc 1 1540 3 view .LVU861
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 138


 2744              	.LVL148:
 2745              	.L174:
1541:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 2746              		.loc 1 1541 1 is_stmt 0 view .LVU862
 2747 02c8 BDE8F883 		pop	{r3, r4, r5, r6, r7, r8, r9, pc}
 2748              	.LVL149:
 2749              	.L202:
1286:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     goto error;
 2750              		.loc 1 1286 15 view .LVU863
 2751 02cc 0220     		movs	r0, #2
 2752              	.LVL150:
1286:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     goto error;
 2753              		.loc 1 1286 15 view .LVU864
 2754 02ce F5E7     		b	.L176
 2755              	.LVL151:
 2756              	.L203:
1286:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     goto error;
 2757              		.loc 1 1286 15 view .LVU865
 2758 02d0 0220     		movs	r0, #2
 2759              	.LVL152:
1286:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     goto error;
 2760              		.loc 1 1286 15 view .LVU866
 2761 02d2 F3E7     		b	.L176
 2762              	.LVL153:
 2763              	.L204:
1292:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     goto error;
 2764              		.loc 1 1292 15 view .LVU867
 2765 02d4 0120     		movs	r0, #1
 2766              	.LVL154:
1292:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     goto error;
 2767              		.loc 1 1292 15 view .LVU868
 2768 02d6 F1E7     		b	.L176
 2769              	.LVL155:
 2770              	.L205:
1292:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     goto error;
 2771              		.loc 1 1292 15 view .LVU869
 2772 02d8 0120     		movs	r0, #1
 2773              	.LVL156:
1292:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     goto error;
 2774              		.loc 1 1292 15 view .LVU870
 2775 02da EFE7     		b	.L176
 2776              	.LVL157:
 2777              	.L206:
1292:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     goto error;
 2778              		.loc 1 1292 15 view .LVU871
 2779 02dc 0120     		movs	r0, #1
 2780              	.LVL158:
1292:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     goto error;
 2781              		.loc 1 1292 15 view .LVU872
 2782 02de EDE7     		b	.L176
 2783              	.LVL159:
 2784              	.L207:
1387:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         goto error;
 2785              		.loc 1 1387 19 view .LVU873
 2786 02e0 0320     		movs	r0, #3
 2787 02e2 EBE7     		b	.L176
 2788              	.L209:
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 139


1469:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         goto error;
 2789              		.loc 1 1469 19 view .LVU874
 2790 02e4 0320     		movs	r0, #3
 2791 02e6 E9E7     		b	.L176
 2792              	.L214:
 2793 02e8 0320     		movs	r0, #3
 2794 02ea E7E7     		b	.L176
 2795              	.LVL160:
 2796              	.L200:
1268:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 2797              		.loc 1 1268 3 view .LVU875
 2798 02ec 0220     		movs	r0, #2
 2799 02ee EBE7     		b	.L174
 2800              	.L218:
 2801              		.align	2
 2802              	.L217:
 2803 02f0 00000000 		.word	.LC0
 2804              		.cfi_endproc
 2805              	.LFE138:
 2807              		.section	.text.HAL_SPI_Receive,"ax",%progbits
 2808              		.align	1
 2809              		.global	HAL_SPI_Receive
 2810              		.syntax unified
 2811              		.thumb
 2812              		.thumb_func
 2813              		.fpu fpv4-sp-d16
 2815              	HAL_SPI_Receive:
 2816              	.LVL161:
 2817              	.LFB137:
1009:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
 2818              		.loc 1 1009 1 is_stmt 1 view -0
 2819              		.cfi_startproc
 2820              		@ args = 0, pretend = 0, frame = 0
 2821              		@ frame_needed = 0, uses_anonymous_args = 0
1009:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
 2822              		.loc 1 1009 1 is_stmt 0 view .LVU877
 2823 0000 2DE9F043 		push	{r4, r5, r6, r7, r8, r9, lr}
 2824              	.LCFI29:
 2825              		.cfi_def_cfa_offset 28
 2826              		.cfi_offset 4, -28
 2827              		.cfi_offset 5, -24
 2828              		.cfi_offset 6, -20
 2829              		.cfi_offset 7, -16
 2830              		.cfi_offset 8, -12
 2831              		.cfi_offset 9, -8
 2832              		.cfi_offset 14, -4
 2833 0004 83B0     		sub	sp, sp, #12
 2834              	.LCFI30:
 2835              		.cfi_def_cfa_offset 40
 2836 0006 0446     		mov	r4, r0
 2837 0008 8846     		mov	r8, r1
 2838 000a 9146     		mov	r9, r2
 2839 000c 1D46     		mov	r5, r3
1013:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   HAL_StatusTypeDef errorcode = HAL_OK;
 2840              		.loc 1 1013 3 is_stmt 1 view .LVU878
1014:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 2841              		.loc 1 1014 3 view .LVU879
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 140


 2842              	.LVL162:
1016:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 2843              		.loc 1 1016 3 view .LVU880
1016:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 2844              		.loc 1 1016 18 is_stmt 0 view .LVU881
 2845 000e 4068     		ldr	r0, [r0, #4]
 2846              	.LVL163:
1016:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 2847              		.loc 1 1016 6 view .LVU882
 2848 0010 B0F5827F 		cmp	r0, #260
 2849 0014 43D0     		beq	.L246
 2850              	.LVL164:
 2851              	.L220:
1024:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 2852              		.loc 1 1024 3 is_stmt 1 view .LVU883
1024:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 2853              		.loc 1 1024 3 view .LVU884
 2854 0016 94F85C30 		ldrb	r3, [r4, #92]	@ zero_extendqisi2
 2855 001a 012B     		cmp	r3, #1
 2856 001c 00F0C380 		beq	.L239
1024:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 2857              		.loc 1 1024 3 discriminator 2 view .LVU885
 2858 0020 0123     		movs	r3, #1
 2859 0022 84F85C30 		strb	r3, [r4, #92]
1024:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 2860              		.loc 1 1024 3 discriminator 2 view .LVU886
1027:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 2861              		.loc 1 1027 3 discriminator 2 view .LVU887
1027:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 2862              		.loc 1 1027 15 is_stmt 0 discriminator 2 view .LVU888
 2863 0026 FFF7FEFF 		bl	HAL_GetTick
 2864              	.LVL165:
1027:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 2865              		.loc 1 1027 15 discriminator 2 view .LVU889
 2866 002a 0746     		mov	r7, r0
 2867              	.LVL166:
1029:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 2868              		.loc 1 1029 3 is_stmt 1 discriminator 2 view .LVU890
1029:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 2869              		.loc 1 1029 11 is_stmt 0 discriminator 2 view .LVU891
 2870 002c 94F85D60 		ldrb	r6, [r4, #93]	@ zero_extendqisi2
 2871 0030 F6B2     		uxtb	r6, r6
1029:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 2872              		.loc 1 1029 6 discriminator 2 view .LVU892
 2873 0032 012E     		cmp	r6, #1
 2874 0034 40F0A480 		bne	.L240
1035:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 2875              		.loc 1 1035 3 is_stmt 1 view .LVU893
1035:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 2876              		.loc 1 1035 6 is_stmt 0 view .LVU894
 2877 0038 B8F1000F 		cmp	r8, #0
 2878 003c 00F0A180 		beq	.L222
1035:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 2879              		.loc 1 1035 23 discriminator 1 view .LVU895
 2880 0040 B9F1000F 		cmp	r9, #0
 2881 0044 00F09D80 		beq	.L222
1042:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->ErrorCode   = HAL_SPI_ERROR_NONE;
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 141


 2882              		.loc 1 1042 3 is_stmt 1 view .LVU896
1042:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->ErrorCode   = HAL_SPI_ERROR_NONE;
 2883              		.loc 1 1042 21 is_stmt 0 view .LVU897
 2884 0048 0423     		movs	r3, #4
 2885 004a 84F85D30 		strb	r3, [r4, #93]
1043:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->pRxBuffPtr  = (uint8_t *)pData;
 2886              		.loc 1 1043 3 is_stmt 1 view .LVU898
1043:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->pRxBuffPtr  = (uint8_t *)pData;
 2887              		.loc 1 1043 21 is_stmt 0 view .LVU899
 2888 004e 0023     		movs	r3, #0
 2889 0050 2366     		str	r3, [r4, #96]
1044:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->RxXferSize  = Size;
 2890              		.loc 1 1044 3 is_stmt 1 view .LVU900
1044:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->RxXferSize  = Size;
 2891              		.loc 1 1044 21 is_stmt 0 view .LVU901
 2892 0052 C4F84080 		str	r8, [r4, #64]
1045:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->RxXferCount = Size;
 2893              		.loc 1 1045 3 is_stmt 1 view .LVU902
1045:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->RxXferCount = Size;
 2894              		.loc 1 1045 21 is_stmt 0 view .LVU903
 2895 0056 A4F84490 		strh	r9, [r4, #68]	@ movhi
1046:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 2896              		.loc 1 1046 3 is_stmt 1 view .LVU904
1046:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 2897              		.loc 1 1046 21 is_stmt 0 view .LVU905
 2898 005a A4F84690 		strh	r9, [r4, #70]	@ movhi
1049:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->TxXferSize  = 0U;
 2899              		.loc 1 1049 3 is_stmt 1 view .LVU906
1049:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->TxXferSize  = 0U;
 2900              		.loc 1 1049 21 is_stmt 0 view .LVU907
 2901 005e A363     		str	r3, [r4, #56]
1050:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->TxXferCount = 0U;
 2902              		.loc 1 1050 3 is_stmt 1 view .LVU908
1050:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->TxXferCount = 0U;
 2903              		.loc 1 1050 21 is_stmt 0 view .LVU909
 2904 0060 A387     		strh	r3, [r4, #60]	@ movhi
1051:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->RxISR       = NULL;
 2905              		.loc 1 1051 3 is_stmt 1 view .LVU910
1051:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->RxISR       = NULL;
 2906              		.loc 1 1051 21 is_stmt 0 view .LVU911
 2907 0062 E387     		strh	r3, [r4, #62]	@ movhi
1052:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->TxISR       = NULL;
 2908              		.loc 1 1052 3 is_stmt 1 view .LVU912
1052:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->TxISR       = NULL;
 2909              		.loc 1 1052 21 is_stmt 0 view .LVU913
 2910 0064 E364     		str	r3, [r4, #76]
1053:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 2911              		.loc 1 1053 3 is_stmt 1 view .LVU914
1053:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 2912              		.loc 1 1053 21 is_stmt 0 view .LVU915
 2913 0066 2365     		str	r3, [r4, #80]
1066:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 2914              		.loc 1 1066 3 is_stmt 1 view .LVU916
1066:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 2915              		.loc 1 1066 17 is_stmt 0 view .LVU917
 2916 0068 E368     		ldr	r3, [r4, #12]
1066:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 142


 2917              		.loc 1 1066 6 view .LVU918
 2918 006a B3F5E06F 		cmp	r3, #1792
 2919 006e 24D9     		bls	.L223
1069:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
 2920              		.loc 1 1069 5 is_stmt 1 view .LVU919
 2921 0070 2268     		ldr	r2, [r4]
 2922 0072 5368     		ldr	r3, [r2, #4]
 2923 0074 23F48053 		bic	r3, r3, #4096
 2924 0078 5360     		str	r3, [r2, #4]
 2925              	.L224:
1078:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 2926              		.loc 1 1078 3 view .LVU920
1078:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 2927              		.loc 1 1078 17 is_stmt 0 view .LVU921
 2928 007a A368     		ldr	r3, [r4, #8]
1078:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 2929              		.loc 1 1078 6 view .LVU922
 2930 007c B3F5004F 		cmp	r3, #32768
 2931 0080 21D0     		beq	.L247
 2932              	.L225:
1086:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 2933              		.loc 1 1086 3 is_stmt 1 view .LVU923
1086:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 2934              		.loc 1 1086 12 is_stmt 0 view .LVU924
 2935 0082 2368     		ldr	r3, [r4]
1086:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 2936              		.loc 1 1086 22 view .LVU925
 2937 0084 1A68     		ldr	r2, [r3]
1086:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 2938              		.loc 1 1086 6 view .LVU926
 2939 0086 12F0400F 		tst	r2, #64
 2940 008a 03D1     		bne	.L226
1089:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
 2941              		.loc 1 1089 5 is_stmt 1 view .LVU927
 2942 008c 1A68     		ldr	r2, [r3]
 2943 008e 42F04002 		orr	r2, r2, #64
 2944 0092 1A60     		str	r2, [r3]
 2945              	.L226:
1093:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 2946              		.loc 1 1093 3 view .LVU928
1093:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 2947              		.loc 1 1093 17 is_stmt 0 view .LVU929
 2948 0094 E368     		ldr	r3, [r4, #12]
1093:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 2949              		.loc 1 1093 6 view .LVU930
 2950 0096 B3F5E06F 		cmp	r3, #1792
 2951 009a 29D9     		bls	.L227
 2952 009c 4AE0     		b	.L228
 2953              	.LVL167:
 2954              	.L246:
1016:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 2955              		.loc 1 1016 58 discriminator 1 view .LVU931
 2956 009e A368     		ldr	r3, [r4, #8]
 2957              	.LVL168:
1016:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 2958              		.loc 1 1016 44 discriminator 1 view .LVU932
 2959 00a0 002B     		cmp	r3, #0
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 143


 2960 00a2 B8D1     		bne	.L220
1018:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* Call transmit-receive function to send Dummy data on Tx line and generate clock on CLK line 
 2961              		.loc 1 1018 5 is_stmt 1 view .LVU933
1018:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* Call transmit-receive function to send Dummy data on Tx line and generate clock on CLK line 
 2962              		.loc 1 1018 17 is_stmt 0 view .LVU934
 2963 00a4 0423     		movs	r3, #4
 2964 00a6 84F85D30 		strb	r3, [r4, #93]
1020:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
 2965              		.loc 1 1020 5 is_stmt 1 view .LVU935
1020:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
 2966              		.loc 1 1020 12 is_stmt 0 view .LVU936
 2967 00aa 0095     		str	r5, [sp]
 2968 00ac 1346     		mov	r3, r2
 2969 00ae 0A46     		mov	r2, r1
 2970              	.LVL169:
1020:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
 2971              		.loc 1 1020 12 view .LVU937
 2972 00b0 2046     		mov	r0, r4
 2973 00b2 FFF7FEFF 		bl	HAL_SPI_TransmitReceive
 2974              	.LVL170:
1020:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
 2975              		.loc 1 1020 12 view .LVU938
 2976 00b6 0646     		mov	r6, r0
 2977 00b8 69E0     		b	.L221
 2978              	.LVL171:
 2979              	.L223:
1074:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
 2980              		.loc 1 1074 5 is_stmt 1 view .LVU939
 2981 00ba 2268     		ldr	r2, [r4]
 2982 00bc 5368     		ldr	r3, [r2, #4]
 2983 00be 43F48053 		orr	r3, r3, #4096
 2984 00c2 5360     		str	r3, [r2, #4]
 2985 00c4 D9E7     		b	.L224
 2986              	.L247:
1081:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     SPI_1LINE_RX(hspi);
 2987              		.loc 1 1081 5 view .LVU940
 2988 00c6 2268     		ldr	r2, [r4]
 2989 00c8 1368     		ldr	r3, [r2]
 2990 00ca 23F04003 		bic	r3, r3, #64
 2991 00ce 1360     		str	r3, [r2]
1082:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
 2992              		.loc 1 1082 5 view .LVU941
 2993 00d0 2268     		ldr	r2, [r4]
 2994 00d2 1368     		ldr	r3, [r2]
 2995 00d4 23F48043 		bic	r3, r3, #16384
 2996 00d8 1360     		str	r3, [r2]
 2997 00da D2E7     		b	.L225
 2998              	.LVL172:
 2999              	.L229:
1109:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         {
 3000              		.loc 1 1109 9 view .LVU942
1109:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         {
 3001              		.loc 1 1109 16 is_stmt 0 view .LVU943
 3002 00dc FFF7FEFF 		bl	HAL_GetTick
 3003              	.LVL173:
1109:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         {
 3004              		.loc 1 1109 30 view .LVU944
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 144


 3005 00e0 C01B     		subs	r0, r0, r7
1109:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         {
 3006              		.loc 1 1109 12 view .LVU945
 3007 00e2 A842     		cmp	r0, r5
 3008 00e4 02D3     		bcc	.L231
1109:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         {
 3009              		.loc 1 1109 56 discriminator 1 view .LVU946
 3010 00e6 B5F1FF3F 		cmp	r5, #-1
 3011 00ea 54D1     		bne	.L241
 3012              	.L231:
1109:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         {
 3013              		.loc 1 1109 87 discriminator 3 view .LVU947
 3014 00ec 002D     		cmp	r5, #0
 3015 00ee 54D0     		beq	.L242
 3016              	.L227:
1096:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
 3017              		.loc 1 1096 11 is_stmt 1 view .LVU948
1096:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
 3018              		.loc 1 1096 16 is_stmt 0 view .LVU949
 3019 00f0 B4F84630 		ldrh	r3, [r4, #70]
 3020 00f4 9BB2     		uxth	r3, r3
1096:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
 3021              		.loc 1 1096 11 view .LVU950
 3022 00f6 002B     		cmp	r3, #0
 3023 00f8 36D0     		beq	.L233
1099:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       {
 3024              		.loc 1 1099 7 is_stmt 1 view .LVU951
1099:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       {
 3025              		.loc 1 1099 11 is_stmt 0 view .LVU952
 3026 00fa 2368     		ldr	r3, [r4]
 3027 00fc 9A68     		ldr	r2, [r3, #8]
1099:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       {
 3028              		.loc 1 1099 10 view .LVU953
 3029 00fe 12F0010F 		tst	r2, #1
 3030 0102 EBD0     		beq	.L229
1102:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         hspi->pRxBuffPtr += sizeof(uint8_t);
 3031              		.loc 1 1102 9 is_stmt 1 view .LVU954
1102:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         hspi->pRxBuffPtr += sizeof(uint8_t);
 3032              		.loc 1 1102 27 is_stmt 0 view .LVU955
 3033 0104 226C     		ldr	r2, [r4, #64]
1102:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         hspi->pRxBuffPtr += sizeof(uint8_t);
 3034              		.loc 1 1102 43 view .LVU956
 3035 0106 1B7B     		ldrb	r3, [r3, #12]	@ zero_extendqisi2
1102:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         hspi->pRxBuffPtr += sizeof(uint8_t);
 3036              		.loc 1 1102 41 view .LVU957
 3037 0108 1370     		strb	r3, [r2]
1103:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         hspi->RxXferCount--;
 3038              		.loc 1 1103 9 is_stmt 1 view .LVU958
1103:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         hspi->RxXferCount--;
 3039              		.loc 1 1103 26 is_stmt 0 view .LVU959
 3040 010a 236C     		ldr	r3, [r4, #64]
 3041 010c 0133     		adds	r3, r3, #1
 3042 010e 2364     		str	r3, [r4, #64]
1104:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       }
 3043              		.loc 1 1104 9 is_stmt 1 view .LVU960
1104:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       }
 3044              		.loc 1 1104 13 is_stmt 0 view .LVU961
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 145


 3045 0110 B4F84630 		ldrh	r3, [r4, #70]
 3046 0114 9BB2     		uxth	r3, r3
1104:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       }
 3047              		.loc 1 1104 26 view .LVU962
 3048 0116 013B     		subs	r3, r3, #1
 3049 0118 9BB2     		uxth	r3, r3
 3050 011a A4F84630 		strh	r3, [r4, #70]	@ movhi
 3051 011e E7E7     		b	.L227
 3052              	.L234:
1132:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         {
 3053              		.loc 1 1132 9 is_stmt 1 view .LVU963
1132:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         {
 3054              		.loc 1 1132 16 is_stmt 0 view .LVU964
 3055 0120 FFF7FEFF 		bl	HAL_GetTick
 3056              	.LVL174:
1132:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         {
 3057              		.loc 1 1132 30 view .LVU965
 3058 0124 C01B     		subs	r0, r0, r7
1132:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         {
 3059              		.loc 1 1132 12 view .LVU966
 3060 0126 A842     		cmp	r0, r5
 3061 0128 02D3     		bcc	.L236
1132:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         {
 3062              		.loc 1 1132 56 discriminator 1 view .LVU967
 3063 012a B5F1FF3F 		cmp	r5, #-1
 3064 012e 36D1     		bne	.L243
 3065              	.L236:
1132:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         {
 3066              		.loc 1 1132 87 discriminator 3 view .LVU968
 3067 0130 002D     		cmp	r5, #0
 3068 0132 36D0     		beq	.L244
 3069              	.L228:
1120:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
 3070              		.loc 1 1120 11 is_stmt 1 view .LVU969
1120:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
 3071              		.loc 1 1120 16 is_stmt 0 view .LVU970
 3072 0134 B4F84630 		ldrh	r3, [r4, #70]
 3073 0138 9BB2     		uxth	r3, r3
1120:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
 3074              		.loc 1 1120 11 view .LVU971
 3075 013a ABB1     		cbz	r3, .L233
1123:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       {
 3076              		.loc 1 1123 7 is_stmt 1 view .LVU972
1123:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       {
 3077              		.loc 1 1123 11 is_stmt 0 view .LVU973
 3078 013c 2368     		ldr	r3, [r4]
 3079 013e 9A68     		ldr	r2, [r3, #8]
1123:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       {
 3080              		.loc 1 1123 10 view .LVU974
 3081 0140 12F0010F 		tst	r2, #1
 3082 0144 ECD0     		beq	.L234
1125:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         hspi->pRxBuffPtr += sizeof(uint16_t);
 3083              		.loc 1 1125 9 is_stmt 1 view .LVU975
1125:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         hspi->pRxBuffPtr += sizeof(uint16_t);
 3084              		.loc 1 1125 67 is_stmt 0 view .LVU976
 3085 0146 DA68     		ldr	r2, [r3, #12]
1125:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         hspi->pRxBuffPtr += sizeof(uint16_t);
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 146


 3086              		.loc 1 1125 27 view .LVU977
 3087 0148 236C     		ldr	r3, [r4, #64]
1125:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         hspi->pRxBuffPtr += sizeof(uint16_t);
 3088              		.loc 1 1125 41 view .LVU978
 3089 014a 1A80     		strh	r2, [r3]	@ movhi
1126:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         hspi->RxXferCount--;
 3090              		.loc 1 1126 9 is_stmt 1 view .LVU979
1126:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         hspi->RxXferCount--;
 3091              		.loc 1 1126 26 is_stmt 0 view .LVU980
 3092 014c 236C     		ldr	r3, [r4, #64]
 3093 014e 0233     		adds	r3, r3, #2
 3094 0150 2364     		str	r3, [r4, #64]
1127:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       }
 3095              		.loc 1 1127 9 is_stmt 1 view .LVU981
1127:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       }
 3096              		.loc 1 1127 13 is_stmt 0 view .LVU982
 3097 0152 B4F846C0 		ldrh	ip, [r4, #70]
 3098 0156 1FFA8CFC 		uxth	ip, ip
1127:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       }
 3099              		.loc 1 1127 26 view .LVU983
 3100 015a 0CF1FF3C 		add	ip, ip, #-1
 3101 015e 1FFA8CFC 		uxth	ip, ip
 3102 0162 A4F846C0 		strh	ip, [r4, #70]	@ movhi
 3103 0166 E5E7     		b	.L228
 3104              	.L233:
1209:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 3105              		.loc 1 1209 3 is_stmt 1 view .LVU984
1209:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 3106              		.loc 1 1209 7 is_stmt 0 view .LVU985
 3107 0168 3A46     		mov	r2, r7
 3108 016a 2946     		mov	r1, r5
 3109 016c 2046     		mov	r0, r4
 3110 016e FFF7FEFF 		bl	SPI_EndRxTransaction
 3111              	.LVL175:
1209:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 3112              		.loc 1 1209 6 view .LVU986
 3113 0172 08B1     		cbz	r0, .L238
1211:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
 3114              		.loc 1 1211 5 is_stmt 1 view .LVU987
1211:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
 3115              		.loc 1 1211 21 is_stmt 0 view .LVU988
 3116 0174 2023     		movs	r3, #32
 3117 0176 2366     		str	r3, [r4, #96]
 3118              	.L238:
1223:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 3119              		.loc 1 1223 3 is_stmt 1 view .LVU989
1223:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 3120              		.loc 1 1223 11 is_stmt 0 view .LVU990
 3121 0178 236E     		ldr	r3, [r4, #96]
1223:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 3122              		.loc 1 1223 6 view .LVU991
 3123 017a 13B9     		cbnz	r3, .L222
1014:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 3124              		.loc 1 1014 21 view .LVU992
 3125 017c 0026     		movs	r6, #0
 3126 017e 00E0     		b	.L222
 3127              	.LVL176:
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 147


 3128              	.L240:
1031:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     goto error;
 3129              		.loc 1 1031 15 view .LVU993
 3130 0180 0226     		movs	r6, #2
 3131              	.LVL177:
 3132              	.L222:
1229:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   __HAL_UNLOCK(hspi);
 3133              		.loc 1 1229 3 is_stmt 1 view .LVU994
1229:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   __HAL_UNLOCK(hspi);
 3134              		.loc 1 1229 15 is_stmt 0 view .LVU995
 3135 0182 0123     		movs	r3, #1
 3136 0184 84F85D30 		strb	r3, [r4, #93]
1230:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   return errorcode;
 3137              		.loc 1 1230 3 is_stmt 1 view .LVU996
1230:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   return errorcode;
 3138              		.loc 1 1230 3 view .LVU997
 3139 0188 0023     		movs	r3, #0
 3140 018a 84F85C30 		strb	r3, [r4, #92]
1230:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   return errorcode;
 3141              		.loc 1 1230 3 view .LVU998
1231:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** }
 3142              		.loc 1 1231 3 view .LVU999
 3143              	.LVL178:
 3144              	.L221:
1232:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 3145              		.loc 1 1232 1 is_stmt 0 view .LVU1000
 3146 018e 3046     		mov	r0, r6
 3147 0190 03B0     		add	sp, sp, #12
 3148              	.LCFI31:
 3149              		.cfi_remember_state
 3150              		.cfi_def_cfa_offset 28
 3151              		@ sp needed
 3152 0192 BDE8F083 		pop	{r4, r5, r6, r7, r8, r9, pc}
 3153              	.LVL179:
 3154              	.L241:
 3155              	.LCFI32:
 3156              		.cfi_restore_state
1111:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           goto error;
 3157              		.loc 1 1111 21 view .LVU1001
 3158 0196 0326     		movs	r6, #3
 3159 0198 F3E7     		b	.L222
 3160              	.L242:
 3161 019a 0326     		movs	r6, #3
 3162 019c F1E7     		b	.L222
 3163              	.L243:
1134:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           goto error;
 3164              		.loc 1 1134 21 view .LVU1002
 3165 019e 0326     		movs	r6, #3
 3166 01a0 EFE7     		b	.L222
 3167              	.L244:
 3168 01a2 0326     		movs	r6, #3
 3169 01a4 EDE7     		b	.L222
 3170              	.LVL180:
 3171              	.L239:
1024:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 3172              		.loc 1 1024 3 view .LVU1003
 3173 01a6 0226     		movs	r6, #2
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 148


 3174 01a8 F1E7     		b	.L221
 3175              		.cfi_endproc
 3176              	.LFE137:
 3178              		.section	.text.HAL_SPI_Transmit_IT,"ax",%progbits
 3179              		.align	1
 3180              		.global	HAL_SPI_Transmit_IT
 3181              		.syntax unified
 3182              		.thumb
 3183              		.thumb_func
 3184              		.fpu fpv4-sp-d16
 3186              	HAL_SPI_Transmit_IT:
 3187              	.LVL181:
 3188              	.LFB139:
1552:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   HAL_StatusTypeDef errorcode = HAL_OK;
 3189              		.loc 1 1552 1 is_stmt 1 view -0
 3190              		.cfi_startproc
 3191              		@ args = 0, pretend = 0, frame = 0
 3192              		@ frame_needed = 0, uses_anonymous_args = 0
1552:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   HAL_StatusTypeDef errorcode = HAL_OK;
 3193              		.loc 1 1552 1 is_stmt 0 view .LVU1005
 3194 0000 70B5     		push	{r4, r5, r6, lr}
 3195              	.LCFI33:
 3196              		.cfi_def_cfa_offset 16
 3197              		.cfi_offset 4, -16
 3198              		.cfi_offset 5, -12
 3199              		.cfi_offset 6, -8
 3200              		.cfi_offset 14, -4
 3201 0002 0446     		mov	r4, r0
 3202 0004 0E46     		mov	r6, r1
 3203 0006 1546     		mov	r5, r2
1553:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 3204              		.loc 1 1553 3 is_stmt 1 view .LVU1006
 3205              	.LVL182:
1556:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 3206              		.loc 1 1556 3 view .LVU1007
 3207 0008 8368     		ldr	r3, [r0, #8]
 3208 000a 13B1     		cbz	r3, .L249
1556:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 3209              		.loc 1 1556 3 is_stmt 0 discriminator 1 view .LVU1008
 3210 000c B3F5004F 		cmp	r3, #32768
 3211 0010 37D1     		bne	.L261
 3212              	.LVL183:
 3213              	.L249:
1559:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 3214              		.loc 1 1559 3 is_stmt 1 view .LVU1009
1559:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 3215              		.loc 1 1559 3 view .LVU1010
 3216 0012 94F85C30 		ldrb	r3, [r4, #92]	@ zero_extendqisi2
 3217 0016 012B     		cmp	r3, #1
 3218 0018 52D0     		beq	.L255
1559:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 3219              		.loc 1 1559 3 discriminator 2 view .LVU1011
 3220 001a 0123     		movs	r3, #1
 3221 001c 84F85C30 		strb	r3, [r4, #92]
1559:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 3222              		.loc 1 1559 3 discriminator 2 view .LVU1012
1561:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 149


 3223              		.loc 1 1561 3 discriminator 2 view .LVU1013
1561:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 3224              		.loc 1 1561 6 is_stmt 0 discriminator 2 view .LVU1014
 3225 0020 002E     		cmp	r6, #0
 3226 0022 42D0     		beq	.L256
1561:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 3227              		.loc 1 1561 23 discriminator 1 view .LVU1015
 3228 0024 002D     		cmp	r5, #0
 3229 0026 42D0     		beq	.L257
1567:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 3230              		.loc 1 1567 3 is_stmt 1 view .LVU1016
1567:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 3231              		.loc 1 1567 11 is_stmt 0 view .LVU1017
 3232 0028 94F85D30 		ldrb	r3, [r4, #93]	@ zero_extendqisi2
 3233 002c DBB2     		uxtb	r3, r3
1567:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 3234              		.loc 1 1567 6 view .LVU1018
 3235 002e 012B     		cmp	r3, #1
 3236 0030 42D1     		bne	.L258
1574:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->ErrorCode   = HAL_SPI_ERROR_NONE;
 3237              		.loc 1 1574 3 is_stmt 1 view .LVU1019
1574:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->ErrorCode   = HAL_SPI_ERROR_NONE;
 3238              		.loc 1 1574 21 is_stmt 0 view .LVU1020
 3239 0032 0323     		movs	r3, #3
 3240 0034 84F85D30 		strb	r3, [r4, #93]
1575:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->pTxBuffPtr  = (uint8_t *)pData;
 3241              		.loc 1 1575 3 is_stmt 1 view .LVU1021
1575:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->pTxBuffPtr  = (uint8_t *)pData;
 3242              		.loc 1 1575 21 is_stmt 0 view .LVU1022
 3243 0038 0023     		movs	r3, #0
 3244 003a 2366     		str	r3, [r4, #96]
1576:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->TxXferSize  = Size;
 3245              		.loc 1 1576 3 is_stmt 1 view .LVU1023
1576:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->TxXferSize  = Size;
 3246              		.loc 1 1576 21 is_stmt 0 view .LVU1024
 3247 003c A663     		str	r6, [r4, #56]
1577:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->TxXferCount = Size;
 3248              		.loc 1 1577 3 is_stmt 1 view .LVU1025
1577:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->TxXferCount = Size;
 3249              		.loc 1 1577 21 is_stmt 0 view .LVU1026
 3250 003e A587     		strh	r5, [r4, #60]	@ movhi
1578:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 3251              		.loc 1 1578 3 is_stmt 1 view .LVU1027
1578:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 3252              		.loc 1 1578 21 is_stmt 0 view .LVU1028
 3253 0040 E587     		strh	r5, [r4, #62]	@ movhi
1581:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->RxXferSize  = 0U;
 3254              		.loc 1 1581 3 is_stmt 1 view .LVU1029
1581:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->RxXferSize  = 0U;
 3255              		.loc 1 1581 21 is_stmt 0 view .LVU1030
 3256 0042 2364     		str	r3, [r4, #64]
1582:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->RxXferCount = 0U;
 3257              		.loc 1 1582 3 is_stmt 1 view .LVU1031
1582:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->RxXferCount = 0U;
 3258              		.loc 1 1582 21 is_stmt 0 view .LVU1032
 3259 0044 A4F84430 		strh	r3, [r4, #68]	@ movhi
1583:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->RxISR       = NULL;
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 150


 3260              		.loc 1 1583 3 is_stmt 1 view .LVU1033
1583:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->RxISR       = NULL;
 3261              		.loc 1 1583 21 is_stmt 0 view .LVU1034
 3262 0048 A4F84630 		strh	r3, [r4, #70]	@ movhi
1584:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 3263              		.loc 1 1584 3 is_stmt 1 view .LVU1035
1584:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 3264              		.loc 1 1584 21 is_stmt 0 view .LVU1036
 3265 004c E364     		str	r3, [r4, #76]
1587:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 3266              		.loc 1 1587 3 is_stmt 1 view .LVU1037
1587:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 3267              		.loc 1 1587 17 is_stmt 0 view .LVU1038
 3268 004e E368     		ldr	r3, [r4, #12]
1587:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 3269              		.loc 1 1587 6 view .LVU1039
 3270 0050 B3F5E06F 		cmp	r3, #1792
 3271 0054 1BD9     		bls	.L252
1589:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
 3272              		.loc 1 1589 5 is_stmt 1 view .LVU1040
1589:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
 3273              		.loc 1 1589 17 is_stmt 0 view .LVU1041
 3274 0056 1B4B     		ldr	r3, .L263
 3275 0058 2365     		str	r3, [r4, #80]
 3276              	.L253:
1597:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 3277              		.loc 1 1597 3 is_stmt 1 view .LVU1042
1597:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 3278              		.loc 1 1597 17 is_stmt 0 view .LVU1043
 3279 005a A368     		ldr	r3, [r4, #8]
1597:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 3280              		.loc 1 1597 6 view .LVU1044
 3281 005c B3F5004F 		cmp	r3, #32768
 3282 0060 18D0     		beq	.L262
 3283              	.L254:
1613:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 3284              		.loc 1 1613 3 is_stmt 1 view .LVU1045
 3285 0062 2268     		ldr	r2, [r4]
 3286 0064 5368     		ldr	r3, [r2, #4]
 3287 0066 43F0A003 		orr	r3, r3, #160
 3288 006a 5360     		str	r3, [r2, #4]
1617:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 3289              		.loc 1 1617 3 view .LVU1046
1617:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 3290              		.loc 1 1617 12 is_stmt 0 view .LVU1047
 3291 006c 2368     		ldr	r3, [r4]
1617:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 3292              		.loc 1 1617 22 view .LVU1048
 3293 006e 1A68     		ldr	r2, [r3]
1617:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 3294              		.loc 1 1617 6 view .LVU1049
 3295 0070 12F0400F 		tst	r2, #64
 3296 0074 22D1     		bne	.L259
1620:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
 3297              		.loc 1 1620 5 is_stmt 1 view .LVU1050
 3298 0076 1A68     		ldr	r2, [r3]
 3299 0078 42F04002 		orr	r2, r2, #64
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 151


 3300 007c 1A60     		str	r2, [r3]
1553:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 3301              		.loc 1 1553 21 is_stmt 0 view .LVU1051
 3302 007e 0020     		movs	r0, #0
 3303 0080 16E0     		b	.L251
 3304              	.LVL184:
 3305              	.L261:
1556:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 3306              		.loc 1 1556 3 discriminator 2 view .LVU1052
 3307 0082 40F21461 		movw	r1, #1556
 3308              	.LVL185:
1556:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 3309              		.loc 1 1556 3 discriminator 2 view .LVU1053
 3310 0086 1048     		ldr	r0, .L263+4
 3311              	.LVL186:
1556:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 3312              		.loc 1 1556 3 discriminator 2 view .LVU1054
 3313 0088 FFF7FEFF 		bl	assert_failed
 3314              	.LVL187:
1556:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 3315              		.loc 1 1556 3 discriminator 2 view .LVU1055
 3316 008c C1E7     		b	.L249
 3317              	.L252:
1593:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
 3318              		.loc 1 1593 5 is_stmt 1 view .LVU1056
1593:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
 3319              		.loc 1 1593 17 is_stmt 0 view .LVU1057
 3320 008e 0F4B     		ldr	r3, .L263+8
 3321 0090 2365     		str	r3, [r4, #80]
 3322 0092 E2E7     		b	.L253
 3323              	.L262:
1600:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     SPI_1LINE_TX(hspi);
 3324              		.loc 1 1600 5 is_stmt 1 view .LVU1058
 3325 0094 2268     		ldr	r2, [r4]
 3326 0096 1368     		ldr	r3, [r2]
 3327 0098 23F04003 		bic	r3, r3, #64
 3328 009c 1360     		str	r3, [r2]
1601:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
 3329              		.loc 1 1601 5 view .LVU1059
 3330 009e 2268     		ldr	r2, [r4]
 3331 00a0 1368     		ldr	r3, [r2]
 3332 00a2 43F48043 		orr	r3, r3, #16384
 3333 00a6 1360     		str	r3, [r2]
 3334 00a8 DBE7     		b	.L254
 3335              	.L256:
1563:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     goto error;
 3336              		.loc 1 1563 15 is_stmt 0 view .LVU1060
 3337 00aa 0120     		movs	r0, #1
 3338 00ac 00E0     		b	.L251
 3339              	.L257:
 3340 00ae 0120     		movs	r0, #1
 3341              	.L251:
 3342              	.LVL188:
1624:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   return errorcode;
 3343              		.loc 1 1624 3 is_stmt 1 view .LVU1061
1624:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   return errorcode;
 3344              		.loc 1 1624 3 view .LVU1062
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 152


 3345 00b0 0023     		movs	r3, #0
 3346 00b2 84F85C30 		strb	r3, [r4, #92]
1624:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   return errorcode;
 3347              		.loc 1 1624 3 view .LVU1063
1625:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** }
 3348              		.loc 1 1625 3 view .LVU1064
 3349              	.LVL189:
 3350              	.L250:
1626:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 3351              		.loc 1 1626 1 is_stmt 0 view .LVU1065
 3352 00b6 70BD     		pop	{r4, r5, r6, pc}
 3353              	.LVL190:
 3354              	.L258:
1569:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     goto error;
 3355              		.loc 1 1569 15 view .LVU1066
 3356 00b8 0220     		movs	r0, #2
 3357 00ba F9E7     		b	.L251
 3358              	.L259:
1553:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 3359              		.loc 1 1553 21 view .LVU1067
 3360 00bc 0020     		movs	r0, #0
 3361 00be F7E7     		b	.L251
 3362              	.L255:
1559:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 3363              		.loc 1 1559 3 view .LVU1068
 3364 00c0 0220     		movs	r0, #2
 3365 00c2 F8E7     		b	.L250
 3366              	.L264:
 3367              		.align	2
 3368              	.L263:
 3369 00c4 00000000 		.word	SPI_TxISR_16BIT
 3370 00c8 00000000 		.word	.LC0
 3371 00cc 00000000 		.word	SPI_TxISR_8BIT
 3372              		.cfi_endproc
 3373              	.LFE139:
 3375              		.section	.text.HAL_SPI_TransmitReceive_IT,"ax",%progbits
 3376              		.align	1
 3377              		.global	HAL_SPI_TransmitReceive_IT
 3378              		.syntax unified
 3379              		.thumb
 3380              		.thumb_func
 3381              		.fpu fpv4-sp-d16
 3383              	HAL_SPI_TransmitReceive_IT:
 3384              	.LVL191:
 3385              	.LFB141:
1744:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   uint32_t             tmp_mode;
 3386              		.loc 1 1744 1 is_stmt 1 view -0
 3387              		.cfi_startproc
 3388              		@ args = 0, pretend = 0, frame = 0
 3389              		@ frame_needed = 0, uses_anonymous_args = 0
1744:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   uint32_t             tmp_mode;
 3390              		.loc 1 1744 1 is_stmt 0 view .LVU1070
 3391 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 3392              	.LCFI34:
 3393              		.cfi_def_cfa_offset 24
 3394              		.cfi_offset 3, -24
 3395              		.cfi_offset 4, -20
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 153


 3396              		.cfi_offset 5, -16
 3397              		.cfi_offset 6, -12
 3398              		.cfi_offset 7, -8
 3399              		.cfi_offset 14, -4
 3400 0002 0446     		mov	r4, r0
 3401 0004 0E46     		mov	r6, r1
 3402 0006 1746     		mov	r7, r2
 3403 0008 1D46     		mov	r5, r3
1745:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   HAL_SPI_StateTypeDef tmp_state;
 3404              		.loc 1 1745 3 is_stmt 1 view .LVU1071
1746:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   HAL_StatusTypeDef    errorcode = HAL_OK;
 3405              		.loc 1 1746 3 view .LVU1072
1747:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 3406              		.loc 1 1747 3 view .LVU1073
 3407              	.LVL192:
1750:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 3408              		.loc 1 1750 3 view .LVU1074
 3409 000a 8368     		ldr	r3, [r0, #8]
 3410              	.LVL193:
1750:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 3411              		.loc 1 1750 3 is_stmt 0 view .LVU1075
 3412 000c 002B     		cmp	r3, #0
 3413 000e 4ED1     		bne	.L285
 3414              	.LVL194:
 3415              	.L266:
1753:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 3416              		.loc 1 1753 3 is_stmt 1 view .LVU1076
1753:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 3417              		.loc 1 1753 3 view .LVU1077
 3418 0010 94F85C30 		ldrb	r3, [r4, #92]	@ zero_extendqisi2
 3419 0014 012B     		cmp	r3, #1
 3420 0016 6CD0     		beq	.L276
1753:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 3421              		.loc 1 1753 3 discriminator 2 view .LVU1078
 3422 0018 0123     		movs	r3, #1
 3423 001a 84F85C30 		strb	r3, [r4, #92]
1753:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 3424              		.loc 1 1753 3 discriminator 2 view .LVU1079
1756:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   tmp_mode            = hspi->Init.Mode;
 3425              		.loc 1 1756 3 discriminator 2 view .LVU1080
1756:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   tmp_mode            = hspi->Init.Mode;
 3426              		.loc 1 1756 23 is_stmt 0 discriminator 2 view .LVU1081
 3427 001e 94F85D30 		ldrb	r3, [r4, #93]	@ zero_extendqisi2
 3428 0022 DBB2     		uxtb	r3, r3
 3429              	.LVL195:
1757:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 3430              		.loc 1 1757 3 is_stmt 1 discriminator 2 view .LVU1082
1757:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 3431              		.loc 1 1757 23 is_stmt 0 discriminator 2 view .LVU1083
 3432 0024 6268     		ldr	r2, [r4, #4]
 3433              	.LVL196:
1759:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         ((tmp_mode == SPI_MODE_MASTER) && (hspi->Init.Direction == SPI_DIRECTION_2LINES) && (tmp_st
 3434              		.loc 1 1759 3 is_stmt 1 discriminator 2 view .LVU1084
1759:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         ((tmp_mode == SPI_MODE_MASTER) && (hspi->Init.Direction == SPI_DIRECTION_2LINES) && (tmp_st
 3435              		.loc 1 1759 6 is_stmt 0 discriminator 2 view .LVU1085
 3436 0026 012B     		cmp	r3, #1
 3437 0028 07D0     		beq	.L268
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 154


1759:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         ((tmp_mode == SPI_MODE_MASTER) && (hspi->Init.Direction == SPI_DIRECTION_2LINES) && (tmp_st
 3438              		.loc 1 1759 7 discriminator 1 view .LVU1086
 3439 002a B2F5827F 		cmp	r2, #260
 3440 002e 4FD1     		bne	.L277
1760:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 3441              		.loc 1 1760 54 view .LVU1087
 3442 0030 A268     		ldr	r2, [r4, #8]
 3443              	.LVL197:
1760:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 3444              		.loc 1 1760 40 view .LVU1088
 3445 0032 002A     		cmp	r2, #0
 3446 0034 51D1     		bne	.L278
1760:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 3447              		.loc 1 1760 90 discriminator 1 view .LVU1089
 3448 0036 042B     		cmp	r3, #4
 3449 0038 51D1     		bne	.L279
 3450              	.L268:
1766:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 3451              		.loc 1 1766 3 is_stmt 1 view .LVU1090
1766:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 3452              		.loc 1 1766 6 is_stmt 0 view .LVU1091
 3453 003a 002E     		cmp	r6, #0
 3454 003c 51D0     		beq	.L280
1766:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 3455              		.loc 1 1766 25 discriminator 1 view .LVU1092
 3456 003e 002F     		cmp	r7, #0
 3457 0040 51D0     		beq	.L281
1766:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 3458              		.loc 1 1766 46 discriminator 2 view .LVU1093
 3459 0042 002D     		cmp	r5, #0
 3460 0044 51D0     		beq	.L282
1773:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 3461              		.loc 1 1773 3 is_stmt 1 view .LVU1094
1773:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 3462              		.loc 1 1773 11 is_stmt 0 view .LVU1095
 3463 0046 94F85D30 		ldrb	r3, [r4, #93]	@ zero_extendqisi2
 3464              	.LVL198:
1773:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 3465              		.loc 1 1773 11 view .LVU1096
 3466 004a DBB2     		uxtb	r3, r3
1773:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 3467              		.loc 1 1773 6 view .LVU1097
 3468 004c 042B     		cmp	r3, #4
 3469 004e 02D0     		beq	.L270
1775:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
 3470              		.loc 1 1775 5 is_stmt 1 view .LVU1098
1775:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
 3471              		.loc 1 1775 17 is_stmt 0 view .LVU1099
 3472 0050 0523     		movs	r3, #5
 3473 0052 84F85D30 		strb	r3, [r4, #93]
 3474              	.L270:
1779:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->pTxBuffPtr  = (uint8_t *)pTxData;
 3475              		.loc 1 1779 3 is_stmt 1 view .LVU1100
1779:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->pTxBuffPtr  = (uint8_t *)pTxData;
 3476              		.loc 1 1779 21 is_stmt 0 view .LVU1101
 3477 0056 0023     		movs	r3, #0
 3478 0058 2366     		str	r3, [r4, #96]
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 155


1780:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->TxXferSize  = Size;
 3479              		.loc 1 1780 3 is_stmt 1 view .LVU1102
1780:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->TxXferSize  = Size;
 3480              		.loc 1 1780 21 is_stmt 0 view .LVU1103
 3481 005a A663     		str	r6, [r4, #56]
1781:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->TxXferCount = Size;
 3482              		.loc 1 1781 3 is_stmt 1 view .LVU1104
1781:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->TxXferCount = Size;
 3483              		.loc 1 1781 21 is_stmt 0 view .LVU1105
 3484 005c A587     		strh	r5, [r4, #60]	@ movhi
1782:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->pRxBuffPtr  = (uint8_t *)pRxData;
 3485              		.loc 1 1782 3 is_stmt 1 view .LVU1106
1782:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->pRxBuffPtr  = (uint8_t *)pRxData;
 3486              		.loc 1 1782 21 is_stmt 0 view .LVU1107
 3487 005e E587     		strh	r5, [r4, #62]	@ movhi
1783:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->RxXferSize  = Size;
 3488              		.loc 1 1783 3 is_stmt 1 view .LVU1108
1783:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->RxXferSize  = Size;
 3489              		.loc 1 1783 21 is_stmt 0 view .LVU1109
 3490 0060 2764     		str	r7, [r4, #64]
1784:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->RxXferCount = Size;
 3491              		.loc 1 1784 3 is_stmt 1 view .LVU1110
1784:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->RxXferCount = Size;
 3492              		.loc 1 1784 21 is_stmt 0 view .LVU1111
 3493 0062 A4F84450 		strh	r5, [r4, #68]	@ movhi
1785:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 3494              		.loc 1 1785 3 is_stmt 1 view .LVU1112
1785:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 3495              		.loc 1 1785 21 is_stmt 0 view .LVU1113
 3496 0066 A4F84650 		strh	r5, [r4, #70]	@ movhi
1788:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 3497              		.loc 1 1788 3 is_stmt 1 view .LVU1114
1788:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 3498              		.loc 1 1788 17 is_stmt 0 view .LVU1115
 3499 006a E368     		ldr	r3, [r4, #12]
1788:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 3500              		.loc 1 1788 6 view .LVU1116
 3501 006c B3F5E06F 		cmp	r3, #1792
 3502 0070 23D9     		bls	.L271
1790:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     hspi->TxISR     = SPI_2linesTxISR_16BIT;
 3503              		.loc 1 1790 5 is_stmt 1 view .LVU1117
1790:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     hspi->TxISR     = SPI_2linesTxISR_16BIT;
 3504              		.loc 1 1790 21 is_stmt 0 view .LVU1118
 3505 0072 214A     		ldr	r2, .L286
 3506 0074 E264     		str	r2, [r4, #76]
1791:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
 3507              		.loc 1 1791 5 is_stmt 1 view .LVU1119
1791:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
 3508              		.loc 1 1791 21 is_stmt 0 view .LVU1120
 3509 0076 214A     		ldr	r2, .L286+4
 3510 0078 2265     		str	r2, [r4, #80]
 3511              	.L272:
1817:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 3512              		.loc 1 1817 3 is_stmt 1 view .LVU1121
1817:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 3513              		.loc 1 1817 6 is_stmt 0 view .LVU1122
 3514 007a B3F5E06F 		cmp	r3, #1792
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 156


 3515 007e 01D8     		bhi	.L273
1817:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 3516              		.loc 1 1817 49 discriminator 1 view .LVU1123
 3517 0080 012D     		cmp	r5, #1
 3518 0082 1FD9     		bls	.L274
 3519              	.L273:
1820:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
 3520              		.loc 1 1820 5 is_stmt 1 view .LVU1124
 3521 0084 2268     		ldr	r2, [r4]
 3522 0086 5368     		ldr	r3, [r2, #4]
 3523 0088 23F48053 		bic	r3, r3, #4096
 3524 008c 5360     		str	r3, [r2, #4]
 3525              	.LVL199:
 3526              	.L275:
1829:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 3527              		.loc 1 1829 3 view .LVU1125
 3528 008e 2268     		ldr	r2, [r4]
 3529 0090 5368     		ldr	r3, [r2, #4]
 3530 0092 43F0E003 		orr	r3, r3, #224
 3531 0096 5360     		str	r3, [r2, #4]
1832:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 3532              		.loc 1 1832 3 view .LVU1126
1832:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 3533              		.loc 1 1832 12 is_stmt 0 view .LVU1127
 3534 0098 2368     		ldr	r3, [r4]
1832:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 3535              		.loc 1 1832 22 view .LVU1128
 3536 009a 1A68     		ldr	r2, [r3]
1832:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 3537              		.loc 1 1832 6 view .LVU1129
 3538 009c 12F0400F 		tst	r2, #64
 3539 00a0 25D1     		bne	.L283
1835:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
 3540              		.loc 1 1835 5 is_stmt 1 view .LVU1130
 3541 00a2 1A68     		ldr	r2, [r3]
 3542 00a4 42F04002 		orr	r2, r2, #64
 3543 00a8 1A60     		str	r2, [r3]
1747:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 3544              		.loc 1 1747 24 is_stmt 0 view .LVU1131
 3545 00aa 0020     		movs	r0, #0
 3546 00ac 11E0     		b	.L269
 3547              	.LVL200:
 3548              	.L285:
1750:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 3549              		.loc 1 1750 3 discriminator 1 view .LVU1132
 3550 00ae 40F2D661 		movw	r1, #1750
 3551              	.LVL201:
1750:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 3552              		.loc 1 1750 3 discriminator 1 view .LVU1133
 3553 00b2 1348     		ldr	r0, .L286+8
 3554              	.LVL202:
1750:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 3555              		.loc 1 1750 3 discriminator 1 view .LVU1134
 3556 00b4 FFF7FEFF 		bl	assert_failed
 3557              	.LVL203:
1750:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 3558              		.loc 1 1750 3 discriminator 1 view .LVU1135
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 157


 3559 00b8 AAE7     		b	.L266
 3560              	.LVL204:
 3561              	.L271:
1795:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     hspi->TxISR     = SPI_2linesTxISR_8BIT;
 3562              		.loc 1 1795 5 is_stmt 1 view .LVU1136
1795:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     hspi->TxISR     = SPI_2linesTxISR_8BIT;
 3563              		.loc 1 1795 21 is_stmt 0 view .LVU1137
 3564 00ba 124A     		ldr	r2, .L286+12
 3565 00bc E264     		str	r2, [r4, #76]
1796:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
 3566              		.loc 1 1796 5 is_stmt 1 view .LVU1138
1796:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
 3567              		.loc 1 1796 21 is_stmt 0 view .LVU1139
 3568 00be 124A     		ldr	r2, .L286+16
 3569 00c0 2265     		str	r2, [r4, #80]
 3570 00c2 DAE7     		b	.L272
 3571              	.L274:
1825:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
 3572              		.loc 1 1825 5 is_stmt 1 view .LVU1140
 3573 00c4 2268     		ldr	r2, [r4]
 3574 00c6 5368     		ldr	r3, [r2, #4]
 3575 00c8 43F48053 		orr	r3, r3, #4096
 3576 00cc 5360     		str	r3, [r2, #4]
 3577              	.LVL205:
1825:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
 3578              		.loc 1 1825 5 is_stmt 0 view .LVU1141
 3579 00ce DEE7     		b	.L275
 3580              	.LVL206:
 3581              	.L277:
1762:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     goto error;
 3582              		.loc 1 1762 15 view .LVU1142
 3583 00d0 0220     		movs	r0, #2
 3584              	.LVL207:
 3585              	.L269:
1840:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   return errorcode;
 3586              		.loc 1 1840 3 is_stmt 1 view .LVU1143
1840:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   return errorcode;
 3587              		.loc 1 1840 3 view .LVU1144
 3588 00d2 0023     		movs	r3, #0
 3589 00d4 84F85C30 		strb	r3, [r4, #92]
1840:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   return errorcode;
 3590              		.loc 1 1840 3 view .LVU1145
1841:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** }
 3591              		.loc 1 1841 3 view .LVU1146
 3592              	.LVL208:
 3593              	.L267:
1842:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 3594              		.loc 1 1842 1 is_stmt 0 view .LVU1147
 3595 00d8 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 3596              	.LVL209:
 3597              	.L278:
1762:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     goto error;
 3598              		.loc 1 1762 15 view .LVU1148
 3599 00da 0220     		movs	r0, #2
 3600 00dc F9E7     		b	.L269
 3601              	.L279:
 3602 00de 0220     		movs	r0, #2
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 158


 3603 00e0 F7E7     		b	.L269
 3604              	.L280:
1768:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     goto error;
 3605              		.loc 1 1768 15 view .LVU1149
 3606 00e2 0120     		movs	r0, #1
 3607 00e4 F5E7     		b	.L269
 3608              	.L281:
 3609 00e6 0120     		movs	r0, #1
 3610 00e8 F3E7     		b	.L269
 3611              	.L282:
 3612 00ea 0120     		movs	r0, #1
 3613 00ec F1E7     		b	.L269
 3614              	.LVL210:
 3615              	.L283:
1747:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 3616              		.loc 1 1747 24 view .LVU1150
 3617 00ee 0020     		movs	r0, #0
 3618 00f0 EFE7     		b	.L269
 3619              	.L276:
1753:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 3620              		.loc 1 1753 3 view .LVU1151
 3621 00f2 0220     		movs	r0, #2
 3622 00f4 F0E7     		b	.L267
 3623              	.L287:
 3624 00f6 00BF     		.align	2
 3625              	.L286:
 3626 00f8 00000000 		.word	SPI_2linesRxISR_16BIT
 3627 00fc 00000000 		.word	SPI_2linesTxISR_16BIT
 3628 0100 00000000 		.word	.LC0
 3629 0104 00000000 		.word	SPI_2linesRxISR_8BIT
 3630 0108 00000000 		.word	SPI_2linesTxISR_8BIT
 3631              		.cfi_endproc
 3632              	.LFE141:
 3634              		.section	.text.HAL_SPI_Receive_IT,"ax",%progbits
 3635              		.align	1
 3636              		.global	HAL_SPI_Receive_IT
 3637              		.syntax unified
 3638              		.thumb
 3639              		.thumb_func
 3640              		.fpu fpv4-sp-d16
 3642              	HAL_SPI_Receive_IT:
 3643              	.LVL211:
 3644              	.LFB140:
1637:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   HAL_StatusTypeDef errorcode = HAL_OK;
 3645              		.loc 1 1637 1 is_stmt 1 view -0
 3646              		.cfi_startproc
 3647              		@ args = 0, pretend = 0, frame = 0
 3648              		@ frame_needed = 0, uses_anonymous_args = 0
1637:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   HAL_StatusTypeDef errorcode = HAL_OK;
 3649              		.loc 1 1637 1 is_stmt 0 view .LVU1153
 3650 0000 08B5     		push	{r3, lr}
 3651              	.LCFI35:
 3652              		.cfi_def_cfa_offset 8
 3653              		.cfi_offset 3, -8
 3654              		.cfi_offset 14, -4
 3655 0002 8446     		mov	ip, r0
1638:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 159


 3656              		.loc 1 1638 3 is_stmt 1 view .LVU1154
 3657              	.LVL212:
1640:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 3658              		.loc 1 1640 3 view .LVU1155
1640:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 3659              		.loc 1 1640 18 is_stmt 0 view .LVU1156
 3660 0004 8368     		ldr	r3, [r0, #8]
1640:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 3661              		.loc 1 1640 6 view .LVU1157
 3662 0006 1BB9     		cbnz	r3, .L289
1640:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 3663              		.loc 1 1640 68 discriminator 1 view .LVU1158
 3664 0008 4368     		ldr	r3, [r0, #4]
1640:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 3665              		.loc 1 1640 54 discriminator 1 view .LVU1159
 3666 000a B3F5827F 		cmp	r3, #260
 3667 000e 48D0     		beq	.L299
 3668              	.L289:
1648:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 3669              		.loc 1 1648 3 is_stmt 1 view .LVU1160
1648:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 3670              		.loc 1 1648 3 view .LVU1161
 3671 0010 9CF85C30 		ldrb	r3, [ip, #92]	@ zero_extendqisi2
 3672 0014 012B     		cmp	r3, #1
 3673 0016 6AD0     		beq	.L295
1648:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 3674              		.loc 1 1648 3 discriminator 2 view .LVU1162
 3675 0018 0123     		movs	r3, #1
 3676 001a 8CF85C30 		strb	r3, [ip, #92]
1648:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 3677              		.loc 1 1648 3 discriminator 2 view .LVU1163
1650:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 3678              		.loc 1 1650 3 discriminator 2 view .LVU1164
1650:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 3679              		.loc 1 1650 11 is_stmt 0 discriminator 2 view .LVU1165
 3680 001e 9CF85D00 		ldrb	r0, [ip, #93]	@ zero_extendqisi2
 3681              	.LVL213:
1650:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 3682              		.loc 1 1650 11 discriminator 2 view .LVU1166
 3683 0022 C0B2     		uxtb	r0, r0
1650:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 3684              		.loc 1 1650 6 discriminator 2 view .LVU1167
 3685 0024 9842     		cmp	r0, r3
 3686 0026 5BD1     		bne	.L296
1656:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 3687              		.loc 1 1656 3 is_stmt 1 view .LVU1168
1656:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 3688              		.loc 1 1656 6 is_stmt 0 view .LVU1169
 3689 0028 0029     		cmp	r1, #0
 3690 002a 5AD0     		beq	.L291
1656:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 3691              		.loc 1 1656 23 discriminator 1 view .LVU1170
 3692 002c 002A     		cmp	r2, #0
 3693 002e 58D0     		beq	.L291
1663:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->ErrorCode   = HAL_SPI_ERROR_NONE;
 3694              		.loc 1 1663 3 is_stmt 1 view .LVU1171
1663:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->ErrorCode   = HAL_SPI_ERROR_NONE;
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 160


 3695              		.loc 1 1663 21 is_stmt 0 view .LVU1172
 3696 0030 0423     		movs	r3, #4
 3697 0032 8CF85D30 		strb	r3, [ip, #93]
1664:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->pRxBuffPtr  = (uint8_t *)pData;
 3698              		.loc 1 1664 3 is_stmt 1 view .LVU1173
1664:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->pRxBuffPtr  = (uint8_t *)pData;
 3699              		.loc 1 1664 21 is_stmt 0 view .LVU1174
 3700 0036 0023     		movs	r3, #0
 3701 0038 CCF86030 		str	r3, [ip, #96]
1665:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->RxXferSize  = Size;
 3702              		.loc 1 1665 3 is_stmt 1 view .LVU1175
1665:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->RxXferSize  = Size;
 3703              		.loc 1 1665 21 is_stmt 0 view .LVU1176
 3704 003c CCF84010 		str	r1, [ip, #64]
1666:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->RxXferCount = Size;
 3705              		.loc 1 1666 3 is_stmt 1 view .LVU1177
1666:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->RxXferCount = Size;
 3706              		.loc 1 1666 21 is_stmt 0 view .LVU1178
 3707 0040 ACF84420 		strh	r2, [ip, #68]	@ movhi
1667:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 3708              		.loc 1 1667 3 is_stmt 1 view .LVU1179
1667:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 3709              		.loc 1 1667 21 is_stmt 0 view .LVU1180
 3710 0044 ACF84620 		strh	r2, [ip, #70]	@ movhi
1670:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->TxXferSize  = 0U;
 3711              		.loc 1 1670 3 is_stmt 1 view .LVU1181
1670:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->TxXferSize  = 0U;
 3712              		.loc 1 1670 21 is_stmt 0 view .LVU1182
 3713 0048 CCF83830 		str	r3, [ip, #56]
1671:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->TxXferCount = 0U;
 3714              		.loc 1 1671 3 is_stmt 1 view .LVU1183
1671:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->TxXferCount = 0U;
 3715              		.loc 1 1671 21 is_stmt 0 view .LVU1184
 3716 004c ACF83C30 		strh	r3, [ip, #60]	@ movhi
1672:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->TxISR       = NULL;
 3717              		.loc 1 1672 3 is_stmt 1 view .LVU1185
1672:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->TxISR       = NULL;
 3718              		.loc 1 1672 21 is_stmt 0 view .LVU1186
 3719 0050 ACF83E30 		strh	r3, [ip, #62]	@ movhi
1673:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 3720              		.loc 1 1673 3 is_stmt 1 view .LVU1187
1673:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 3721              		.loc 1 1673 21 is_stmt 0 view .LVU1188
 3722 0054 CCF85030 		str	r3, [ip, #80]
1676:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 3723              		.loc 1 1676 3 is_stmt 1 view .LVU1189
1676:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 3724              		.loc 1 1676 17 is_stmt 0 view .LVU1190
 3725 0058 DCF80C30 		ldr	r3, [ip, #12]
1676:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 3726              		.loc 1 1676 6 view .LVU1191
 3727 005c B3F5E06F 		cmp	r3, #1792
 3728 0060 27D9     		bls	.L292
1679:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     hspi->RxISR = SPI_RxISR_16BIT;
 3729              		.loc 1 1679 5 is_stmt 1 view .LVU1192
 3730 0062 DCF80020 		ldr	r2, [ip]
 3731              	.LVL214:
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 161


1679:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     hspi->RxISR = SPI_RxISR_16BIT;
 3732              		.loc 1 1679 5 is_stmt 0 view .LVU1193
 3733 0066 5368     		ldr	r3, [r2, #4]
 3734 0068 23F48053 		bic	r3, r3, #4096
 3735 006c 5360     		str	r3, [r2, #4]
 3736              	.LVL215:
1680:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
 3737              		.loc 1 1680 5 is_stmt 1 view .LVU1194
1680:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
 3738              		.loc 1 1680 17 is_stmt 0 view .LVU1195
 3739 006e 214B     		ldr	r3, .L301
 3740 0070 CCF84C30 		str	r3, [ip, #76]
 3741              	.L293:
1690:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 3742              		.loc 1 1690 3 is_stmt 1 view .LVU1196
1690:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 3743              		.loc 1 1690 17 is_stmt 0 view .LVU1197
 3744 0074 DCF80830 		ldr	r3, [ip, #8]
1690:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 3745              		.loc 1 1690 6 view .LVU1198
 3746 0078 B3F5004F 		cmp	r3, #32768
 3747 007c 23D0     		beq	.L300
 3748              	.L294:
1715:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 3749              		.loc 1 1715 3 is_stmt 1 view .LVU1199
 3750 007e DCF80020 		ldr	r2, [ip]
 3751 0082 5368     		ldr	r3, [r2, #4]
 3752 0084 43F06003 		orr	r3, r3, #96
 3753 0088 5360     		str	r3, [r2, #4]
1722:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 3754              		.loc 1 1722 3 view .LVU1200
1722:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 3755              		.loc 1 1722 12 is_stmt 0 view .LVU1201
 3756 008a DCF80030 		ldr	r3, [ip]
1722:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 3757              		.loc 1 1722 22 view .LVU1202
 3758 008e 1A68     		ldr	r2, [r3]
1722:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 3759              		.loc 1 1722 6 view .LVU1203
 3760 0090 12F0400F 		tst	r2, #64
 3761 0094 29D1     		bne	.L297
1725:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
 3762              		.loc 1 1725 5 is_stmt 1 view .LVU1204
 3763 0096 1A68     		ldr	r2, [r3]
 3764 0098 42F04002 		orr	r2, r2, #64
 3765 009c 1A60     		str	r2, [r3]
1638:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 3766              		.loc 1 1638 21 is_stmt 0 view .LVU1205
 3767 009e 0020     		movs	r0, #0
 3768 00a0 1FE0     		b	.L291
 3769              	.LVL216:
 3770              	.L299:
1642:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* Call transmit-receive function to send Dummy data on Tx line and generate clock on CLK line 
 3771              		.loc 1 1642 5 is_stmt 1 view .LVU1206
1642:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* Call transmit-receive function to send Dummy data on Tx line and generate clock on CLK line 
 3772              		.loc 1 1642 17 is_stmt 0 view .LVU1207
 3773 00a2 0423     		movs	r3, #4
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 162


 3774 00a4 80F85D30 		strb	r3, [r0, #93]
1644:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
 3775              		.loc 1 1644 5 is_stmt 1 view .LVU1208
1644:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
 3776              		.loc 1 1644 12 is_stmt 0 view .LVU1209
 3777 00a8 1346     		mov	r3, r2
 3778 00aa 0A46     		mov	r2, r1
 3779              	.LVL217:
1644:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
 3780              		.loc 1 1644 12 view .LVU1210
 3781 00ac FFF7FEFF 		bl	HAL_SPI_TransmitReceive_IT
 3782              	.LVL218:
1644:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
 3783              		.loc 1 1644 12 view .LVU1211
 3784 00b0 1AE0     		b	.L290
 3785              	.LVL219:
 3786              	.L292:
1685:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     hspi->RxISR = SPI_RxISR_8BIT;
 3787              		.loc 1 1685 5 is_stmt 1 view .LVU1212
 3788 00b2 DCF80020 		ldr	r2, [ip]
 3789              	.LVL220:
1685:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     hspi->RxISR = SPI_RxISR_8BIT;
 3790              		.loc 1 1685 5 is_stmt 0 view .LVU1213
 3791 00b6 5368     		ldr	r3, [r2, #4]
 3792 00b8 43F48053 		orr	r3, r3, #4096
 3793 00bc 5360     		str	r3, [r2, #4]
 3794              	.LVL221:
1686:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
 3795              		.loc 1 1686 5 is_stmt 1 view .LVU1214
1686:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
 3796              		.loc 1 1686 17 is_stmt 0 view .LVU1215
 3797 00be 0E4B     		ldr	r3, .L301+4
 3798 00c0 CCF84C30 		str	r3, [ip, #76]
 3799 00c4 D6E7     		b	.L293
 3800              	.L300:
1693:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     SPI_1LINE_RX(hspi);
 3801              		.loc 1 1693 5 is_stmt 1 view .LVU1216
 3802 00c6 DCF80020 		ldr	r2, [ip]
 3803 00ca 1368     		ldr	r3, [r2]
 3804 00cc 23F04003 		bic	r3, r3, #64
 3805 00d0 1360     		str	r3, [r2]
1694:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
 3806              		.loc 1 1694 5 view .LVU1217
 3807 00d2 DCF80020 		ldr	r2, [ip]
 3808 00d6 1368     		ldr	r3, [r2]
 3809 00d8 23F48043 		bic	r3, r3, #16384
 3810 00dc 1360     		str	r3, [r2]
 3811 00de CEE7     		b	.L294
 3812              	.LVL222:
 3813              	.L296:
1652:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     goto error;
 3814              		.loc 1 1652 15 is_stmt 0 view .LVU1218
 3815 00e0 0220     		movs	r0, #2
 3816              	.LVL223:
 3817              	.L291:
1730:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   return errorcode;
 3818              		.loc 1 1730 3 is_stmt 1 view .LVU1219
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 163


1730:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   return errorcode;
 3819              		.loc 1 1730 3 view .LVU1220
 3820 00e2 0023     		movs	r3, #0
 3821 00e4 8CF85C30 		strb	r3, [ip, #92]
1730:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   return errorcode;
 3822              		.loc 1 1730 3 view .LVU1221
1731:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** }
 3823              		.loc 1 1731 3 view .LVU1222
 3824              	.LVL224:
 3825              	.L290:
1732:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 3826              		.loc 1 1732 1 is_stmt 0 view .LVU1223
 3827 00e8 08BD     		pop	{r3, pc}
 3828              	.LVL225:
 3829              	.L297:
1638:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 3830              		.loc 1 1638 21 view .LVU1224
 3831 00ea 0020     		movs	r0, #0
 3832 00ec F9E7     		b	.L291
 3833              	.LVL226:
 3834              	.L295:
1648:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 3835              		.loc 1 1648 3 view .LVU1225
 3836 00ee 0220     		movs	r0, #2
 3837              	.LVL227:
1648:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 3838              		.loc 1 1648 3 view .LVU1226
 3839 00f0 FAE7     		b	.L290
 3840              	.L302:
 3841 00f2 00BF     		.align	2
 3842              	.L301:
 3843 00f4 00000000 		.word	SPI_RxISR_16BIT
 3844 00f8 00000000 		.word	SPI_RxISR_8BIT
 3845              		.cfi_endproc
 3846              	.LFE140:
 3848              		.section	.text.HAL_SPI_Transmit_DMA,"ax",%progbits
 3849              		.align	1
 3850              		.global	HAL_SPI_Transmit_DMA
 3851              		.syntax unified
 3852              		.thumb
 3853              		.thumb_func
 3854              		.fpu fpv4-sp-d16
 3856              	HAL_SPI_Transmit_DMA:
 3857              	.LVL228:
 3858              	.LFB142:
1853:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   HAL_StatusTypeDef errorcode = HAL_OK;
 3859              		.loc 1 1853 1 is_stmt 1 view -0
 3860              		.cfi_startproc
 3861              		@ args = 0, pretend = 0, frame = 0
 3862              		@ frame_needed = 0, uses_anonymous_args = 0
1853:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   HAL_StatusTypeDef errorcode = HAL_OK;
 3863              		.loc 1 1853 1 is_stmt 0 view .LVU1228
 3864 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 3865              	.LCFI36:
 3866              		.cfi_def_cfa_offset 24
 3867              		.cfi_offset 3, -24
 3868              		.cfi_offset 4, -20
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 164


 3869              		.cfi_offset 5, -16
 3870              		.cfi_offset 6, -12
 3871              		.cfi_offset 7, -8
 3872              		.cfi_offset 14, -4
 3873 0002 0446     		mov	r4, r0
 3874 0004 0E46     		mov	r6, r1
 3875 0006 1746     		mov	r7, r2
1854:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 3876              		.loc 1 1854 3 is_stmt 1 view .LVU1229
 3877              	.LVL229:
1857:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 3878              		.loc 1 1857 3 view .LVU1230
 3879 0008 436D     		ldr	r3, [r0, #84]
 3880 000a 002B     		cmp	r3, #0
 3881 000c 65D0     		beq	.L316
 3882              	.LVL230:
 3883              	.L304:
1860:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 3884              		.loc 1 1860 3 view .LVU1231
 3885 000e A368     		ldr	r3, [r4, #8]
 3886 0010 13B1     		cbz	r3, .L305
1860:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 3887              		.loc 1 1860 3 is_stmt 0 discriminator 1 view .LVU1232
 3888 0012 B3F5004F 		cmp	r3, #32768
 3889 0016 66D1     		bne	.L317
 3890              	.L305:
1863:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 3891              		.loc 1 1863 3 is_stmt 1 view .LVU1233
1863:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 3892              		.loc 1 1863 3 view .LVU1234
 3893 0018 94F85C30 		ldrb	r3, [r4, #92]	@ zero_extendqisi2
 3894 001c 012B     		cmp	r3, #1
 3895 001e 00F09A80 		beq	.L313
1863:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 3896              		.loc 1 1863 3 discriminator 2 view .LVU1235
 3897 0022 0123     		movs	r3, #1
 3898 0024 84F85C30 		strb	r3, [r4, #92]
1863:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 3899              		.loc 1 1863 3 discriminator 2 view .LVU1236
1865:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 3900              		.loc 1 1865 3 discriminator 2 view .LVU1237
1865:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 3901              		.loc 1 1865 11 is_stmt 0 discriminator 2 view .LVU1238
 3902 0028 94F85D50 		ldrb	r5, [r4, #93]	@ zero_extendqisi2
 3903 002c EDB2     		uxtb	r5, r5
1865:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 3904              		.loc 1 1865 6 discriminator 2 view .LVU1239
 3905 002e 9D42     		cmp	r5, r3
 3906 0030 40F08B80 		bne	.L314
1871:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 3907              		.loc 1 1871 3 is_stmt 1 view .LVU1240
1871:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 3908              		.loc 1 1871 6 is_stmt 0 view .LVU1241
 3909 0034 002E     		cmp	r6, #0
 3910 0036 00F08980 		beq	.L307
1871:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 3911              		.loc 1 1871 23 discriminator 1 view .LVU1242
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 165


 3912 003a 002F     		cmp	r7, #0
 3913 003c 00F08680 		beq	.L307
1878:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->ErrorCode   = HAL_SPI_ERROR_NONE;
 3914              		.loc 1 1878 3 is_stmt 1 view .LVU1243
1878:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->ErrorCode   = HAL_SPI_ERROR_NONE;
 3915              		.loc 1 1878 21 is_stmt 0 view .LVU1244
 3916 0040 0323     		movs	r3, #3
 3917 0042 84F85D30 		strb	r3, [r4, #93]
1879:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->pTxBuffPtr  = (uint8_t *)pData;
 3918              		.loc 1 1879 3 is_stmt 1 view .LVU1245
1879:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->pTxBuffPtr  = (uint8_t *)pData;
 3919              		.loc 1 1879 21 is_stmt 0 view .LVU1246
 3920 0046 0023     		movs	r3, #0
 3921 0048 2366     		str	r3, [r4, #96]
1880:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->TxXferSize  = Size;
 3922              		.loc 1 1880 3 is_stmt 1 view .LVU1247
1880:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->TxXferSize  = Size;
 3923              		.loc 1 1880 21 is_stmt 0 view .LVU1248
 3924 004a A663     		str	r6, [r4, #56]
1881:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->TxXferCount = Size;
 3925              		.loc 1 1881 3 is_stmt 1 view .LVU1249
1881:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->TxXferCount = Size;
 3926              		.loc 1 1881 21 is_stmt 0 view .LVU1250
 3927 004c A787     		strh	r7, [r4, #60]	@ movhi
1882:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 3928              		.loc 1 1882 3 is_stmt 1 view .LVU1251
1882:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 3929              		.loc 1 1882 21 is_stmt 0 view .LVU1252
 3930 004e E787     		strh	r7, [r4, #62]	@ movhi
1885:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->TxISR       = NULL;
 3931              		.loc 1 1885 3 is_stmt 1 view .LVU1253
1885:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->TxISR       = NULL;
 3932              		.loc 1 1885 21 is_stmt 0 view .LVU1254
 3933 0050 2364     		str	r3, [r4, #64]
1886:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->RxISR       = NULL;
 3934              		.loc 1 1886 3 is_stmt 1 view .LVU1255
1886:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->RxISR       = NULL;
 3935              		.loc 1 1886 21 is_stmt 0 view .LVU1256
 3936 0052 2365     		str	r3, [r4, #80]
1887:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->RxXferSize  = 0U;
 3937              		.loc 1 1887 3 is_stmt 1 view .LVU1257
1887:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->RxXferSize  = 0U;
 3938              		.loc 1 1887 21 is_stmt 0 view .LVU1258
 3939 0054 E364     		str	r3, [r4, #76]
1888:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->RxXferCount = 0U;
 3940              		.loc 1 1888 3 is_stmt 1 view .LVU1259
1888:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->RxXferCount = 0U;
 3941              		.loc 1 1888 21 is_stmt 0 view .LVU1260
 3942 0056 A4F84430 		strh	r3, [r4, #68]	@ movhi
1889:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 3943              		.loc 1 1889 3 is_stmt 1 view .LVU1261
1889:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 3944              		.loc 1 1889 21 is_stmt 0 view .LVU1262
 3945 005a A4F84630 		strh	r3, [r4, #70]	@ movhi
1892:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 3946              		.loc 1 1892 3 is_stmt 1 view .LVU1263
1892:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 166


 3947              		.loc 1 1892 17 is_stmt 0 view .LVU1264
 3948 005e A368     		ldr	r3, [r4, #8]
1892:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 3949              		.loc 1 1892 6 view .LVU1265
 3950 0060 B3F5004F 		cmp	r3, #32768
 3951 0064 45D0     		beq	.L318
 3952              	.L308:
1908:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 3953              		.loc 1 1908 3 is_stmt 1 view .LVU1266
1908:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 3954              		.loc 1 1908 7 is_stmt 0 view .LVU1267
 3955 0066 636D     		ldr	r3, [r4, #84]
1908:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 3956              		.loc 1 1908 38 view .LVU1268
 3957 0068 3C4A     		ldr	r2, .L321
 3958 006a 1A63     		str	r2, [r3, #48]
1911:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 3959              		.loc 1 1911 3 is_stmt 1 view .LVU1269
1911:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 3960              		.loc 1 1911 7 is_stmt 0 view .LVU1270
 3961 006c 636D     		ldr	r3, [r4, #84]
1911:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 3962              		.loc 1 1911 34 view .LVU1271
 3963 006e 3C4A     		ldr	r2, .L321+4
 3964 0070 DA62     		str	r2, [r3, #44]
1914:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 3965              		.loc 1 1914 3 is_stmt 1 view .LVU1272
1914:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 3966              		.loc 1 1914 7 is_stmt 0 view .LVU1273
 3967 0072 636D     		ldr	r3, [r4, #84]
1914:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 3968              		.loc 1 1914 35 view .LVU1274
 3969 0074 3B4A     		ldr	r2, .L321+8
 3970 0076 5A63     		str	r2, [r3, #52]
1917:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 3971              		.loc 1 1917 3 is_stmt 1 view .LVU1275
1917:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 3972              		.loc 1 1917 7 is_stmt 0 view .LVU1276
 3973 0078 636D     		ldr	r3, [r4, #84]
1917:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 3974              		.loc 1 1917 35 view .LVU1277
 3975 007a 0022     		movs	r2, #0
 3976 007c 9A63     		str	r2, [r3, #56]
1919:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Packing mode is enabled only if the DMA setting is HALWORD */
 3977              		.loc 1 1919 3 is_stmt 1 view .LVU1278
 3978 007e 2268     		ldr	r2, [r4]
 3979 0080 5368     		ldr	r3, [r2, #4]
 3980 0082 23F48043 		bic	r3, r3, #16384
 3981 0086 5360     		str	r3, [r2, #4]
1921:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 3982              		.loc 1 1921 3 view .LVU1279
1921:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 3983              		.loc 1 1921 18 is_stmt 0 view .LVU1280
 3984 0088 E368     		ldr	r3, [r4, #12]
1921:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 3985              		.loc 1 1921 6 view .LVU1281
 3986 008a B3F5E06F 		cmp	r3, #1792
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 167


 3987 008e 04D8     		bhi	.L309
1921:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 3988              		.loc 1 1921 58 discriminator 1 view .LVU1282
 3989 0090 636D     		ldr	r3, [r4, #84]
1921:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 3990              		.loc 1 1921 72 discriminator 1 view .LVU1283
 3991 0092 9B69     		ldr	r3, [r3, #24]
1921:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 3992              		.loc 1 1921 50 discriminator 1 view .LVU1284
 3993 0094 B3F5806F 		cmp	r3, #1024
 3994 0098 36D0     		beq	.L319
 3995              	.L309:
1937:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****                                  hspi->TxXferCount))
 3996              		.loc 1 1937 3 is_stmt 1 view .LVU1285
1937:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****                                  hspi->TxXferCount))
 3997              		.loc 1 1937 91 is_stmt 0 view .LVU1286
 3998 009a 2268     		ldr	r2, [r4]
1938:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 3999              		.loc 1 1938 38 view .LVU1287
 4000 009c E38F     		ldrh	r3, [r4, #62]
1937:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****                                  hspi->TxXferCount))
 4001              		.loc 1 1937 17 view .LVU1288
 4002 009e 9BB2     		uxth	r3, r3
 4003 00a0 0C32     		adds	r2, r2, #12
 4004 00a2 A16B     		ldr	r1, [r4, #56]
 4005 00a4 606D     		ldr	r0, [r4, #84]
 4006 00a6 FFF7FEFF 		bl	HAL_DMA_Start_IT
 4007              	.LVL231:
1937:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****                                  hspi->TxXferCount))
 4008              		.loc 1 1937 6 view .LVU1289
 4009 00aa 0146     		mov	r1, r0
 4010 00ac 0028     		cmp	r0, #0
 4011 00ae 44D1     		bne	.L320
1949:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 4012              		.loc 1 1949 3 is_stmt 1 view .LVU1290
1949:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 4013              		.loc 1 1949 12 is_stmt 0 view .LVU1291
 4014 00b0 2368     		ldr	r3, [r4]
1949:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 4015              		.loc 1 1949 22 view .LVU1292
 4016 00b2 1A68     		ldr	r2, [r3]
1949:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 4017              		.loc 1 1949 6 view .LVU1293
 4018 00b4 12F0400F 		tst	r2, #64
 4019 00b8 03D1     		bne	.L312
1952:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
 4020              		.loc 1 1952 5 is_stmt 1 view .LVU1294
 4021 00ba 1A68     		ldr	r2, [r3]
 4022 00bc 42F04002 		orr	r2, r2, #64
 4023 00c0 1A60     		str	r2, [r3]
 4024              	.L312:
1956:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 4025              		.loc 1 1956 3 view .LVU1295
 4026 00c2 2268     		ldr	r2, [r4]
 4027 00c4 5368     		ldr	r3, [r2, #4]
 4028 00c6 43F02003 		orr	r3, r3, #32
 4029 00ca 5360     		str	r3, [r2, #4]
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 168


1959:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 4030              		.loc 1 1959 3 view .LVU1296
 4031 00cc 2268     		ldr	r2, [r4]
 4032 00ce 5368     		ldr	r3, [r2, #4]
 4033 00d0 43F00203 		orr	r3, r3, #2
 4034 00d4 5360     		str	r3, [r2, #4]
1854:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 4035              		.loc 1 1854 21 is_stmt 0 view .LVU1297
 4036 00d6 0D46     		mov	r5, r1
 4037 00d8 38E0     		b	.L307
 4038              	.LVL232:
 4039              	.L316:
1857:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 4040              		.loc 1 1857 3 discriminator 1 view .LVU1298
 4041 00da 40F24171 		movw	r1, #1857
 4042              	.LVL233:
1857:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 4043              		.loc 1 1857 3 discriminator 1 view .LVU1299
 4044 00de 2248     		ldr	r0, .L321+12
 4045              	.LVL234:
1857:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 4046              		.loc 1 1857 3 discriminator 1 view .LVU1300
 4047 00e0 FFF7FEFF 		bl	assert_failed
 4048              	.LVL235:
1857:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 4049              		.loc 1 1857 3 discriminator 1 view .LVU1301
 4050 00e4 93E7     		b	.L304
 4051              	.L317:
1860:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 4052              		.loc 1 1860 3 discriminator 2 view .LVU1302
 4053 00e6 40F24471 		movw	r1, #1860
 4054 00ea 1F48     		ldr	r0, .L321+12
 4055 00ec FFF7FEFF 		bl	assert_failed
 4056              	.LVL236:
 4057 00f0 92E7     		b	.L305
 4058              	.L318:
1895:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     SPI_1LINE_TX(hspi);
 4059              		.loc 1 1895 5 is_stmt 1 view .LVU1303
 4060 00f2 2268     		ldr	r2, [r4]
 4061 00f4 1368     		ldr	r3, [r2]
 4062 00f6 23F04003 		bic	r3, r3, #64
 4063 00fa 1360     		str	r3, [r2]
1896:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
 4064              		.loc 1 1896 5 view .LVU1304
 4065 00fc 2268     		ldr	r2, [r4]
 4066 00fe 1368     		ldr	r3, [r2]
 4067 0100 43F48043 		orr	r3, r3, #16384
 4068 0104 1360     		str	r3, [r2]
 4069 0106 AEE7     		b	.L308
 4070              	.L319:
1924:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
 4071              		.loc 1 1924 5 view .LVU1305
1924:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
 4072              		.loc 1 1924 14 is_stmt 0 view .LVU1306
 4073 0108 E38F     		ldrh	r3, [r4, #62]
1924:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
 4074              		.loc 1 1924 8 view .LVU1307
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 169


 4075 010a 13F0010F 		tst	r3, #1
 4076 010e 09D1     		bne	.L310
1926:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       hspi->TxXferCount = (hspi->TxXferCount >> 1U);
 4077              		.loc 1 1926 7 is_stmt 1 view .LVU1308
 4078 0110 2268     		ldr	r2, [r4]
 4079 0112 5368     		ldr	r3, [r2, #4]
 4080 0114 23F48043 		bic	r3, r3, #16384
 4081 0118 5360     		str	r3, [r2, #4]
1927:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
 4082              		.loc 1 1927 7 view .LVU1309
1927:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
 4083              		.loc 1 1927 32 is_stmt 0 view .LVU1310
 4084 011a E38F     		ldrh	r3, [r4, #62]
1927:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
 4085              		.loc 1 1927 25 view .LVU1311
 4086 011c C3F34E03 		ubfx	r3, r3, #1, #15
 4087 0120 E387     		strh	r3, [r4, #62]	@ movhi
 4088 0122 BAE7     		b	.L309
 4089              	.L310:
1931:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       hspi->TxXferCount = (hspi->TxXferCount >> 1U) + 1U;
 4090              		.loc 1 1931 7 is_stmt 1 view .LVU1312
 4091 0124 2268     		ldr	r2, [r4]
 4092 0126 5368     		ldr	r3, [r2, #4]
 4093 0128 43F48043 		orr	r3, r3, #16384
 4094 012c 5360     		str	r3, [r2, #4]
1932:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
 4095              		.loc 1 1932 7 view .LVU1313
1932:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
 4096              		.loc 1 1932 32 is_stmt 0 view .LVU1314
 4097 012e E38F     		ldrh	r3, [r4, #62]
1932:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
 4098              		.loc 1 1932 53 view .LVU1315
 4099 0130 C3F34E03 		ubfx	r3, r3, #1, #15
 4100 0134 0133     		adds	r3, r3, #1
1932:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
 4101              		.loc 1 1932 25 view .LVU1316
 4102 0136 E387     		strh	r3, [r4, #62]	@ movhi
 4103 0138 AFE7     		b	.L309
 4104              	.L320:
1941:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     errorcode = HAL_ERROR;
 4105              		.loc 1 1941 5 is_stmt 1 view .LVU1317
 4106 013a 236E     		ldr	r3, [r4, #96]
 4107 013c 43F01003 		orr	r3, r3, #16
 4108 0140 2366     		str	r3, [r4, #96]
1942:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 4109              		.loc 1 1942 5 view .LVU1318
 4110              	.LVL237:
1944:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     goto error;
 4111              		.loc 1 1944 5 view .LVU1319
1944:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     goto error;
 4112              		.loc 1 1944 17 is_stmt 0 view .LVU1320
 4113 0142 0123     		movs	r3, #1
 4114 0144 84F85D30 		strb	r3, [r4, #93]
1945:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
 4115              		.loc 1 1945 5 is_stmt 1 view .LVU1321
 4116 0148 00E0     		b	.L307
 4117              	.LVL238:
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 170


 4118              	.L314:
1867:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     goto error;
 4119              		.loc 1 1867 15 is_stmt 0 view .LVU1322
 4120 014a 0225     		movs	r5, #2
 4121              	.LVL239:
 4122              	.L307:
1963:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   return errorcode;
 4123              		.loc 1 1963 3 is_stmt 1 view .LVU1323
1963:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   return errorcode;
 4124              		.loc 1 1963 3 view .LVU1324
 4125 014c 0023     		movs	r3, #0
 4126 014e 84F85C30 		strb	r3, [r4, #92]
1963:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   return errorcode;
 4127              		.loc 1 1963 3 view .LVU1325
1964:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** }
 4128              		.loc 1 1964 3 view .LVU1326
 4129              	.LVL240:
 4130              	.L306:
1965:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 4131              		.loc 1 1965 1 is_stmt 0 view .LVU1327
 4132 0152 2846     		mov	r0, r5
 4133 0154 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 4134              	.LVL241:
 4135              	.L313:
1863:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 4136              		.loc 1 1863 3 view .LVU1328
 4137 0156 0225     		movs	r5, #2
 4138 0158 FBE7     		b	.L306
 4139              	.L322:
 4140 015a 00BF     		.align	2
 4141              	.L321:
 4142 015c 00000000 		.word	SPI_DMAHalfTransmitCplt
 4143 0160 00000000 		.word	SPI_DMATransmitCplt
 4144 0164 00000000 		.word	SPI_DMAError
 4145 0168 00000000 		.word	.LC0
 4146              		.cfi_endproc
 4147              	.LFE142:
 4149              		.section	.text.HAL_SPI_TransmitReceive_DMA,"ax",%progbits
 4150              		.align	1
 4151              		.global	HAL_SPI_TransmitReceive_DMA
 4152              		.syntax unified
 4153              		.thumb
 4154              		.thumb_func
 4155              		.fpu fpv4-sp-d16
 4157              	HAL_SPI_TransmitReceive_DMA:
 4158              	.LVL242:
 4159              	.LFB144:
2124:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   uint32_t             tmp_mode;
 4160              		.loc 1 2124 1 is_stmt 1 view -0
 4161              		.cfi_startproc
 4162              		@ args = 0, pretend = 0, frame = 0
 4163              		@ frame_needed = 0, uses_anonymous_args = 0
2124:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   uint32_t             tmp_mode;
 4164              		.loc 1 2124 1 is_stmt 0 view .LVU1330
 4165 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 4166              	.LCFI37:
 4167              		.cfi_def_cfa_offset 24
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 171


 4168              		.cfi_offset 3, -24
 4169              		.cfi_offset 4, -20
 4170              		.cfi_offset 5, -16
 4171              		.cfi_offset 6, -12
 4172              		.cfi_offset 7, -8
 4173              		.cfi_offset 14, -4
 4174 0002 0446     		mov	r4, r0
 4175 0004 0E46     		mov	r6, r1
 4176 0006 1746     		mov	r7, r2
 4177 0008 1D46     		mov	r5, r3
2125:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   HAL_SPI_StateTypeDef tmp_state;
 4178              		.loc 1 2125 3 is_stmt 1 view .LVU1331
2126:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   HAL_StatusTypeDef errorcode = HAL_OK;
 4179              		.loc 1 2126 3 view .LVU1332
2127:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 4180              		.loc 1 2127 3 view .LVU1333
 4181              	.LVL243:
2130:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   assert_param(IS_SPI_DMA_HANDLE(hspi->hdmatx));
 4182              		.loc 1 2130 3 view .LVU1334
 4183 000a 836D     		ldr	r3, [r0, #88]
 4184              	.LVL244:
2130:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   assert_param(IS_SPI_DMA_HANDLE(hspi->hdmatx));
 4185              		.loc 1 2130 3 is_stmt 0 view .LVU1335
 4186 000c 002B     		cmp	r3, #0
 4187 000e 6DD0     		beq	.L349
 4188              	.LVL245:
 4189              	.L324:
2131:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 4190              		.loc 1 2131 3 is_stmt 1 view .LVU1336
 4191 0010 636D     		ldr	r3, [r4, #84]
 4192 0012 002B     		cmp	r3, #0
 4193 0014 70D0     		beq	.L350
 4194              	.L325:
2134:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 4195              		.loc 1 2134 3 view .LVU1337
 4196 0016 A368     		ldr	r3, [r4, #8]
 4197 0018 002B     		cmp	r3, #0
 4198 001a 73D1     		bne	.L351
 4199              	.L326:
2137:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 4200              		.loc 1 2137 3 view .LVU1338
2137:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 4201              		.loc 1 2137 3 view .LVU1339
 4202 001c 94F85C30 		ldrb	r3, [r4, #92]	@ zero_extendqisi2
 4203 0020 012B     		cmp	r3, #1
 4204 0022 00F00981 		beq	.L341
2137:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 4205              		.loc 1 2137 3 discriminator 2 view .LVU1340
 4206 0026 0123     		movs	r3, #1
 4207 0028 84F85C30 		strb	r3, [r4, #92]
2137:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 4208              		.loc 1 2137 3 discriminator 2 view .LVU1341
2140:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   tmp_mode            = hspi->Init.Mode;
 4209              		.loc 1 2140 3 discriminator 2 view .LVU1342
2140:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   tmp_mode            = hspi->Init.Mode;
 4210              		.loc 1 2140 23 is_stmt 0 discriminator 2 view .LVU1343
 4211 002c 94F85D30 		ldrb	r3, [r4, #93]	@ zero_extendqisi2
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 172


 4212 0030 DBB2     		uxtb	r3, r3
 4213              	.LVL246:
2141:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 4214              		.loc 1 2141 3 is_stmt 1 discriminator 2 view .LVU1344
2141:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 4215              		.loc 1 2141 23 is_stmt 0 discriminator 2 view .LVU1345
 4216 0032 6268     		ldr	r2, [r4, #4]
 4217              	.LVL247:
2143:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         ((tmp_mode == SPI_MODE_MASTER) && (hspi->Init.Direction == SPI_DIRECTION_2LINES) && (tmp_st
 4218              		.loc 1 2143 3 is_stmt 1 discriminator 2 view .LVU1346
2143:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         ((tmp_mode == SPI_MODE_MASTER) && (hspi->Init.Direction == SPI_DIRECTION_2LINES) && (tmp_st
 4219              		.loc 1 2143 6 is_stmt 0 discriminator 2 view .LVU1347
 4220 0034 012B     		cmp	r3, #1
 4221 0036 0AD0     		beq	.L328
2143:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         ((tmp_mode == SPI_MODE_MASTER) && (hspi->Init.Direction == SPI_DIRECTION_2LINES) && (tmp_st
 4222              		.loc 1 2143 7 discriminator 1 view .LVU1348
 4223 0038 B2F5827F 		cmp	r2, #260
 4224 003c 40F0ED80 		bne	.L342
2144:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 4225              		.loc 1 2144 54 view .LVU1349
 4226 0040 A268     		ldr	r2, [r4, #8]
 4227              	.LVL248:
2144:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 4228              		.loc 1 2144 40 view .LVU1350
 4229 0042 002A     		cmp	r2, #0
 4230 0044 40F0EE80 		bne	.L343
2144:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 4231              		.loc 1 2144 90 discriminator 1 view .LVU1351
 4232 0048 042B     		cmp	r3, #4
 4233 004a 40F0ED80 		bne	.L344
 4234              	.L328:
2150:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 4235              		.loc 1 2150 3 is_stmt 1 view .LVU1352
2150:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 4236              		.loc 1 2150 6 is_stmt 0 view .LVU1353
 4237 004e 002E     		cmp	r6, #0
 4238 0050 00F0EC80 		beq	.L345
2150:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 4239              		.loc 1 2150 25 discriminator 1 view .LVU1354
 4240 0054 002F     		cmp	r7, #0
 4241 0056 00F0EB80 		beq	.L346
2150:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 4242              		.loc 1 2150 46 discriminator 2 view .LVU1355
 4243 005a 002D     		cmp	r5, #0
 4244 005c 00F0EA80 		beq	.L347
2157:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 4245              		.loc 1 2157 3 is_stmt 1 view .LVU1356
2157:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 4246              		.loc 1 2157 11 is_stmt 0 view .LVU1357
 4247 0060 94F85D30 		ldrb	r3, [r4, #93]	@ zero_extendqisi2
 4248              	.LVL249:
2157:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 4249              		.loc 1 2157 11 view .LVU1358
 4250 0064 DBB2     		uxtb	r3, r3
2157:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 4251              		.loc 1 2157 6 view .LVU1359
 4252 0066 042B     		cmp	r3, #4
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 173


 4253 0068 02D0     		beq	.L330
2159:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
 4254              		.loc 1 2159 5 is_stmt 1 view .LVU1360
2159:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
 4255              		.loc 1 2159 17 is_stmt 0 view .LVU1361
 4256 006a 0523     		movs	r3, #5
 4257 006c 84F85D30 		strb	r3, [r4, #93]
 4258              	.L330:
2163:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->pTxBuffPtr  = (uint8_t *)pTxData;
 4259              		.loc 1 2163 3 is_stmt 1 view .LVU1362
2163:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->pTxBuffPtr  = (uint8_t *)pTxData;
 4260              		.loc 1 2163 21 is_stmt 0 view .LVU1363
 4261 0070 0023     		movs	r3, #0
 4262 0072 2366     		str	r3, [r4, #96]
2164:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->TxXferSize  = Size;
 4263              		.loc 1 2164 3 is_stmt 1 view .LVU1364
2164:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->TxXferSize  = Size;
 4264              		.loc 1 2164 21 is_stmt 0 view .LVU1365
 4265 0074 A663     		str	r6, [r4, #56]
2165:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->TxXferCount = Size;
 4266              		.loc 1 2165 3 is_stmt 1 view .LVU1366
2165:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->TxXferCount = Size;
 4267              		.loc 1 2165 21 is_stmt 0 view .LVU1367
 4268 0076 A587     		strh	r5, [r4, #60]	@ movhi
2166:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->pRxBuffPtr  = (uint8_t *)pRxData;
 4269              		.loc 1 2166 3 is_stmt 1 view .LVU1368
2166:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->pRxBuffPtr  = (uint8_t *)pRxData;
 4270              		.loc 1 2166 21 is_stmt 0 view .LVU1369
 4271 0078 E587     		strh	r5, [r4, #62]	@ movhi
2167:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->RxXferSize  = Size;
 4272              		.loc 1 2167 3 is_stmt 1 view .LVU1370
2167:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->RxXferSize  = Size;
 4273              		.loc 1 2167 21 is_stmt 0 view .LVU1371
 4274 007a 2764     		str	r7, [r4, #64]
2168:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->RxXferCount = Size;
 4275              		.loc 1 2168 3 is_stmt 1 view .LVU1372
2168:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->RxXferCount = Size;
 4276              		.loc 1 2168 21 is_stmt 0 view .LVU1373
 4277 007c A4F84450 		strh	r5, [r4, #68]	@ movhi
2169:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 4278              		.loc 1 2169 3 is_stmt 1 view .LVU1374
2169:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 4279              		.loc 1 2169 21 is_stmt 0 view .LVU1375
 4280 0080 A4F84650 		strh	r5, [r4, #70]	@ movhi
2172:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->TxISR       = NULL;
 4281              		.loc 1 2172 3 is_stmt 1 view .LVU1376
2172:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->TxISR       = NULL;
 4282              		.loc 1 2172 21 is_stmt 0 view .LVU1377
 4283 0084 E364     		str	r3, [r4, #76]
2173:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 4284              		.loc 1 2173 3 is_stmt 1 view .LVU1378
2173:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 4285              		.loc 1 2173 21 is_stmt 0 view .LVU1379
 4286 0086 2365     		str	r3, [r4, #80]
2184:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 4287              		.loc 1 2184 3 is_stmt 1 view .LVU1380
 4288 0088 2268     		ldr	r2, [r4]
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 174


 4289 008a 5368     		ldr	r3, [r2, #4]
 4290 008c 23F4C043 		bic	r3, r3, #24576
 4291 0090 5360     		str	r3, [r2, #4]
 4292              	.LVL250:
2187:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 4293              		.loc 1 2187 3 view .LVU1381
2187:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 4294              		.loc 1 2187 17 is_stmt 0 view .LVU1382
 4295 0092 E368     		ldr	r3, [r4, #12]
2187:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 4296              		.loc 1 2187 6 view .LVU1383
 4297 0094 B3F5E06F 		cmp	r3, #1792
 4298 0098 3AD9     		bls	.L331
2190:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
 4299              		.loc 1 2190 5 is_stmt 1 view .LVU1384
 4300 009a 2268     		ldr	r2, [r4]
 4301 009c 5368     		ldr	r3, [r2, #4]
 4302 009e 23F48053 		bic	r3, r3, #4096
 4303 00a2 5360     		str	r3, [r2, #4]
 4304              	.L332:
2230:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 4305              		.loc 1 2230 3 view .LVU1385
2230:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 4306              		.loc 1 2230 11 is_stmt 0 view .LVU1386
 4307 00a4 94F85D30 		ldrb	r3, [r4, #93]	@ zero_extendqisi2
 4308 00a8 DBB2     		uxtb	r3, r3
2230:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 4309              		.loc 1 2230 6 view .LVU1387
 4310 00aa 042B     		cmp	r3, #4
 4311 00ac 7BD0     		beq	.L352
2239:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     hspi->hdmarx->XferCpltCallback     = SPI_DMATransmitReceiveCplt;
 4312              		.loc 1 2239 5 is_stmt 1 view .LVU1388
2239:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     hspi->hdmarx->XferCpltCallback     = SPI_DMATransmitReceiveCplt;
 4313              		.loc 1 2239 9 is_stmt 0 view .LVU1389
 4314 00ae A36D     		ldr	r3, [r4, #88]
2239:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     hspi->hdmarx->XferCpltCallback     = SPI_DMATransmitReceiveCplt;
 4315              		.loc 1 2239 40 view .LVU1390
 4316 00b0 624A     		ldr	r2, .L355
 4317 00b2 1A63     		str	r2, [r3, #48]
2240:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
 4318              		.loc 1 2240 5 is_stmt 1 view .LVU1391
2240:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
 4319              		.loc 1 2240 9 is_stmt 0 view .LVU1392
 4320 00b4 A36D     		ldr	r3, [r4, #88]
2240:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
 4321              		.loc 1 2240 40 view .LVU1393
 4322 00b6 624A     		ldr	r2, .L355+4
 4323 00b8 DA62     		str	r2, [r3, #44]
 4324              	.L337:
2244:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 4325              		.loc 1 2244 3 is_stmt 1 view .LVU1394
2244:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 4326              		.loc 1 2244 7 is_stmt 0 view .LVU1395
 4327 00ba A36D     		ldr	r3, [r4, #88]
2244:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 4328              		.loc 1 2244 35 view .LVU1396
 4329 00bc 614A     		ldr	r2, .L355+8
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 175


 4330 00be 5A63     		str	r2, [r3, #52]
2247:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 4331              		.loc 1 2247 3 is_stmt 1 view .LVU1397
2247:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 4332              		.loc 1 2247 7 is_stmt 0 view .LVU1398
 4333 00c0 A36D     		ldr	r3, [r4, #88]
2247:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 4334              		.loc 1 2247 35 view .LVU1399
 4335 00c2 0022     		movs	r2, #0
 4336 00c4 9A63     		str	r2, [r3, #56]
2250:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****                                  hspi->RxXferCount))
 4337              		.loc 1 2250 3 is_stmt 1 view .LVU1400
2250:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****                                  hspi->RxXferCount))
 4338              		.loc 1 2250 63 is_stmt 0 view .LVU1401
 4339 00c6 2168     		ldr	r1, [r4]
2251:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 4340              		.loc 1 2251 38 view .LVU1402
 4341 00c8 B4F84630 		ldrh	r3, [r4, #70]
2250:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****                                  hspi->RxXferCount))
 4342              		.loc 1 2250 17 view .LVU1403
 4343 00cc 9BB2     		uxth	r3, r3
 4344 00ce 226C     		ldr	r2, [r4, #64]
 4345 00d0 0C31     		adds	r1, r1, #12
 4346 00d2 A06D     		ldr	r0, [r4, #88]
 4347 00d4 FFF7FEFF 		bl	HAL_DMA_Start_IT
 4348              	.LVL251:
2250:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****                                  hspi->RxXferCount))
 4349              		.loc 1 2250 6 view .LVU1404
 4350 00d8 0028     		cmp	r0, #0
 4351 00da 6BD0     		beq	.L338
2254:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     errorcode = HAL_ERROR;
 4352              		.loc 1 2254 5 is_stmt 1 view .LVU1405
 4353 00dc 236E     		ldr	r3, [r4, #96]
 4354 00de 43F01003 		orr	r3, r3, #16
 4355 00e2 2366     		str	r3, [r4, #96]
2255:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 4356              		.loc 1 2255 5 view .LVU1406
 4357              	.LVL252:
2257:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     goto error;
 4358              		.loc 1 2257 5 view .LVU1407
2257:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     goto error;
 4359              		.loc 1 2257 17 is_stmt 0 view .LVU1408
 4360 00e4 0120     		movs	r0, #1
 4361 00e6 84F85D00 		strb	r0, [r4, #93]
2258:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
 4362              		.loc 1 2258 5 is_stmt 1 view .LVU1409
 4363 00ea 97E0     		b	.L329
 4364              	.LVL253:
 4365              	.L349:
2130:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   assert_param(IS_SPI_DMA_HANDLE(hspi->hdmatx));
 4366              		.loc 1 2130 3 is_stmt 0 discriminator 1 view .LVU1410
 4367 00ec 40F65201 		movw	r1, #2130
 4368              	.LVL254:
2130:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   assert_param(IS_SPI_DMA_HANDLE(hspi->hdmatx));
 4369              		.loc 1 2130 3 discriminator 1 view .LVU1411
 4370 00f0 5548     		ldr	r0, .L355+12
 4371              	.LVL255:
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 176


2130:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   assert_param(IS_SPI_DMA_HANDLE(hspi->hdmatx));
 4372              		.loc 1 2130 3 discriminator 1 view .LVU1412
 4373 00f2 FFF7FEFF 		bl	assert_failed
 4374              	.LVL256:
2130:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   assert_param(IS_SPI_DMA_HANDLE(hspi->hdmatx));
 4375              		.loc 1 2130 3 discriminator 1 view .LVU1413
 4376 00f6 8BE7     		b	.L324
 4377              	.L350:
2131:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 4378              		.loc 1 2131 3 discriminator 1 view .LVU1414
 4379 00f8 40F65301 		movw	r1, #2131
 4380 00fc 5248     		ldr	r0, .L355+12
 4381 00fe FFF7FEFF 		bl	assert_failed
 4382              	.LVL257:
 4383 0102 88E7     		b	.L325
 4384              	.L351:
2134:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 4385              		.loc 1 2134 3 discriminator 1 view .LVU1415
 4386 0104 40F65601 		movw	r1, #2134
 4387 0108 4F48     		ldr	r0, .L355+12
 4388 010a FFF7FEFF 		bl	assert_failed
 4389              	.LVL258:
 4390 010e 85E7     		b	.L326
 4391              	.L331:
2195:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 4392              		.loc 1 2195 5 is_stmt 1 view .LVU1416
 4393 0110 2268     		ldr	r2, [r4]
 4394 0112 5368     		ldr	r3, [r2, #4]
 4395 0114 43F48053 		orr	r3, r3, #4096
 4396 0118 5360     		str	r3, [r2, #4]
2197:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
 4397              		.loc 1 2197 5 view .LVU1417
2197:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
 4398              		.loc 1 2197 13 is_stmt 0 view .LVU1418
 4399 011a 636D     		ldr	r3, [r4, #84]
2197:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
 4400              		.loc 1 2197 27 view .LVU1419
 4401 011c 9B69     		ldr	r3, [r3, #24]
2197:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
 4402              		.loc 1 2197 8 view .LVU1420
 4403 011e B3F5806F 		cmp	r3, #1024
 4404 0122 1AD0     		beq	.L353
 4405              	.L333:
2211:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
 4406              		.loc 1 2211 5 is_stmt 1 view .LVU1421
2211:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
 4407              		.loc 1 2211 13 is_stmt 0 view .LVU1422
 4408 0124 A36D     		ldr	r3, [r4, #88]
2211:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
 4409              		.loc 1 2211 27 view .LVU1423
 4410 0126 9B69     		ldr	r3, [r3, #24]
2211:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
 4411              		.loc 1 2211 8 view .LVU1424
 4412 0128 B3F5806F 		cmp	r3, #1024
 4413 012c BAD1     		bne	.L332
2214:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 4414              		.loc 1 2214 7 is_stmt 1 view .LVU1425
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 177


 4415 012e 2268     		ldr	r2, [r4]
 4416 0130 5368     		ldr	r3, [r2, #4]
 4417 0132 23F48053 		bic	r3, r3, #4096
 4418 0136 5360     		str	r3, [r2, #4]
2216:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       {
 4419              		.loc 1 2216 7 view .LVU1426
2216:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       {
 4420              		.loc 1 2216 16 is_stmt 0 view .LVU1427
 4421 0138 B4F84630 		ldrh	r3, [r4, #70]
2216:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       {
 4422              		.loc 1 2216 10 view .LVU1428
 4423 013c 13F0010F 		tst	r3, #1
 4424 0140 24D1     		bne	.L335
2218:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         hspi->RxXferCount = hspi->RxXferCount >> 1U;
 4425              		.loc 1 2218 9 is_stmt 1 view .LVU1429
 4426 0142 2268     		ldr	r2, [r4]
 4427 0144 5368     		ldr	r3, [r2, #4]
 4428 0146 23F40053 		bic	r3, r3, #8192
 4429 014a 5360     		str	r3, [r2, #4]
2219:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       }
 4430              		.loc 1 2219 9 view .LVU1430
2219:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       }
 4431              		.loc 1 2219 33 is_stmt 0 view .LVU1431
 4432 014c B4F84630 		ldrh	r3, [r4, #70]
2219:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       }
 4433              		.loc 1 2219 27 view .LVU1432
 4434 0150 C3F34E03 		ubfx	r3, r3, #1, #15
 4435 0154 A4F84630 		strh	r3, [r4, #70]	@ movhi
 4436 0158 A4E7     		b	.L332
 4437              	.L353:
2199:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       {
 4438              		.loc 1 2199 7 is_stmt 1 view .LVU1433
2199:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       {
 4439              		.loc 1 2199 16 is_stmt 0 view .LVU1434
 4440 015a A38F     		ldrh	r3, [r4, #60]
2199:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       {
 4441              		.loc 1 2199 10 view .LVU1435
 4442 015c 13F0010F 		tst	r3, #1
 4443 0160 09D1     		bne	.L334
2201:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         hspi->TxXferCount = hspi->TxXferCount >> 1U;
 4444              		.loc 1 2201 9 is_stmt 1 view .LVU1436
 4445 0162 2268     		ldr	r2, [r4]
 4446 0164 5368     		ldr	r3, [r2, #4]
 4447 0166 23F48043 		bic	r3, r3, #16384
 4448 016a 5360     		str	r3, [r2, #4]
2202:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       }
 4449              		.loc 1 2202 9 view .LVU1437
2202:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       }
 4450              		.loc 1 2202 33 is_stmt 0 view .LVU1438
 4451 016c E38F     		ldrh	r3, [r4, #62]
2202:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       }
 4452              		.loc 1 2202 27 view .LVU1439
 4453 016e C3F34E03 		ubfx	r3, r3, #1, #15
 4454 0172 E387     		strh	r3, [r4, #62]	@ movhi
 4455 0174 D6E7     		b	.L333
 4456              	.L334:
2206:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         hspi->TxXferCount = (hspi->TxXferCount >> 1U) + 1U;
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 178


 4457              		.loc 1 2206 9 is_stmt 1 view .LVU1440
 4458 0176 2268     		ldr	r2, [r4]
 4459 0178 5368     		ldr	r3, [r2, #4]
 4460 017a 43F48043 		orr	r3, r3, #16384
 4461 017e 5360     		str	r3, [r2, #4]
2207:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       }
 4462              		.loc 1 2207 9 view .LVU1441
2207:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       }
 4463              		.loc 1 2207 34 is_stmt 0 view .LVU1442
 4464 0180 E38F     		ldrh	r3, [r4, #62]
2207:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       }
 4465              		.loc 1 2207 55 view .LVU1443
 4466 0182 C3F34E03 		ubfx	r3, r3, #1, #15
 4467 0186 0133     		adds	r3, r3, #1
2207:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       }
 4468              		.loc 1 2207 27 view .LVU1444
 4469 0188 E387     		strh	r3, [r4, #62]	@ movhi
 4470 018a CBE7     		b	.L333
 4471              	.L335:
2223:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         hspi->RxXferCount = (hspi->RxXferCount >> 1U) + 1U;
 4472              		.loc 1 2223 9 is_stmt 1 view .LVU1445
 4473 018c 2268     		ldr	r2, [r4]
 4474 018e 5368     		ldr	r3, [r2, #4]
 4475 0190 43F40053 		orr	r3, r3, #8192
 4476 0194 5360     		str	r3, [r2, #4]
2224:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       }
 4477              		.loc 1 2224 9 view .LVU1446
2224:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       }
 4478              		.loc 1 2224 34 is_stmt 0 view .LVU1447
 4479 0196 B4F84630 		ldrh	r3, [r4, #70]
2224:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       }
 4480              		.loc 1 2224 55 view .LVU1448
 4481 019a C3F34E03 		ubfx	r3, r3, #1, #15
 4482 019e 0133     		adds	r3, r3, #1
2224:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       }
 4483              		.loc 1 2224 27 view .LVU1449
 4484 01a0 A4F84630 		strh	r3, [r4, #70]	@ movhi
 4485 01a4 7EE7     		b	.L332
 4486              	.L352:
2233:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     hspi->hdmarx->XferCpltCallback     = SPI_DMAReceiveCplt;
 4487              		.loc 1 2233 5 is_stmt 1 view .LVU1450
2233:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     hspi->hdmarx->XferCpltCallback     = SPI_DMAReceiveCplt;
 4488              		.loc 1 2233 9 is_stmt 0 view .LVU1451
 4489 01a6 A36D     		ldr	r3, [r4, #88]
2233:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     hspi->hdmarx->XferCpltCallback     = SPI_DMAReceiveCplt;
 4490              		.loc 1 2233 40 view .LVU1452
 4491 01a8 284A     		ldr	r2, .L355+16
 4492 01aa 1A63     		str	r2, [r3, #48]
2234:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
 4493              		.loc 1 2234 5 is_stmt 1 view .LVU1453
2234:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
 4494              		.loc 1 2234 9 is_stmt 0 view .LVU1454
 4495 01ac A36D     		ldr	r3, [r4, #88]
2234:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
 4496              		.loc 1 2234 40 view .LVU1455
 4497 01ae 284A     		ldr	r2, .L355+20
 4498 01b0 DA62     		str	r2, [r3, #44]
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 179


 4499 01b2 82E7     		b	.L337
 4500              	.L338:
2262:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 4501              		.loc 1 2262 3 is_stmt 1 view .LVU1456
 4502 01b4 2268     		ldr	r2, [r4]
 4503 01b6 5368     		ldr	r3, [r2, #4]
 4504 01b8 43F00103 		orr	r3, r3, #1
 4505 01bc 5360     		str	r3, [r2, #4]
2266:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->hdmatx->XferCpltCallback     = NULL;
 4506              		.loc 1 2266 3 view .LVU1457
2266:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->hdmatx->XferCpltCallback     = NULL;
 4507              		.loc 1 2266 7 is_stmt 0 view .LVU1458
 4508 01be 626D     		ldr	r2, [r4, #84]
2266:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->hdmatx->XferCpltCallback     = NULL;
 4509              		.loc 1 2266 38 view .LVU1459
 4510 01c0 0023     		movs	r3, #0
 4511 01c2 1363     		str	r3, [r2, #48]
2267:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->hdmatx->XferErrorCallback    = NULL;
 4512              		.loc 1 2267 3 is_stmt 1 view .LVU1460
2267:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->hdmatx->XferErrorCallback    = NULL;
 4513              		.loc 1 2267 7 is_stmt 0 view .LVU1461
 4514 01c4 626D     		ldr	r2, [r4, #84]
2267:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->hdmatx->XferErrorCallback    = NULL;
 4515              		.loc 1 2267 38 view .LVU1462
 4516 01c6 D362     		str	r3, [r2, #44]
2268:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->hdmatx->XferAbortCallback    = NULL;
 4517              		.loc 1 2268 3 is_stmt 1 view .LVU1463
2268:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->hdmatx->XferAbortCallback    = NULL;
 4518              		.loc 1 2268 7 is_stmt 0 view .LVU1464
 4519 01c8 626D     		ldr	r2, [r4, #84]
2268:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->hdmatx->XferAbortCallback    = NULL;
 4520              		.loc 1 2268 38 view .LVU1465
 4521 01ca 5363     		str	r3, [r2, #52]
2269:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 4522              		.loc 1 2269 3 is_stmt 1 view .LVU1466
2269:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 4523              		.loc 1 2269 7 is_stmt 0 view .LVU1467
 4524 01cc 626D     		ldr	r2, [r4, #84]
2269:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 4525              		.loc 1 2269 38 view .LVU1468
 4526 01ce 9363     		str	r3, [r2, #56]
2272:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****                                  hspi->TxXferCount))
 4527              		.loc 1 2272 3 is_stmt 1 view .LVU1469
2272:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****                                  hspi->TxXferCount))
 4528              		.loc 1 2272 91 is_stmt 0 view .LVU1470
 4529 01d0 2268     		ldr	r2, [r4]
2273:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 4530              		.loc 1 2273 38 view .LVU1471
 4531 01d2 E38F     		ldrh	r3, [r4, #62]
2272:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****                                  hspi->TxXferCount))
 4532              		.loc 1 2272 17 view .LVU1472
 4533 01d4 9BB2     		uxth	r3, r3
 4534 01d6 0C32     		adds	r2, r2, #12
 4535 01d8 A16B     		ldr	r1, [r4, #56]
 4536 01da 606D     		ldr	r0, [r4, #84]
 4537 01dc FFF7FEFF 		bl	HAL_DMA_Start_IT
 4538              	.LVL259:
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 180


2272:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****                                  hspi->TxXferCount))
 4539              		.loc 1 2272 6 view .LVU1473
 4540 01e0 98B9     		cbnz	r0, .L354
2284:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 4541              		.loc 1 2284 3 is_stmt 1 view .LVU1474
2284:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 4542              		.loc 1 2284 12 is_stmt 0 view .LVU1475
 4543 01e2 2368     		ldr	r3, [r4]
2284:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 4544              		.loc 1 2284 22 view .LVU1476
 4545 01e4 1A68     		ldr	r2, [r3]
2284:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 4546              		.loc 1 2284 6 view .LVU1477
 4547 01e6 12F0400F 		tst	r2, #64
 4548 01ea 03D1     		bne	.L340
2287:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
 4549              		.loc 1 2287 5 is_stmt 1 view .LVU1478
 4550 01ec 1A68     		ldr	r2, [r3]
 4551 01ee 42F04002 		orr	r2, r2, #64
 4552 01f2 1A60     		str	r2, [r3]
 4553              	.L340:
2290:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 4554              		.loc 1 2290 3 view .LVU1479
 4555 01f4 2268     		ldr	r2, [r4]
 4556 01f6 5368     		ldr	r3, [r2, #4]
 4557 01f8 43F02003 		orr	r3, r3, #32
 4558 01fc 5360     		str	r3, [r2, #4]
2293:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 4559              		.loc 1 2293 3 view .LVU1480
 4560 01fe 2268     		ldr	r2, [r4]
 4561 0200 5368     		ldr	r3, [r2, #4]
 4562 0202 43F00203 		orr	r3, r3, #2
 4563 0206 5360     		str	r3, [r2, #4]
 4564 0208 08E0     		b	.L329
 4565              	.L354:
2276:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     errorcode = HAL_ERROR;
 4566              		.loc 1 2276 5 view .LVU1481
 4567 020a 236E     		ldr	r3, [r4, #96]
 4568 020c 43F01003 		orr	r3, r3, #16
 4569 0210 2366     		str	r3, [r4, #96]
2277:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 4570              		.loc 1 2277 5 view .LVU1482
 4571              	.LVL260:
2279:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     goto error;
 4572              		.loc 1 2279 5 view .LVU1483
2279:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     goto error;
 4573              		.loc 1 2279 17 is_stmt 0 view .LVU1484
 4574 0212 0120     		movs	r0, #1
 4575 0214 84F85D00 		strb	r0, [r4, #93]
2280:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
 4576              		.loc 1 2280 5 is_stmt 1 view .LVU1485
 4577 0218 00E0     		b	.L329
 4578              	.LVL261:
 4579              	.L342:
2146:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     goto error;
 4580              		.loc 1 2146 15 is_stmt 0 view .LVU1486
 4581 021a 0220     		movs	r0, #2
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 181


 4582              	.LVL262:
 4583              	.L329:
2297:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   return errorcode;
 4584              		.loc 1 2297 3 is_stmt 1 view .LVU1487
2297:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   return errorcode;
 4585              		.loc 1 2297 3 view .LVU1488
 4586 021c 0023     		movs	r3, #0
 4587 021e 84F85C30 		strb	r3, [r4, #92]
2297:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   return errorcode;
 4588              		.loc 1 2297 3 view .LVU1489
2298:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** }
 4589              		.loc 1 2298 3 view .LVU1490
 4590              	.LVL263:
 4591              	.L327:
2299:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 4592              		.loc 1 2299 1 is_stmt 0 view .LVU1491
 4593 0222 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 4594              	.LVL264:
 4595              	.L343:
2146:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     goto error;
 4596              		.loc 1 2146 15 view .LVU1492
 4597 0224 0220     		movs	r0, #2
 4598 0226 F9E7     		b	.L329
 4599              	.L344:
 4600 0228 0220     		movs	r0, #2
 4601 022a F7E7     		b	.L329
 4602              	.L345:
2152:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     goto error;
 4603              		.loc 1 2152 15 view .LVU1493
 4604 022c 0120     		movs	r0, #1
 4605 022e F5E7     		b	.L329
 4606              	.L346:
 4607 0230 0120     		movs	r0, #1
 4608 0232 F3E7     		b	.L329
 4609              	.L347:
 4610 0234 0120     		movs	r0, #1
 4611 0236 F1E7     		b	.L329
 4612              	.LVL265:
 4613              	.L341:
2137:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 4614              		.loc 1 2137 3 view .LVU1494
 4615 0238 0220     		movs	r0, #2
 4616 023a F2E7     		b	.L327
 4617              	.L356:
 4618              		.align	2
 4619              	.L355:
 4620 023c 00000000 		.word	SPI_DMAHalfTransmitReceiveCplt
 4621 0240 00000000 		.word	SPI_DMATransmitReceiveCplt
 4622 0244 00000000 		.word	SPI_DMAError
 4623 0248 00000000 		.word	.LC0
 4624 024c 00000000 		.word	SPI_DMAHalfReceiveCplt
 4625 0250 00000000 		.word	SPI_DMAReceiveCplt
 4626              		.cfi_endproc
 4627              	.LFE144:
 4629              		.section	.text.HAL_SPI_Receive_DMA,"ax",%progbits
 4630              		.align	1
 4631              		.global	HAL_SPI_Receive_DMA
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 182


 4632              		.syntax unified
 4633              		.thumb
 4634              		.thumb_func
 4635              		.fpu fpv4-sp-d16
 4637              	HAL_SPI_Receive_DMA:
 4638              	.LVL266:
 4639              	.LFB143:
1978:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   HAL_StatusTypeDef errorcode = HAL_OK;
 4640              		.loc 1 1978 1 is_stmt 1 view -0
 4641              		.cfi_startproc
 4642              		@ args = 0, pretend = 0, frame = 0
 4643              		@ frame_needed = 0, uses_anonymous_args = 0
1978:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   HAL_StatusTypeDef errorcode = HAL_OK;
 4644              		.loc 1 1978 1 is_stmt 0 view .LVU1496
 4645 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 4646              	.LCFI38:
 4647              		.cfi_def_cfa_offset 24
 4648              		.cfi_offset 3, -24
 4649              		.cfi_offset 4, -20
 4650              		.cfi_offset 5, -16
 4651              		.cfi_offset 6, -12
 4652              		.cfi_offset 7, -8
 4653              		.cfi_offset 14, -4
 4654 0002 0446     		mov	r4, r0
 4655 0004 0E46     		mov	r6, r1
 4656 0006 1746     		mov	r7, r2
1979:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 4657              		.loc 1 1979 3 is_stmt 1 view .LVU1497
 4658              	.LVL267:
1982:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 4659              		.loc 1 1982 3 view .LVU1498
 4660 0008 806D     		ldr	r0, [r0, #88]
 4661              	.LVL268:
1982:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 4662              		.loc 1 1982 3 is_stmt 0 view .LVU1499
 4663 000a 0028     		cmp	r0, #0
 4664 000c 65D0     		beq	.L372
 4665              	.LVL269:
 4666              	.L358:
1984:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 4667              		.loc 1 1984 3 is_stmt 1 view .LVU1500
1984:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 4668              		.loc 1 1984 18 is_stmt 0 view .LVU1501
 4669 000e A368     		ldr	r3, [r4, #8]
1984:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 4670              		.loc 1 1984 6 view .LVU1502
 4671 0010 1BB9     		cbnz	r3, .L359
1984:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 4672              		.loc 1 1984 68 discriminator 1 view .LVU1503
 4673 0012 6268     		ldr	r2, [r4, #4]
1984:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 4674              		.loc 1 1984 54 discriminator 1 view .LVU1504
 4675 0014 B2F5827F 		cmp	r2, #260
 4676 0018 65D0     		beq	.L373
 4677              	.L359:
1996:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 4678              		.loc 1 1996 3 is_stmt 1 view .LVU1505
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 183


1996:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 4679              		.loc 1 1996 3 view .LVU1506
 4680 001a 94F85C20 		ldrb	r2, [r4, #92]	@ zero_extendqisi2
 4681 001e 012A     		cmp	r2, #1
 4682 0020 00F0BA80 		beq	.L369
1996:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 4683              		.loc 1 1996 3 discriminator 2 view .LVU1507
 4684 0024 0122     		movs	r2, #1
 4685 0026 84F85C20 		strb	r2, [r4, #92]
1996:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 4686              		.loc 1 1996 3 discriminator 2 view .LVU1508
1998:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 4687              		.loc 1 1998 3 discriminator 2 view .LVU1509
1998:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 4688              		.loc 1 1998 11 is_stmt 0 discriminator 2 view .LVU1510
 4689 002a 94F85D50 		ldrb	r5, [r4, #93]	@ zero_extendqisi2
 4690 002e EDB2     		uxtb	r5, r5
1998:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 4691              		.loc 1 1998 6 discriminator 2 view .LVU1511
 4692 0030 9542     		cmp	r5, r2
 4693 0032 40F0AB80 		bne	.L370
2004:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 4694              		.loc 1 2004 3 is_stmt 1 view .LVU1512
2004:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 4695              		.loc 1 2004 6 is_stmt 0 view .LVU1513
 4696 0036 002E     		cmp	r6, #0
 4697 0038 00F0A980 		beq	.L362
2004:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 4698              		.loc 1 2004 23 discriminator 1 view .LVU1514
 4699 003c 002F     		cmp	r7, #0
 4700 003e 00F0A680 		beq	.L362
2011:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->ErrorCode   = HAL_SPI_ERROR_NONE;
 4701              		.loc 1 2011 3 is_stmt 1 view .LVU1515
2011:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->ErrorCode   = HAL_SPI_ERROR_NONE;
 4702              		.loc 1 2011 21 is_stmt 0 view .LVU1516
 4703 0042 0422     		movs	r2, #4
 4704 0044 84F85D20 		strb	r2, [r4, #93]
2012:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->pRxBuffPtr  = (uint8_t *)pData;
 4705              		.loc 1 2012 3 is_stmt 1 view .LVU1517
2012:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->pRxBuffPtr  = (uint8_t *)pData;
 4706              		.loc 1 2012 21 is_stmt 0 view .LVU1518
 4707 0048 0022     		movs	r2, #0
 4708 004a 2266     		str	r2, [r4, #96]
2013:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->RxXferSize  = Size;
 4709              		.loc 1 2013 3 is_stmt 1 view .LVU1519
2013:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->RxXferSize  = Size;
 4710              		.loc 1 2013 21 is_stmt 0 view .LVU1520
 4711 004c 2664     		str	r6, [r4, #64]
2014:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->RxXferCount = Size;
 4712              		.loc 1 2014 3 is_stmt 1 view .LVU1521
2014:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->RxXferCount = Size;
 4713              		.loc 1 2014 21 is_stmt 0 view .LVU1522
 4714 004e A4F84470 		strh	r7, [r4, #68]	@ movhi
2015:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 4715              		.loc 1 2015 3 is_stmt 1 view .LVU1523
2015:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 4716              		.loc 1 2015 21 is_stmt 0 view .LVU1524
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 184


 4717 0052 A4F84670 		strh	r7, [r4, #70]	@ movhi
2018:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->TxISR       = NULL;
 4718              		.loc 1 2018 3 is_stmt 1 view .LVU1525
2018:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->TxISR       = NULL;
 4719              		.loc 1 2018 21 is_stmt 0 view .LVU1526
 4720 0056 E264     		str	r2, [r4, #76]
2019:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->TxXferSize  = 0U;
 4721              		.loc 1 2019 3 is_stmt 1 view .LVU1527
2019:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->TxXferSize  = 0U;
 4722              		.loc 1 2019 21 is_stmt 0 view .LVU1528
 4723 0058 2265     		str	r2, [r4, #80]
2020:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->TxXferCount = 0U;
 4724              		.loc 1 2020 3 is_stmt 1 view .LVU1529
2020:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->TxXferCount = 0U;
 4725              		.loc 1 2020 21 is_stmt 0 view .LVU1530
 4726 005a A287     		strh	r2, [r4, #60]	@ movhi
2021:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 4727              		.loc 1 2021 3 is_stmt 1 view .LVU1531
2021:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 4728              		.loc 1 2021 21 is_stmt 0 view .LVU1532
 4729 005c E287     		strh	r2, [r4, #62]	@ movhi
2024:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 4730              		.loc 1 2024 3 is_stmt 1 view .LVU1533
2024:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 4731              		.loc 1 2024 6 is_stmt 0 view .LVU1534
 4732 005e B3F5004F 		cmp	r3, #32768
 4733 0062 53D0     		beq	.L374
 4734              	.L363:
2040:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if (hspi->Init.DataSize > SPI_DATASIZE_8BIT)
 4735              		.loc 1 2040 3 is_stmt 1 view .LVU1535
 4736 0064 2268     		ldr	r2, [r4]
 4737 0066 5368     		ldr	r3, [r2, #4]
 4738 0068 23F40053 		bic	r3, r3, #8192
 4739 006c 5360     		str	r3, [r2, #4]
2041:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 4740              		.loc 1 2041 3 view .LVU1536
2041:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 4741              		.loc 1 2041 17 is_stmt 0 view .LVU1537
 4742 006e E368     		ldr	r3, [r4, #12]
2041:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 4743              		.loc 1 2041 6 view .LVU1538
 4744 0070 B3F5E06F 		cmp	r3, #1792
 4745 0074 55D9     		bls	.L364
2044:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
 4746              		.loc 1 2044 5 is_stmt 1 view .LVU1539
 4747 0076 2268     		ldr	r2, [r4]
 4748 0078 5368     		ldr	r3, [r2, #4]
 4749 007a 23F48053 		bic	r3, r3, #4096
 4750 007e 5360     		str	r3, [r2, #4]
 4751              	.L365:
2070:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 4752              		.loc 1 2070 3 view .LVU1540
2070:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 4753              		.loc 1 2070 7 is_stmt 0 view .LVU1541
 4754 0080 A36D     		ldr	r3, [r4, #88]
2070:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 4755              		.loc 1 2070 38 view .LVU1542
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 185


 4756 0082 464A     		ldr	r2, .L377
 4757 0084 1A63     		str	r2, [r3, #48]
2073:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 4758              		.loc 1 2073 3 is_stmt 1 view .LVU1543
2073:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 4759              		.loc 1 2073 7 is_stmt 0 view .LVU1544
 4760 0086 A36D     		ldr	r3, [r4, #88]
2073:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 4761              		.loc 1 2073 34 view .LVU1545
 4762 0088 454A     		ldr	r2, .L377+4
 4763 008a DA62     		str	r2, [r3, #44]
2076:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 4764              		.loc 1 2076 3 is_stmt 1 view .LVU1546
2076:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 4765              		.loc 1 2076 7 is_stmt 0 view .LVU1547
 4766 008c A36D     		ldr	r3, [r4, #88]
2076:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 4767              		.loc 1 2076 35 view .LVU1548
 4768 008e 454A     		ldr	r2, .L377+8
 4769 0090 5A63     		str	r2, [r3, #52]
2079:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 4770              		.loc 1 2079 3 is_stmt 1 view .LVU1549
2079:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 4771              		.loc 1 2079 7 is_stmt 0 view .LVU1550
 4772 0092 A36D     		ldr	r3, [r4, #88]
2079:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 4773              		.loc 1 2079 35 view .LVU1551
 4774 0094 0022     		movs	r2, #0
 4775 0096 9A63     		str	r2, [r3, #56]
2082:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****                                  hspi->RxXferCount))
 4776              		.loc 1 2082 3 is_stmt 1 view .LVU1552
2082:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****                                  hspi->RxXferCount))
 4777              		.loc 1 2082 63 is_stmt 0 view .LVU1553
 4778 0098 2168     		ldr	r1, [r4]
2083:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 4779              		.loc 1 2083 38 view .LVU1554
 4780 009a B4F84630 		ldrh	r3, [r4, #70]
2082:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****                                  hspi->RxXferCount))
 4781              		.loc 1 2082 17 view .LVU1555
 4782 009e 9BB2     		uxth	r3, r3
 4783 00a0 226C     		ldr	r2, [r4, #64]
 4784 00a2 0C31     		adds	r1, r1, #12
 4785 00a4 A06D     		ldr	r0, [r4, #88]
 4786 00a6 FFF7FEFF 		bl	HAL_DMA_Start_IT
 4787              	.LVL270:
2082:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****                                  hspi->RxXferCount))
 4788              		.loc 1 2082 6 view .LVU1556
 4789 00aa 0146     		mov	r1, r0
 4790 00ac 0028     		cmp	r0, #0
 4791 00ae 65D1     		bne	.L375
2094:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 4792              		.loc 1 2094 3 is_stmt 1 view .LVU1557
2094:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 4793              		.loc 1 2094 12 is_stmt 0 view .LVU1558
 4794 00b0 2368     		ldr	r3, [r4]
2094:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 4795              		.loc 1 2094 22 view .LVU1559
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 186


 4796 00b2 1A68     		ldr	r2, [r3]
2094:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 4797              		.loc 1 2094 6 view .LVU1560
 4798 00b4 12F0400F 		tst	r2, #64
 4799 00b8 03D1     		bne	.L368
2097:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
 4800              		.loc 1 2097 5 is_stmt 1 view .LVU1561
 4801 00ba 1A68     		ldr	r2, [r3]
 4802 00bc 42F04002 		orr	r2, r2, #64
 4803 00c0 1A60     		str	r2, [r3]
 4804              	.L368:
2101:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 4805              		.loc 1 2101 3 view .LVU1562
 4806 00c2 2268     		ldr	r2, [r4]
 4807 00c4 5368     		ldr	r3, [r2, #4]
 4808 00c6 43F02003 		orr	r3, r3, #32
 4809 00ca 5360     		str	r3, [r2, #4]
2104:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 4810              		.loc 1 2104 3 view .LVU1563
 4811 00cc 2268     		ldr	r2, [r4]
 4812 00ce 5368     		ldr	r3, [r2, #4]
 4813 00d0 43F00103 		orr	r3, r3, #1
 4814 00d4 5360     		str	r3, [r2, #4]
1979:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 4815              		.loc 1 1979 21 is_stmt 0 view .LVU1564
 4816 00d6 0D46     		mov	r5, r1
 4817 00d8 59E0     		b	.L362
 4818              	.LVL271:
 4819              	.L372:
1982:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 4820              		.loc 1 1982 3 discriminator 1 view .LVU1565
 4821 00da 40F2BE71 		movw	r1, #1982
 4822              	.LVL272:
1982:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 4823              		.loc 1 1982 3 discriminator 1 view .LVU1566
 4824 00de 3248     		ldr	r0, .L377+12
 4825 00e0 FFF7FEFF 		bl	assert_failed
 4826              	.LVL273:
1982:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 4827              		.loc 1 1982 3 discriminator 1 view .LVU1567
 4828 00e4 93E7     		b	.L358
 4829              	.L373:
1986:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 4830              		.loc 1 1986 5 is_stmt 1 view .LVU1568
1986:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 4831              		.loc 1 1986 17 is_stmt 0 view .LVU1569
 4832 00e6 0423     		movs	r3, #4
 4833 00e8 84F85D30 		strb	r3, [r4, #93]
1989:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 4834              		.loc 1 1989 5 is_stmt 1 view .LVU1570
 4835 00ec 636D     		ldr	r3, [r4, #84]
 4836 00ee 3BB1     		cbz	r3, .L376
 4837              	.L360:
1992:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
 4838              		.loc 1 1992 5 view .LVU1571
1992:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
 4839              		.loc 1 1992 12 is_stmt 0 view .LVU1572
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 187


 4840 00f0 3B46     		mov	r3, r7
 4841 00f2 3246     		mov	r2, r6
 4842 00f4 3146     		mov	r1, r6
 4843 00f6 2046     		mov	r0, r4
 4844 00f8 FFF7FEFF 		bl	HAL_SPI_TransmitReceive_DMA
 4845              	.LVL274:
 4846 00fc 0546     		mov	r5, r0
 4847 00fe 49E0     		b	.L361
 4848              	.L376:
1989:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 4849              		.loc 1 1989 5 discriminator 1 view .LVU1573
 4850 0100 40F2C571 		movw	r1, #1989
 4851 0104 2848     		ldr	r0, .L377+12
 4852 0106 FFF7FEFF 		bl	assert_failed
 4853              	.LVL275:
 4854 010a F1E7     		b	.L360
 4855              	.L374:
2027:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     SPI_1LINE_RX(hspi);
 4856              		.loc 1 2027 5 is_stmt 1 view .LVU1574
 4857 010c 2268     		ldr	r2, [r4]
 4858 010e 1368     		ldr	r3, [r2]
 4859 0110 23F04003 		bic	r3, r3, #64
 4860 0114 1360     		str	r3, [r2]
2028:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
 4861              		.loc 1 2028 5 view .LVU1575
 4862 0116 2268     		ldr	r2, [r4]
 4863 0118 1368     		ldr	r3, [r2]
 4864 011a 23F48043 		bic	r3, r3, #16384
 4865 011e 1360     		str	r3, [r2]
 4866 0120 A0E7     		b	.L363
 4867              	.L364:
2049:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 4868              		.loc 1 2049 5 view .LVU1576
 4869 0122 2268     		ldr	r2, [r4]
 4870 0124 5368     		ldr	r3, [r2, #4]
 4871 0126 43F48053 		orr	r3, r3, #4096
 4872 012a 5360     		str	r3, [r2, #4]
2051:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
 4873              		.loc 1 2051 5 view .LVU1577
2051:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
 4874              		.loc 1 2051 13 is_stmt 0 view .LVU1578
 4875 012c A36D     		ldr	r3, [r4, #88]
2051:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
 4876              		.loc 1 2051 27 view .LVU1579
 4877 012e 9B69     		ldr	r3, [r3, #24]
2051:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
 4878              		.loc 1 2051 8 view .LVU1580
 4879 0130 B3F5806F 		cmp	r3, #1024
 4880 0134 A4D1     		bne	.L365
2054:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 4881              		.loc 1 2054 7 is_stmt 1 view .LVU1581
 4882 0136 2268     		ldr	r2, [r4]
 4883 0138 5368     		ldr	r3, [r2, #4]
 4884 013a 23F48053 		bic	r3, r3, #4096
 4885 013e 5360     		str	r3, [r2, #4]
2056:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       {
 4886              		.loc 1 2056 7 view .LVU1582
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 188


2056:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       {
 4887              		.loc 1 2056 16 is_stmt 0 view .LVU1583
 4888 0140 B4F84630 		ldrh	r3, [r4, #70]
2056:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       {
 4889              		.loc 1 2056 10 view .LVU1584
 4890 0144 13F0010F 		tst	r3, #1
 4891 0148 0BD1     		bne	.L366
2058:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         hspi->RxXferCount = hspi->RxXferCount >> 1U;
 4892              		.loc 1 2058 9 is_stmt 1 view .LVU1585
 4893 014a 2268     		ldr	r2, [r4]
 4894 014c 5368     		ldr	r3, [r2, #4]
 4895 014e 23F40053 		bic	r3, r3, #8192
 4896 0152 5360     		str	r3, [r2, #4]
2059:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       }
 4897              		.loc 1 2059 9 view .LVU1586
2059:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       }
 4898              		.loc 1 2059 33 is_stmt 0 view .LVU1587
 4899 0154 B4F84630 		ldrh	r3, [r4, #70]
2059:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       }
 4900              		.loc 1 2059 27 view .LVU1588
 4901 0158 C3F34E03 		ubfx	r3, r3, #1, #15
 4902 015c A4F84630 		strh	r3, [r4, #70]	@ movhi
 4903 0160 8EE7     		b	.L365
 4904              	.L366:
2063:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         hspi->RxXferCount = (hspi->RxXferCount >> 1U) + 1U;
 4905              		.loc 1 2063 9 is_stmt 1 view .LVU1589
 4906 0162 2268     		ldr	r2, [r4]
 4907 0164 5368     		ldr	r3, [r2, #4]
 4908 0166 43F40053 		orr	r3, r3, #8192
 4909 016a 5360     		str	r3, [r2, #4]
2064:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       }
 4910              		.loc 1 2064 9 view .LVU1590
2064:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       }
 4911              		.loc 1 2064 34 is_stmt 0 view .LVU1591
 4912 016c B4F84630 		ldrh	r3, [r4, #70]
2064:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       }
 4913              		.loc 1 2064 55 view .LVU1592
 4914 0170 C3F34E03 		ubfx	r3, r3, #1, #15
 4915 0174 0133     		adds	r3, r3, #1
2064:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       }
 4916              		.loc 1 2064 27 view .LVU1593
 4917 0176 A4F84630 		strh	r3, [r4, #70]	@ movhi
 4918 017a 81E7     		b	.L365
 4919              	.L375:
2086:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     errorcode = HAL_ERROR;
 4920              		.loc 1 2086 5 is_stmt 1 view .LVU1594
 4921 017c 236E     		ldr	r3, [r4, #96]
 4922 017e 43F01003 		orr	r3, r3, #16
 4923 0182 2366     		str	r3, [r4, #96]
2087:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 4924              		.loc 1 2087 5 view .LVU1595
 4925              	.LVL276:
2089:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     goto error;
 4926              		.loc 1 2089 5 view .LVU1596
2089:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     goto error;
 4927              		.loc 1 2089 17 is_stmt 0 view .LVU1597
 4928 0184 0123     		movs	r3, #1
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 189


 4929 0186 84F85D30 		strb	r3, [r4, #93]
2090:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
 4930              		.loc 1 2090 5 is_stmt 1 view .LVU1598
 4931 018a 00E0     		b	.L362
 4932              	.LVL277:
 4933              	.L370:
2000:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     goto error;
 4934              		.loc 1 2000 15 is_stmt 0 view .LVU1599
 4935 018c 0225     		movs	r5, #2
 4936              	.LVL278:
 4937              	.L362:
2108:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   return errorcode;
 4938              		.loc 1 2108 3 is_stmt 1 view .LVU1600
2108:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   return errorcode;
 4939              		.loc 1 2108 3 view .LVU1601
 4940 018e 0023     		movs	r3, #0
 4941 0190 84F85C30 		strb	r3, [r4, #92]
2108:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   return errorcode;
 4942              		.loc 1 2108 3 view .LVU1602
2109:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** }
 4943              		.loc 1 2109 3 view .LVU1603
 4944              	.LVL279:
 4945              	.L361:
2110:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 4946              		.loc 1 2110 1 is_stmt 0 view .LVU1604
 4947 0194 2846     		mov	r0, r5
 4948 0196 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 4949              	.LVL280:
 4950              	.L369:
1996:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 4951              		.loc 1 1996 3 view .LVU1605
 4952 0198 0225     		movs	r5, #2
 4953 019a FBE7     		b	.L361
 4954              	.L378:
 4955              		.align	2
 4956              	.L377:
 4957 019c 00000000 		.word	SPI_DMAHalfReceiveCplt
 4958 01a0 00000000 		.word	SPI_DMAReceiveCplt
 4959 01a4 00000000 		.word	SPI_DMAError
 4960 01a8 00000000 		.word	.LC0
 4961              		.cfi_endproc
 4962              	.LFE143:
 4964              		.section	.text.HAL_SPI_Abort,"ax",%progbits
 4965              		.align	1
 4966              		.global	HAL_SPI_Abort
 4967              		.syntax unified
 4968              		.thumb
 4969              		.thumb_func
 4970              		.fpu fpv4-sp-d16
 4972              	HAL_SPI_Abort:
 4973              	.LVL281:
 4974              	.LFB145:
2315:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   HAL_StatusTypeDef errorcode;
 4975              		.loc 1 2315 1 is_stmt 1 view -0
 4976              		.cfi_startproc
 4977              		@ args = 0, pretend = 0, frame = 16
 4978              		@ frame_needed = 0, uses_anonymous_args = 0
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 190


2315:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   HAL_StatusTypeDef errorcode;
 4979              		.loc 1 2315 1 is_stmt 0 view .LVU1607
 4980 0000 10B5     		push	{r4, lr}
 4981              	.LCFI39:
 4982              		.cfi_def_cfa_offset 8
 4983              		.cfi_offset 4, -8
 4984              		.cfi_offset 14, -4
 4985 0002 86B0     		sub	sp, sp, #24
 4986              	.LCFI40:
 4987              		.cfi_def_cfa_offset 32
 4988 0004 0446     		mov	r4, r0
2316:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   __IO uint32_t count;
 4989              		.loc 1 2316 3 is_stmt 1 view .LVU1608
2317:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   __IO uint32_t resetcount;
 4990              		.loc 1 2317 3 view .LVU1609
2318:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 4991              		.loc 1 2318 3 view .LVU1610
2321:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   resetcount = SPI_DEFAULT_TIMEOUT * (SystemCoreClock / 24U / 1000U);
 4992              		.loc 1 2321 3 view .LVU1611
 4993              	.LVL282:
2322:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   count = resetcount;
 4994              		.loc 1 2322 3 view .LVU1612
2322:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   count = resetcount;
 4995              		.loc 1 2322 61 is_stmt 0 view .LVU1613
 4996 0006 5E4B     		ldr	r3, .L400
 4997 0008 1B68     		ldr	r3, [r3]
 4998 000a 5E4A     		ldr	r2, .L400+4
 4999 000c A2FB0323 		umull	r2, r3, r2, r3
 5000 0010 5B0A     		lsrs	r3, r3, #9
2322:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   count = resetcount;
 5001              		.loc 1 2322 36 view .LVU1614
 5002 0012 6422     		movs	r2, #100
 5003 0014 02FB03F3 		mul	r3, r2, r3
2322:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   count = resetcount;
 5004              		.loc 1 2322 14 view .LVU1615
 5005 0018 0493     		str	r3, [sp, #16]
2323:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 5006              		.loc 1 2323 3 is_stmt 1 view .LVU1616
2323:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 5007              		.loc 1 2323 9 is_stmt 0 view .LVU1617
 5008 001a 049B     		ldr	r3, [sp, #16]
 5009 001c 0593     		str	r3, [sp, #20]
2326:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 5010              		.loc 1 2326 3 is_stmt 1 view .LVU1618
 5011 001e 0268     		ldr	r2, [r0]
 5012 0020 5368     		ldr	r3, [r2, #4]
 5013 0022 23F02003 		bic	r3, r3, #32
 5014 0026 5360     		str	r3, [r2, #4]
2329:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 5015              		.loc 1 2329 3 view .LVU1619
2329:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 5016              		.loc 1 2329 7 is_stmt 0 view .LVU1620
 5017 0028 0268     		ldr	r2, [r0]
 5018 002a 5368     		ldr	r3, [r2, #4]
2329:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 5019              		.loc 1 2329 6 view .LVU1621
 5020 002c 13F0800F 		tst	r3, #128
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 191


 5021 0030 12D0     		beq	.L380
2331:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* Wait HAL_SPI_STATE_ABORT state */
 5022              		.loc 1 2331 5 is_stmt 1 view .LVU1622
2331:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* Wait HAL_SPI_STATE_ABORT state */
 5023              		.loc 1 2331 17 is_stmt 0 view .LVU1623
 5024 0032 554B     		ldr	r3, .L400+8
 5025 0034 0365     		str	r3, [r0, #80]
 5026              	.L383:
2333:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
 5027              		.loc 1 2333 5 is_stmt 1 view .LVU1624
2335:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       {
 5028              		.loc 1 2335 7 view .LVU1625
2335:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       {
 5029              		.loc 1 2335 17 is_stmt 0 view .LVU1626
 5030 0036 059B     		ldr	r3, [sp, #20]
2335:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       {
 5031              		.loc 1 2335 10 view .LVU1627
 5032 0038 43B1     		cbz	r3, .L398
2340:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     } while (hspi->State != HAL_SPI_STATE_ABORT);
 5033              		.loc 1 2340 7 is_stmt 1 view .LVU1628
2340:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     } while (hspi->State != HAL_SPI_STATE_ABORT);
 5034              		.loc 1 2340 12 is_stmt 0 view .LVU1629
 5035 003a 059B     		ldr	r3, [sp, #20]
 5036 003c 013B     		subs	r3, r3, #1
 5037 003e 0593     		str	r3, [sp, #20]
2341:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* Reset Timeout Counter */
 5038              		.loc 1 2341 13 is_stmt 1 view .LVU1630
2341:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* Reset Timeout Counter */
 5039              		.loc 1 2341 18 is_stmt 0 view .LVU1631
 5040 0040 94F85D30 		ldrb	r3, [r4, #93]	@ zero_extendqisi2
 5041 0044 DBB2     		uxtb	r3, r3
2341:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* Reset Timeout Counter */
 5042              		.loc 1 2341 5 view .LVU1632
 5043 0046 072B     		cmp	r3, #7
 5044 0048 F5D1     		bne	.L383
 5045 004a 03E0     		b	.L382
 5046              	.L398:
2337:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         break;
 5047              		.loc 1 2337 9 is_stmt 1 view .LVU1633
 5048 004c 236E     		ldr	r3, [r4, #96]
 5049 004e 43F04003 		orr	r3, r3, #64
 5050 0052 2366     		str	r3, [r4, #96]
2338:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       }
 5051              		.loc 1 2338 9 view .LVU1634
 5052              	.L382:
2343:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
 5053              		.loc 1 2343 5 view .LVU1635
2343:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
 5054              		.loc 1 2343 11 is_stmt 0 view .LVU1636
 5055 0054 049B     		ldr	r3, [sp, #16]
 5056 0056 0593     		str	r3, [sp, #20]
 5057              	.L380:
2346:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 5058              		.loc 1 2346 3 is_stmt 1 view .LVU1637
2346:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 5059              		.loc 1 2346 7 is_stmt 0 view .LVU1638
 5060 0058 5368     		ldr	r3, [r2, #4]
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 192


2346:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 5061              		.loc 1 2346 6 view .LVU1639
 5062 005a 13F0400F 		tst	r3, #64
 5063 005e 12D0     		beq	.L384
2348:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* Wait HAL_SPI_STATE_ABORT state */
 5064              		.loc 1 2348 5 is_stmt 1 view .LVU1640
2348:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* Wait HAL_SPI_STATE_ABORT state */
 5065              		.loc 1 2348 17 is_stmt 0 view .LVU1641
 5066 0060 4A4B     		ldr	r3, .L400+12
 5067 0062 E364     		str	r3, [r4, #76]
 5068              	.L387:
2350:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
 5069              		.loc 1 2350 5 is_stmt 1 view .LVU1642
2352:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       {
 5070              		.loc 1 2352 7 view .LVU1643
2352:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       {
 5071              		.loc 1 2352 17 is_stmt 0 view .LVU1644
 5072 0064 059B     		ldr	r3, [sp, #20]
2352:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       {
 5073              		.loc 1 2352 10 view .LVU1645
 5074 0066 43B1     		cbz	r3, .L399
2357:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     } while (hspi->State != HAL_SPI_STATE_ABORT);
 5075              		.loc 1 2357 7 is_stmt 1 view .LVU1646
2357:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     } while (hspi->State != HAL_SPI_STATE_ABORT);
 5076              		.loc 1 2357 12 is_stmt 0 view .LVU1647
 5077 0068 059B     		ldr	r3, [sp, #20]
 5078 006a 013B     		subs	r3, r3, #1
 5079 006c 0593     		str	r3, [sp, #20]
2358:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* Reset Timeout Counter */
 5080              		.loc 1 2358 13 is_stmt 1 view .LVU1648
2358:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* Reset Timeout Counter */
 5081              		.loc 1 2358 18 is_stmt 0 view .LVU1649
 5082 006e 94F85D30 		ldrb	r3, [r4, #93]	@ zero_extendqisi2
 5083 0072 DBB2     		uxtb	r3, r3
2358:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* Reset Timeout Counter */
 5084              		.loc 1 2358 5 view .LVU1650
 5085 0074 072B     		cmp	r3, #7
 5086 0076 F5D1     		bne	.L387
 5087 0078 03E0     		b	.L386
 5088              	.L399:
2354:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         break;
 5089              		.loc 1 2354 9 is_stmt 1 view .LVU1651
 5090 007a 236E     		ldr	r3, [r4, #96]
 5091 007c 43F04003 		orr	r3, r3, #64
 5092 0080 2366     		str	r3, [r4, #96]
2355:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       }
 5093              		.loc 1 2355 9 view .LVU1652
 5094              	.L386:
2360:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
 5095              		.loc 1 2360 5 view .LVU1653
2360:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
 5096              		.loc 1 2360 11 is_stmt 0 view .LVU1654
 5097 0082 049B     		ldr	r3, [sp, #16]
 5098 0084 0593     		str	r3, [sp, #20]
 5099              	.L384:
2364:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 5100              		.loc 1 2364 3 is_stmt 1 view .LVU1655
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 193


2364:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 5101              		.loc 1 2364 7 is_stmt 0 view .LVU1656
 5102 0086 5368     		ldr	r3, [r2, #4]
2364:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 5103              		.loc 1 2364 6 view .LVU1657
 5104 0088 13F0020F 		tst	r3, #2
 5105 008c 2AD0     		beq	.L388
2367:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
 5106              		.loc 1 2367 5 is_stmt 1 view .LVU1658
2367:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
 5107              		.loc 1 2367 13 is_stmt 0 view .LVU1659
 5108 008e 636D     		ldr	r3, [r4, #84]
2367:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
 5109              		.loc 1 2367 8 view .LVU1660
 5110 0090 43B3     		cbz	r3, .L388
2371:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 5111              		.loc 1 2371 7 is_stmt 1 view .LVU1661
2371:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 5112              		.loc 1 2371 39 is_stmt 0 view .LVU1662
 5113 0092 0022     		movs	r2, #0
 5114 0094 9A63     		str	r2, [r3, #56]
2374:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       {
 5115              		.loc 1 2374 7 is_stmt 1 view .LVU1663
2374:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       {
 5116              		.loc 1 2374 11 is_stmt 0 view .LVU1664
 5117 0096 606D     		ldr	r0, [r4, #84]
 5118              	.LVL283:
2374:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       {
 5119              		.loc 1 2374 11 view .LVU1665
 5120 0098 FFF7FEFF 		bl	HAL_DMA_Abort
 5121              	.LVL284:
2374:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       {
 5122              		.loc 1 2374 10 view .LVU1666
 5123 009c 08B1     		cbz	r0, .L389
2376:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       }
 5124              		.loc 1 2376 9 is_stmt 1 view .LVU1667
2376:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       }
 5125              		.loc 1 2376 25 is_stmt 0 view .LVU1668
 5126 009e 4023     		movs	r3, #64
 5127 00a0 2366     		str	r3, [r4, #96]
 5128              	.L389:
2380:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 5129              		.loc 1 2380 7 is_stmt 1 view .LVU1669
 5130 00a2 2268     		ldr	r2, [r4]
 5131 00a4 5368     		ldr	r3, [r2, #4]
 5132 00a6 23F00203 		bic	r3, r3, #2
 5133 00aa 5360     		str	r3, [r2, #4]
2382:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       {
 5134              		.loc 1 2382 7 view .LVU1670
2382:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       {
 5135              		.loc 1 2382 11 is_stmt 0 view .LVU1671
 5136 00ac FFF7FEFF 		bl	HAL_GetTick
 5137              	.LVL285:
 5138 00b0 0246     		mov	r2, r0
 5139 00b2 6421     		movs	r1, #100
 5140 00b4 2046     		mov	r0, r4
 5141 00b6 FFF7FEFF 		bl	SPI_EndRxTxTransaction
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 194


 5142              	.LVL286:
2382:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       {
 5143              		.loc 1 2382 10 view .LVU1672
 5144 00ba 08B1     		cbz	r0, .L390
2384:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       }
 5145              		.loc 1 2384 9 is_stmt 1 view .LVU1673
2384:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       }
 5146              		.loc 1 2384 25 is_stmt 0 view .LVU1674
 5147 00bc 4023     		movs	r3, #64
 5148 00be 2366     		str	r3, [r4, #96]
 5149              	.L390:
2388:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 5150              		.loc 1 2388 7 is_stmt 1 view .LVU1675
 5151 00c0 2268     		ldr	r2, [r4]
 5152 00c2 1368     		ldr	r3, [r2]
 5153 00c4 23F04003 		bic	r3, r3, #64
 5154 00c8 1360     		str	r3, [r2]
2391:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       {
 5155              		.loc 1 2391 7 view .LVU1676
2391:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       {
 5156              		.loc 1 2391 11 is_stmt 0 view .LVU1677
 5157 00ca FFF7FEFF 		bl	HAL_GetTick
 5158              	.LVL287:
 5159 00ce 0090     		str	r0, [sp]
 5160 00d0 6423     		movs	r3, #100
 5161 00d2 0022     		movs	r2, #0
 5162 00d4 4FF4C061 		mov	r1, #1536
 5163 00d8 2046     		mov	r0, r4
 5164 00da FFF7FEFF 		bl	SPI_WaitFifoStateUntilTimeout
 5165              	.LVL288:
2391:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       {
 5166              		.loc 1 2391 10 view .LVU1678
 5167 00de 08B1     		cbz	r0, .L388
2393:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       }
 5168              		.loc 1 2393 9 is_stmt 1 view .LVU1679
2393:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       }
 5169              		.loc 1 2393 25 is_stmt 0 view .LVU1680
 5170 00e0 4023     		movs	r3, #64
 5171 00e2 2366     		str	r3, [r4, #96]
 5172              	.L388:
2399:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 5173              		.loc 1 2399 3 is_stmt 1 view .LVU1681
2399:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 5174              		.loc 1 2399 7 is_stmt 0 view .LVU1682
 5175 00e4 2368     		ldr	r3, [r4]
 5176 00e6 5B68     		ldr	r3, [r3, #4]
2399:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 5177              		.loc 1 2399 6 view .LVU1683
 5178 00e8 13F0010F 		tst	r3, #1
 5179 00ec 2CD0     		beq	.L391
2402:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
 5180              		.loc 1 2402 5 is_stmt 1 view .LVU1684
2402:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
 5181              		.loc 1 2402 13 is_stmt 0 view .LVU1685
 5182 00ee A36D     		ldr	r3, [r4, #88]
2402:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
 5183              		.loc 1 2402 8 view .LVU1686
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 195


 5184 00f0 53B3     		cbz	r3, .L391
2406:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 5185              		.loc 1 2406 7 is_stmt 1 view .LVU1687
2406:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 5186              		.loc 1 2406 39 is_stmt 0 view .LVU1688
 5187 00f2 0022     		movs	r2, #0
 5188 00f4 9A63     		str	r2, [r3, #56]
2409:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       {
 5189              		.loc 1 2409 7 is_stmt 1 view .LVU1689
2409:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       {
 5190              		.loc 1 2409 11 is_stmt 0 view .LVU1690
 5191 00f6 A06D     		ldr	r0, [r4, #88]
 5192 00f8 FFF7FEFF 		bl	HAL_DMA_Abort
 5193              	.LVL289:
2409:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       {
 5194              		.loc 1 2409 10 view .LVU1691
 5195 00fc 08B1     		cbz	r0, .L392
2411:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       }
 5196              		.loc 1 2411 9 is_stmt 1 view .LVU1692
2411:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       }
 5197              		.loc 1 2411 25 is_stmt 0 view .LVU1693
 5198 00fe 4023     		movs	r3, #64
 5199 0100 2366     		str	r3, [r4, #96]
 5200              	.L392:
2415:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 5201              		.loc 1 2415 7 is_stmt 1 view .LVU1694
 5202 0102 2268     		ldr	r2, [r4]
 5203 0104 1368     		ldr	r3, [r2]
 5204 0106 23F04003 		bic	r3, r3, #64
 5205 010a 1360     		str	r3, [r2]
2418:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       {
 5206              		.loc 1 2418 7 view .LVU1695
2418:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       {
 5207              		.loc 1 2418 11 is_stmt 0 view .LVU1696
 5208 010c FFF7FEFF 		bl	HAL_GetTick
 5209              	.LVL290:
 5210 0110 0090     		str	r0, [sp]
 5211 0112 6423     		movs	r3, #100
 5212 0114 0022     		movs	r2, #0
 5213 0116 8021     		movs	r1, #128
 5214 0118 2046     		mov	r0, r4
 5215 011a FFF7FEFF 		bl	SPI_WaitFlagStateUntilTimeout
 5216              	.LVL291:
2418:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       {
 5217              		.loc 1 2418 10 view .LVU1697
 5218 011e 08B1     		cbz	r0, .L393
2420:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       }
 5219              		.loc 1 2420 9 is_stmt 1 view .LVU1698
2420:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       }
 5220              		.loc 1 2420 25 is_stmt 0 view .LVU1699
 5221 0120 4023     		movs	r3, #64
 5222 0122 2366     		str	r3, [r4, #96]
 5223              	.L393:
2424:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       {
 5224              		.loc 1 2424 7 is_stmt 1 view .LVU1700
2424:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       {
 5225              		.loc 1 2424 11 is_stmt 0 view .LVU1701
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 196


 5226 0124 FFF7FEFF 		bl	HAL_GetTick
 5227              	.LVL292:
 5228 0128 0090     		str	r0, [sp]
 5229 012a 6423     		movs	r3, #100
 5230 012c 0022     		movs	r2, #0
 5231 012e 4FF4C061 		mov	r1, #1536
 5232 0132 2046     		mov	r0, r4
 5233 0134 FFF7FEFF 		bl	SPI_WaitFifoStateUntilTimeout
 5234              	.LVL293:
2424:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       {
 5235              		.loc 1 2424 10 view .LVU1702
 5236 0138 08B1     		cbz	r0, .L394
2426:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       }
 5237              		.loc 1 2426 9 is_stmt 1 view .LVU1703
2426:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       }
 5238              		.loc 1 2426 25 is_stmt 0 view .LVU1704
 5239 013a 4023     		movs	r3, #64
 5240 013c 2366     		str	r3, [r4, #96]
 5241              	.L394:
2430:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
 5242              		.loc 1 2430 7 is_stmt 1 view .LVU1705
 5243 013e 2268     		ldr	r2, [r4]
 5244 0140 5368     		ldr	r3, [r2, #4]
 5245 0142 23F00103 		bic	r3, r3, #1
 5246 0146 5360     		str	r3, [r2, #4]
 5247              	.L391:
2434:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->TxXferCount = 0U;
 5248              		.loc 1 2434 3 view .LVU1706
2434:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->TxXferCount = 0U;
 5249              		.loc 1 2434 21 is_stmt 0 view .LVU1707
 5250 0148 0023     		movs	r3, #0
 5251 014a A4F84630 		strh	r3, [r4, #70]	@ movhi
2435:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 5252              		.loc 1 2435 3 is_stmt 1 view .LVU1708
2435:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 5253              		.loc 1 2435 21 is_stmt 0 view .LVU1709
 5254 014e E387     		strh	r3, [r4, #62]	@ movhi
2438:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 5255              		.loc 1 2438 3 is_stmt 1 view .LVU1710
2438:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 5256              		.loc 1 2438 11 is_stmt 0 view .LVU1711
 5257 0150 236E     		ldr	r3, [r4, #96]
2438:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 5258              		.loc 1 2438 6 view .LVU1712
 5259 0152 402B     		cmp	r3, #64
 5260 0154 12D0     		beq	.L396
2446:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
 5261              		.loc 1 2446 5 is_stmt 1 view .LVU1713
2446:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
 5262              		.loc 1 2446 21 is_stmt 0 view .LVU1714
 5263 0156 0020     		movs	r0, #0
 5264 0158 2066     		str	r0, [r4, #96]
 5265              	.L395:
 5266              	.LVL294:
2450:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   __HAL_SPI_CLEAR_FREFLAG(hspi);
 5267              		.loc 1 2450 3 is_stmt 1 view .LVU1715
 5268              	.LBB3:
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 197


2450:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   __HAL_SPI_CLEAR_FREFLAG(hspi);
 5269              		.loc 1 2450 3 view .LVU1716
 5270 015a 0022     		movs	r2, #0
 5271 015c 0292     		str	r2, [sp, #8]
2450:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   __HAL_SPI_CLEAR_FREFLAG(hspi);
 5272              		.loc 1 2450 3 view .LVU1717
 5273 015e 2368     		ldr	r3, [r4]
 5274 0160 D968     		ldr	r1, [r3, #12]
 5275 0162 0291     		str	r1, [sp, #8]
2450:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   __HAL_SPI_CLEAR_FREFLAG(hspi);
 5276              		.loc 1 2450 3 view .LVU1718
 5277 0164 9968     		ldr	r1, [r3, #8]
 5278 0166 0291     		str	r1, [sp, #8]
2450:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   __HAL_SPI_CLEAR_FREFLAG(hspi);
 5279              		.loc 1 2450 3 view .LVU1719
 5280 0168 0299     		ldr	r1, [sp, #8]
 5281              	.LBE3:
2450:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   __HAL_SPI_CLEAR_FREFLAG(hspi);
 5282              		.loc 1 2450 3 view .LVU1720
2451:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 5283              		.loc 1 2451 3 view .LVU1721
 5284              	.LBB4:
2451:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 5285              		.loc 1 2451 3 view .LVU1722
 5286 016a 0392     		str	r2, [sp, #12]
2451:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 5287              		.loc 1 2451 3 view .LVU1723
 5288 016c 9B68     		ldr	r3, [r3, #8]
 5289 016e 0393     		str	r3, [sp, #12]
2451:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 5290              		.loc 1 2451 3 view .LVU1724
 5291 0170 039B     		ldr	r3, [sp, #12]
 5292              	.LBE4:
2451:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 5293              		.loc 1 2451 3 view .LVU1725
2454:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 5294              		.loc 1 2454 3 view .LVU1726
2454:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 5295              		.loc 1 2454 15 is_stmt 0 view .LVU1727
 5296 0172 0123     		movs	r3, #1
 5297 0174 84F85D30 		strb	r3, [r4, #93]
2456:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** }
 5298              		.loc 1 2456 3 is_stmt 1 view .LVU1728
2457:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 5299              		.loc 1 2457 1 is_stmt 0 view .LVU1729
 5300 0178 06B0     		add	sp, sp, #24
 5301              	.LCFI41:
 5302              		.cfi_remember_state
 5303              		.cfi_def_cfa_offset 8
 5304              		@ sp needed
 5305 017a 10BD     		pop	{r4, pc}
 5306              	.LVL295:
 5307              	.L396:
 5308              	.LCFI42:
 5309              		.cfi_restore_state
2441:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
 5310              		.loc 1 2441 15 view .LVU1730
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 198


 5311 017c 0120     		movs	r0, #1
 5312 017e ECE7     		b	.L395
 5313              	.L401:
 5314              		.align	2
 5315              	.L400:
 5316 0180 00000000 		.word	SystemCoreClock
 5317 0184 F1197605 		.word	91625969
 5318 0188 00000000 		.word	SPI_AbortTx_ISR
 5319 018c 00000000 		.word	SPI_AbortRx_ISR
 5320              		.cfi_endproc
 5321              	.LFE145:
 5323              		.section	.text.HAL_SPI_DMAPause,"ax",%progbits
 5324              		.align	1
 5325              		.global	HAL_SPI_DMAPause
 5326              		.syntax unified
 5327              		.thumb
 5328              		.thumb_func
 5329              		.fpu fpv4-sp-d16
 5331              	HAL_SPI_DMAPause:
 5332              	.LVL296:
 5333              	.LFB147:
2636:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Process Locked */
 5334              		.loc 1 2636 1 is_stmt 1 view -0
 5335              		.cfi_startproc
 5336              		@ args = 0, pretend = 0, frame = 0
 5337              		@ frame_needed = 0, uses_anonymous_args = 0
 5338              		@ link register save eliminated.
2638:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 5339              		.loc 1 2638 3 view .LVU1732
2638:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 5340              		.loc 1 2638 3 view .LVU1733
 5341 0000 90F85C30 		ldrb	r3, [r0, #92]	@ zero_extendqisi2
 5342 0004 012B     		cmp	r3, #1
 5343 0006 0CD0     		beq	.L404
2638:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 5344              		.loc 1 2638 3 discriminator 2 view .LVU1734
 5345 0008 0123     		movs	r3, #1
 5346 000a 80F85C30 		strb	r3, [r0, #92]
2638:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 5347              		.loc 1 2638 3 discriminator 2 view .LVU1735
2641:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 5348              		.loc 1 2641 3 discriminator 2 view .LVU1736
 5349 000e 0268     		ldr	r2, [r0]
 5350 0010 5368     		ldr	r3, [r2, #4]
 5351 0012 23F00303 		bic	r3, r3, #3
 5352 0016 5360     		str	r3, [r2, #4]
2644:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 5353              		.loc 1 2644 3 discriminator 2 view .LVU1737
2644:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 5354              		.loc 1 2644 3 discriminator 2 view .LVU1738
 5355 0018 0023     		movs	r3, #0
 5356 001a 80F85C30 		strb	r3, [r0, #92]
2644:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 5357              		.loc 1 2644 3 discriminator 2 view .LVU1739
2646:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** }
 5358              		.loc 1 2646 3 discriminator 2 view .LVU1740
2646:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** }
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 199


 5359              		.loc 1 2646 10 is_stmt 0 discriminator 2 view .LVU1741
 5360 001e 1846     		mov	r0, r3
 5361              	.LVL297:
2646:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** }
 5362              		.loc 1 2646 10 discriminator 2 view .LVU1742
 5363 0020 7047     		bx	lr
 5364              	.LVL298:
 5365              	.L404:
2638:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 5366              		.loc 1 2638 3 view .LVU1743
 5367 0022 0220     		movs	r0, #2
 5368              	.LVL299:
2647:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 5369              		.loc 1 2647 1 view .LVU1744
 5370 0024 7047     		bx	lr
 5371              		.cfi_endproc
 5372              	.LFE147:
 5374              		.section	.text.HAL_SPI_DMAResume,"ax",%progbits
 5375              		.align	1
 5376              		.global	HAL_SPI_DMAResume
 5377              		.syntax unified
 5378              		.thumb
 5379              		.thumb_func
 5380              		.fpu fpv4-sp-d16
 5382              	HAL_SPI_DMAResume:
 5383              	.LVL300:
 5384              	.LFB148:
2656:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Process Locked */
 5385              		.loc 1 2656 1 is_stmt 1 view -0
 5386              		.cfi_startproc
 5387              		@ args = 0, pretend = 0, frame = 0
 5388              		@ frame_needed = 0, uses_anonymous_args = 0
 5389              		@ link register save eliminated.
2658:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 5390              		.loc 1 2658 3 view .LVU1746
2658:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 5391              		.loc 1 2658 3 view .LVU1747
 5392 0000 90F85C30 		ldrb	r3, [r0, #92]	@ zero_extendqisi2
 5393 0004 012B     		cmp	r3, #1
 5394 0006 0CD0     		beq	.L407
2658:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 5395              		.loc 1 2658 3 discriminator 2 view .LVU1748
 5396 0008 0123     		movs	r3, #1
 5397 000a 80F85C30 		strb	r3, [r0, #92]
2658:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 5398              		.loc 1 2658 3 discriminator 2 view .LVU1749
2661:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 5399              		.loc 1 2661 3 discriminator 2 view .LVU1750
 5400 000e 0268     		ldr	r2, [r0]
 5401 0010 5368     		ldr	r3, [r2, #4]
 5402 0012 43F00303 		orr	r3, r3, #3
 5403 0016 5360     		str	r3, [r2, #4]
2664:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 5404              		.loc 1 2664 3 discriminator 2 view .LVU1751
2664:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 5405              		.loc 1 2664 3 discriminator 2 view .LVU1752
 5406 0018 0023     		movs	r3, #0
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 200


 5407 001a 80F85C30 		strb	r3, [r0, #92]
2664:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 5408              		.loc 1 2664 3 discriminator 2 view .LVU1753
2666:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** }
 5409              		.loc 1 2666 3 discriminator 2 view .LVU1754
2666:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** }
 5410              		.loc 1 2666 10 is_stmt 0 discriminator 2 view .LVU1755
 5411 001e 1846     		mov	r0, r3
 5412              	.LVL301:
2666:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** }
 5413              		.loc 1 2666 10 discriminator 2 view .LVU1756
 5414 0020 7047     		bx	lr
 5415              	.LVL302:
 5416              	.L407:
2658:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 5417              		.loc 1 2658 3 view .LVU1757
 5418 0022 0220     		movs	r0, #2
 5419              	.LVL303:
2667:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 5420              		.loc 1 2667 1 view .LVU1758
 5421 0024 7047     		bx	lr
 5422              		.cfi_endproc
 5423              	.LFE148:
 5425              		.section	.text.HAL_SPI_DMAStop,"ax",%progbits
 5426              		.align	1
 5427              		.global	HAL_SPI_DMAStop
 5428              		.syntax unified
 5429              		.thumb
 5430              		.thumb_func
 5431              		.fpu fpv4-sp-d16
 5433              	HAL_SPI_DMAStop:
 5434              	.LVL304:
 5435              	.LFB149:
2676:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   HAL_StatusTypeDef errorcode = HAL_OK;
 5436              		.loc 1 2676 1 is_stmt 1 view -0
 5437              		.cfi_startproc
 5438              		@ args = 0, pretend = 0, frame = 0
 5439              		@ frame_needed = 0, uses_anonymous_args = 0
2676:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   HAL_StatusTypeDef errorcode = HAL_OK;
 5440              		.loc 1 2676 1 is_stmt 0 view .LVU1760
 5441 0000 38B5     		push	{r3, r4, r5, lr}
 5442              	.LCFI43:
 5443              		.cfi_def_cfa_offset 16
 5444              		.cfi_offset 3, -16
 5445              		.cfi_offset 4, -12
 5446              		.cfi_offset 5, -8
 5447              		.cfi_offset 14, -4
 5448 0002 0446     		mov	r4, r0
2677:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* The Lock is not implemented on this API to allow the user application
 5449              		.loc 1 2677 3 is_stmt 1 view .LVU1761
 5450              	.LVL305:
2685:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 5451              		.loc 1 2685 3 view .LVU1762
2685:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 5452              		.loc 1 2685 11 is_stmt 0 view .LVU1763
 5453 0004 406D     		ldr	r0, [r0, #84]
 5454              	.LVL306:
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 201


2685:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 5455              		.loc 1 2685 6 view .LVU1764
 5456 0006 48B1     		cbz	r0, .L411
2687:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
 5457              		.loc 1 2687 5 is_stmt 1 view .LVU1765
2687:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
 5458              		.loc 1 2687 19 is_stmt 0 view .LVU1766
 5459 0008 FFF7FEFF 		bl	HAL_DMA_Abort
 5460              	.LVL307:
2687:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
 5461              		.loc 1 2687 8 view .LVU1767
 5462 000c 0546     		mov	r5, r0
 5463 000e 30B1     		cbz	r0, .L409
2689:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       errorcode = HAL_ERROR;
 5464              		.loc 1 2689 7 is_stmt 1 view .LVU1768
 5465 0010 236E     		ldr	r3, [r4, #96]
 5466 0012 43F01003 		orr	r3, r3, #16
 5467 0016 2366     		str	r3, [r4, #96]
2690:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
 5468              		.loc 1 2690 7 view .LVU1769
 5469              	.LVL308:
2690:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
 5470              		.loc 1 2690 17 is_stmt 0 view .LVU1770
 5471 0018 0125     		movs	r5, #1
 5472 001a 00E0     		b	.L409
 5473              	.LVL309:
 5474              	.L411:
2677:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* The Lock is not implemented on this API to allow the user application
 5475              		.loc 1 2677 21 view .LVU1771
 5476 001c 0025     		movs	r5, #0
 5477              	.LVL310:
 5478              	.L409:
2694:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 5479              		.loc 1 2694 3 is_stmt 1 view .LVU1772
2694:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 5480              		.loc 1 2694 11 is_stmt 0 view .LVU1773
 5481 001e A06D     		ldr	r0, [r4, #88]
2694:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 5482              		.loc 1 2694 6 view .LVU1774
 5483 0020 38B1     		cbz	r0, .L410
2696:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
 5484              		.loc 1 2696 5 is_stmt 1 view .LVU1775
2696:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
 5485              		.loc 1 2696 19 is_stmt 0 view .LVU1776
 5486 0022 FFF7FEFF 		bl	HAL_DMA_Abort
 5487              	.LVL311:
2696:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
 5488              		.loc 1 2696 8 view .LVU1777
 5489 0026 20B1     		cbz	r0, .L410
2698:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       errorcode = HAL_ERROR;
 5490              		.loc 1 2698 7 is_stmt 1 view .LVU1778
 5491 0028 236E     		ldr	r3, [r4, #96]
 5492 002a 43F01003 		orr	r3, r3, #16
 5493 002e 2366     		str	r3, [r4, #96]
2699:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
 5494              		.loc 1 2699 7 view .LVU1779
 5495              	.LVL312:
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 202


2699:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
 5496              		.loc 1 2699 17 is_stmt 0 view .LVU1780
 5497 0030 0125     		movs	r5, #1
 5498              	.LVL313:
 5499              	.L410:
2704:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->State = HAL_SPI_STATE_READY;
 5500              		.loc 1 2704 3 is_stmt 1 view .LVU1781
 5501 0032 2268     		ldr	r2, [r4]
 5502 0034 5368     		ldr	r3, [r2, #4]
 5503 0036 23F00303 		bic	r3, r3, #3
 5504 003a 5360     		str	r3, [r2, #4]
2705:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   return errorcode;
 5505              		.loc 1 2705 3 view .LVU1782
2705:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   return errorcode;
 5506              		.loc 1 2705 15 is_stmt 0 view .LVU1783
 5507 003c 0123     		movs	r3, #1
 5508 003e 84F85D30 		strb	r3, [r4, #93]
2706:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** }
 5509              		.loc 1 2706 3 is_stmt 1 view .LVU1784
2707:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 5510              		.loc 1 2707 1 is_stmt 0 view .LVU1785
 5511 0042 2846     		mov	r0, r5
 5512 0044 38BD     		pop	{r3, r4, r5, pc}
2707:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 5513              		.loc 1 2707 1 view .LVU1786
 5514              		.cfi_endproc
 5515              	.LFE149:
 5517              		.section	.text.HAL_SPI_TxCpltCallback,"ax",%progbits
 5518              		.align	1
 5519              		.weak	HAL_SPI_TxCpltCallback
 5520              		.syntax unified
 5521              		.thumb
 5522              		.thumb_func
 5523              		.fpu fpv4-sp-d16
 5525              	HAL_SPI_TxCpltCallback:
 5526              	.LVL314:
 5527              	.LFB151:
2823:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Prevent unused argument(s) compilation warning */
 5528              		.loc 1 2823 1 is_stmt 1 view -0
 5529              		.cfi_startproc
 5530              		@ args = 0, pretend = 0, frame = 0
 5531              		@ frame_needed = 0, uses_anonymous_args = 0
 5532              		@ link register save eliminated.
2825:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 5533              		.loc 1 2825 3 view .LVU1788
2830:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 5534              		.loc 1 2830 1 is_stmt 0 view .LVU1789
 5535 0000 7047     		bx	lr
 5536              		.cfi_endproc
 5537              	.LFE151:
 5539              		.section	.text.HAL_SPI_RxCpltCallback,"ax",%progbits
 5540              		.align	1
 5541              		.weak	HAL_SPI_RxCpltCallback
 5542              		.syntax unified
 5543              		.thumb
 5544              		.thumb_func
 5545              		.fpu fpv4-sp-d16
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 203


 5547              	HAL_SPI_RxCpltCallback:
 5548              	.LVL315:
 5549              	.LFB152:
2839:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Prevent unused argument(s) compilation warning */
 5550              		.loc 1 2839 1 is_stmt 1 view -0
 5551              		.cfi_startproc
 5552              		@ args = 0, pretend = 0, frame = 0
 5553              		@ frame_needed = 0, uses_anonymous_args = 0
 5554              		@ link register save eliminated.
2841:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 5555              		.loc 1 2841 3 view .LVU1791
2846:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 5556              		.loc 1 2846 1 is_stmt 0 view .LVU1792
 5557 0000 7047     		bx	lr
 5558              		.cfi_endproc
 5559              	.LFE152:
 5561              		.section	.text.HAL_SPI_TxRxCpltCallback,"ax",%progbits
 5562              		.align	1
 5563              		.weak	HAL_SPI_TxRxCpltCallback
 5564              		.syntax unified
 5565              		.thumb
 5566              		.thumb_func
 5567              		.fpu fpv4-sp-d16
 5569              	HAL_SPI_TxRxCpltCallback:
 5570              	.LVL316:
 5571              	.LFB153:
2855:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Prevent unused argument(s) compilation warning */
 5572              		.loc 1 2855 1 is_stmt 1 view -0
 5573              		.cfi_startproc
 5574              		@ args = 0, pretend = 0, frame = 0
 5575              		@ frame_needed = 0, uses_anonymous_args = 0
 5576              		@ link register save eliminated.
2857:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 5577              		.loc 1 2857 3 view .LVU1794
2862:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 5578              		.loc 1 2862 1 is_stmt 0 view .LVU1795
 5579 0000 7047     		bx	lr
 5580              		.cfi_endproc
 5581              	.LFE153:
 5583              		.section	.text.HAL_SPI_TxHalfCpltCallback,"ax",%progbits
 5584              		.align	1
 5585              		.weak	HAL_SPI_TxHalfCpltCallback
 5586              		.syntax unified
 5587              		.thumb
 5588              		.thumb_func
 5589              		.fpu fpv4-sp-d16
 5591              	HAL_SPI_TxHalfCpltCallback:
 5592              	.LVL317:
 5593              	.LFB154:
2871:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Prevent unused argument(s) compilation warning */
 5594              		.loc 1 2871 1 is_stmt 1 view -0
 5595              		.cfi_startproc
 5596              		@ args = 0, pretend = 0, frame = 0
 5597              		@ frame_needed = 0, uses_anonymous_args = 0
 5598              		@ link register save eliminated.
2873:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 5599              		.loc 1 2873 3 view .LVU1797
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 204


2878:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 5600              		.loc 1 2878 1 is_stmt 0 view .LVU1798
 5601 0000 7047     		bx	lr
 5602              		.cfi_endproc
 5603              	.LFE154:
 5605              		.section	.text.SPI_DMAHalfTransmitCplt,"ax",%progbits
 5606              		.align	1
 5607              		.syntax unified
 5608              		.thumb
 5609              		.thumb_func
 5610              		.fpu fpv4-sp-d16
 5612              	SPI_DMAHalfTransmitCplt:
 5613              	.LVL318:
 5614              	.LFB164:
3275:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   SPI_HandleTypeDef *hspi = (SPI_HandleTypeDef *)(((DMA_HandleTypeDef *)hdma)->Parent); /* Derogati
 5615              		.loc 1 3275 1 is_stmt 1 view -0
 5616              		.cfi_startproc
 5617              		@ args = 0, pretend = 0, frame = 0
 5618              		@ frame_needed = 0, uses_anonymous_args = 0
3275:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   SPI_HandleTypeDef *hspi = (SPI_HandleTypeDef *)(((DMA_HandleTypeDef *)hdma)->Parent); /* Derogati
 5619              		.loc 1 3275 1 is_stmt 0 view .LVU1800
 5620 0000 08B5     		push	{r3, lr}
 5621              	.LCFI44:
 5622              		.cfi_def_cfa_offset 8
 5623              		.cfi_offset 3, -8
 5624              		.cfi_offset 14, -4
3276:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 5625              		.loc 1 3276 3 is_stmt 1 view .LVU1801
 5626              	.LVL319:
3282:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
 5627              		.loc 1 3282 3 view .LVU1802
 5628 0002 806A     		ldr	r0, [r0, #40]
 5629              	.LVL320:
3282:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
 5630              		.loc 1 3282 3 is_stmt 0 view .LVU1803
 5631 0004 FFF7FEFF 		bl	HAL_SPI_TxHalfCpltCallback
 5632              	.LVL321:
3284:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 5633              		.loc 1 3284 1 view .LVU1804
 5634 0008 08BD     		pop	{r3, pc}
 5635              		.cfi_endproc
 5636              	.LFE164:
 5638              		.section	.text.HAL_SPI_RxHalfCpltCallback,"ax",%progbits
 5639              		.align	1
 5640              		.weak	HAL_SPI_RxHalfCpltCallback
 5641              		.syntax unified
 5642              		.thumb
 5643              		.thumb_func
 5644              		.fpu fpv4-sp-d16
 5646              	HAL_SPI_RxHalfCpltCallback:
 5647              	.LVL322:
 5648              	.LFB155:
2887:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Prevent unused argument(s) compilation warning */
 5649              		.loc 1 2887 1 is_stmt 1 view -0
 5650              		.cfi_startproc
 5651              		@ args = 0, pretend = 0, frame = 0
 5652              		@ frame_needed = 0, uses_anonymous_args = 0
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 205


 5653              		@ link register save eliminated.
2889:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 5654              		.loc 1 2889 3 view .LVU1806
2894:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 5655              		.loc 1 2894 1 is_stmt 0 view .LVU1807
 5656 0000 7047     		bx	lr
 5657              		.cfi_endproc
 5658              	.LFE155:
 5660              		.section	.text.SPI_DMAHalfReceiveCplt,"ax",%progbits
 5661              		.align	1
 5662              		.syntax unified
 5663              		.thumb
 5664              		.thumb_func
 5665              		.fpu fpv4-sp-d16
 5667              	SPI_DMAHalfReceiveCplt:
 5668              	.LVL323:
 5669              	.LFB165:
3293:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   SPI_HandleTypeDef *hspi = (SPI_HandleTypeDef *)(((DMA_HandleTypeDef *)hdma)->Parent); /* Derogati
 5670              		.loc 1 3293 1 is_stmt 1 view -0
 5671              		.cfi_startproc
 5672              		@ args = 0, pretend = 0, frame = 0
 5673              		@ frame_needed = 0, uses_anonymous_args = 0
3293:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   SPI_HandleTypeDef *hspi = (SPI_HandleTypeDef *)(((DMA_HandleTypeDef *)hdma)->Parent); /* Derogati
 5674              		.loc 1 3293 1 is_stmt 0 view .LVU1809
 5675 0000 08B5     		push	{r3, lr}
 5676              	.LCFI45:
 5677              		.cfi_def_cfa_offset 8
 5678              		.cfi_offset 3, -8
 5679              		.cfi_offset 14, -4
3294:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 5680              		.loc 1 3294 3 is_stmt 1 view .LVU1810
 5681              	.LVL324:
3300:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
 5682              		.loc 1 3300 3 view .LVU1811
 5683 0002 806A     		ldr	r0, [r0, #40]
 5684              	.LVL325:
3300:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
 5685              		.loc 1 3300 3 is_stmt 0 view .LVU1812
 5686 0004 FFF7FEFF 		bl	HAL_SPI_RxHalfCpltCallback
 5687              	.LVL326:
3302:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 5688              		.loc 1 3302 1 view .LVU1813
 5689 0008 08BD     		pop	{r3, pc}
 5690              		.cfi_endproc
 5691              	.LFE165:
 5693              		.section	.text.HAL_SPI_TxRxHalfCpltCallback,"ax",%progbits
 5694              		.align	1
 5695              		.weak	HAL_SPI_TxRxHalfCpltCallback
 5696              		.syntax unified
 5697              		.thumb
 5698              		.thumb_func
 5699              		.fpu fpv4-sp-d16
 5701              	HAL_SPI_TxRxHalfCpltCallback:
 5702              	.LVL327:
 5703              	.LFB156:
2903:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Prevent unused argument(s) compilation warning */
 5704              		.loc 1 2903 1 is_stmt 1 view -0
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 206


 5705              		.cfi_startproc
 5706              		@ args = 0, pretend = 0, frame = 0
 5707              		@ frame_needed = 0, uses_anonymous_args = 0
 5708              		@ link register save eliminated.
2905:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 5709              		.loc 1 2905 3 view .LVU1815
2910:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 5710              		.loc 1 2910 1 is_stmt 0 view .LVU1816
 5711 0000 7047     		bx	lr
 5712              		.cfi_endproc
 5713              	.LFE156:
 5715              		.section	.text.SPI_DMAHalfTransmitReceiveCplt,"ax",%progbits
 5716              		.align	1
 5717              		.syntax unified
 5718              		.thumb
 5719              		.thumb_func
 5720              		.fpu fpv4-sp-d16
 5722              	SPI_DMAHalfTransmitReceiveCplt:
 5723              	.LVL328:
 5724              	.LFB166:
3311:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   SPI_HandleTypeDef *hspi = (SPI_HandleTypeDef *)(((DMA_HandleTypeDef *)hdma)->Parent); /* Derogati
 5725              		.loc 1 3311 1 is_stmt 1 view -0
 5726              		.cfi_startproc
 5727              		@ args = 0, pretend = 0, frame = 0
 5728              		@ frame_needed = 0, uses_anonymous_args = 0
3311:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   SPI_HandleTypeDef *hspi = (SPI_HandleTypeDef *)(((DMA_HandleTypeDef *)hdma)->Parent); /* Derogati
 5729              		.loc 1 3311 1 is_stmt 0 view .LVU1818
 5730 0000 08B5     		push	{r3, lr}
 5731              	.LCFI46:
 5732              		.cfi_def_cfa_offset 8
 5733              		.cfi_offset 3, -8
 5734              		.cfi_offset 14, -4
3312:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 5735              		.loc 1 3312 3 is_stmt 1 view .LVU1819
 5736              	.LVL329:
3318:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
 5737              		.loc 1 3318 3 view .LVU1820
 5738 0002 806A     		ldr	r0, [r0, #40]
 5739              	.LVL330:
3318:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
 5740              		.loc 1 3318 3 is_stmt 0 view .LVU1821
 5741 0004 FFF7FEFF 		bl	HAL_SPI_TxRxHalfCpltCallback
 5742              	.LVL331:
3320:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 5743              		.loc 1 3320 1 view .LVU1822
 5744 0008 08BD     		pop	{r3, pc}
 5745              		.cfi_endproc
 5746              	.LFE166:
 5748              		.section	.text.HAL_SPI_ErrorCallback,"ax",%progbits
 5749              		.align	1
 5750              		.weak	HAL_SPI_ErrorCallback
 5751              		.syntax unified
 5752              		.thumb
 5753              		.thumb_func
 5754              		.fpu fpv4-sp-d16
 5756              	HAL_SPI_ErrorCallback:
 5757              	.LVL332:
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 207


 5758              	.LFB157:
2919:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Prevent unused argument(s) compilation warning */
 5759              		.loc 1 2919 1 is_stmt 1 view -0
 5760              		.cfi_startproc
 5761              		@ args = 0, pretend = 0, frame = 0
 5762              		@ frame_needed = 0, uses_anonymous_args = 0
 5763              		@ link register save eliminated.
2921:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 5764              		.loc 1 2921 3 view .LVU1824
2929:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 5765              		.loc 1 2929 1 is_stmt 0 view .LVU1825
 5766 0000 7047     		bx	lr
 5767              		.cfi_endproc
 5768              	.LFE157:
 5770              		.section	.text.SPI_CloseTx_ISR,"ax",%progbits
 5771              		.align	1
 5772              		.syntax unified
 5773              		.thumb
 5774              		.thumb_func
 5775              		.fpu fpv4-sp-d16
 5777              	SPI_CloseTx_ISR:
 5778              	.LVL333:
 5779              	.LFB185:
4243:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   uint32_t tickstart;
 5780              		.loc 1 4243 1 is_stmt 1 view -0
 5781              		.cfi_startproc
 5782              		@ args = 0, pretend = 0, frame = 8
 5783              		@ frame_needed = 0, uses_anonymous_args = 0
4243:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   uint32_t tickstart;
 5784              		.loc 1 4243 1 is_stmt 0 view .LVU1827
 5785 0000 10B5     		push	{r4, lr}
 5786              	.LCFI47:
 5787              		.cfi_def_cfa_offset 8
 5788              		.cfi_offset 4, -8
 5789              		.cfi_offset 14, -4
 5790 0002 82B0     		sub	sp, sp, #8
 5791              	.LCFI48:
 5792              		.cfi_def_cfa_offset 16
 5793 0004 0446     		mov	r4, r0
4244:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 5794              		.loc 1 4244 3 is_stmt 1 view .LVU1828
4247:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 5795              		.loc 1 4247 3 view .LVU1829
4247:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 5796              		.loc 1 4247 15 is_stmt 0 view .LVU1830
 5797 0006 FFF7FEFF 		bl	HAL_GetTick
 5798              	.LVL334:
4247:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 5799              		.loc 1 4247 15 view .LVU1831
 5800 000a 0246     		mov	r2, r0
 5801              	.LVL335:
4250:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 5802              		.loc 1 4250 3 is_stmt 1 view .LVU1832
 5803 000c 2168     		ldr	r1, [r4]
 5804 000e 4B68     		ldr	r3, [r1, #4]
 5805 0010 23F0A003 		bic	r3, r3, #160
 5806 0014 4B60     		str	r3, [r1, #4]
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 208


4253:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 5807              		.loc 1 4253 3 view .LVU1833
4253:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 5808              		.loc 1 4253 7 is_stmt 0 view .LVU1834
 5809 0016 6421     		movs	r1, #100
 5810 0018 2046     		mov	r0, r4
 5811              	.LVL336:
4253:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 5812              		.loc 1 4253 7 view .LVU1835
 5813 001a FFF7FEFF 		bl	SPI_EndRxTxTransaction
 5814              	.LVL337:
4253:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 5815              		.loc 1 4253 6 view .LVU1836
 5816 001e 18B1     		cbz	r0, .L427
4255:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
 5817              		.loc 1 4255 5 is_stmt 1 view .LVU1837
 5818 0020 236E     		ldr	r3, [r4, #96]
 5819 0022 43F02003 		orr	r3, r3, #32
 5820 0026 2366     		str	r3, [r4, #96]
 5821              	.L427:
4259:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 5822              		.loc 1 4259 3 view .LVU1838
4259:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 5823              		.loc 1 4259 17 is_stmt 0 view .LVU1839
 5824 0028 A368     		ldr	r3, [r4, #8]
4259:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 5825              		.loc 1 4259 6 view .LVU1840
 5826 002a 33B9     		cbnz	r3, .L428
4261:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
 5827              		.loc 1 4261 5 is_stmt 1 view .LVU1841
 5828              	.LBB5:
4261:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
 5829              		.loc 1 4261 5 view .LVU1842
 5830 002c 0193     		str	r3, [sp, #4]
4261:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
 5831              		.loc 1 4261 5 view .LVU1843
 5832 002e 2368     		ldr	r3, [r4]
 5833 0030 DA68     		ldr	r2, [r3, #12]
 5834 0032 0192     		str	r2, [sp, #4]
4261:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
 5835              		.loc 1 4261 5 view .LVU1844
 5836 0034 9B68     		ldr	r3, [r3, #8]
 5837 0036 0193     		str	r3, [sp, #4]
4261:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
 5838              		.loc 1 4261 5 view .LVU1845
 5839 0038 019B     		ldr	r3, [sp, #4]
 5840              	.L428:
 5841              	.LBE5:
4261:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
 5842              		.loc 1 4261 5 discriminator 1 view .LVU1846
4264:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if (hspi->ErrorCode != HAL_SPI_ERROR_NONE)
 5843              		.loc 1 4264 3 discriminator 1 view .LVU1847
4264:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if (hspi->ErrorCode != HAL_SPI_ERROR_NONE)
 5844              		.loc 1 4264 15 is_stmt 0 discriminator 1 view .LVU1848
 5845 003a 0123     		movs	r3, #1
 5846 003c 84F85D30 		strb	r3, [r4, #93]
4265:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 209


 5847              		.loc 1 4265 3 is_stmt 1 discriminator 1 view .LVU1849
4265:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 5848              		.loc 1 4265 11 is_stmt 0 discriminator 1 view .LVU1850
 5849 0040 236E     		ldr	r3, [r4, #96]
4265:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 5850              		.loc 1 4265 6 discriminator 1 view .LVU1851
 5851 0042 23B1     		cbz	r3, .L429
4271:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
 5852              		.loc 1 4271 5 is_stmt 1 view .LVU1852
 5853 0044 2046     		mov	r0, r4
 5854 0046 FFF7FEFF 		bl	HAL_SPI_ErrorCallback
 5855              	.LVL338:
 5856              	.L426:
4283:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 5857              		.loc 1 4283 1 is_stmt 0 view .LVU1853
 5858 004a 02B0     		add	sp, sp, #8
 5859              	.LCFI49:
 5860              		.cfi_remember_state
 5861              		.cfi_def_cfa_offset 8
 5862              		@ sp needed
 5863 004c 10BD     		pop	{r4, pc}
 5864              	.LVL339:
 5865              	.L429:
 5866              	.LCFI50:
 5867              		.cfi_restore_state
4280:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
 5868              		.loc 1 4280 5 is_stmt 1 view .LVU1854
 5869 004e 2046     		mov	r0, r4
 5870 0050 FFF7FEFF 		bl	HAL_SPI_TxCpltCallback
 5871              	.LVL340:
4283:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 5872              		.loc 1 4283 1 is_stmt 0 view .LVU1855
 5873 0054 F9E7     		b	.L426
 5874              		.cfi_endproc
 5875              	.LFE185:
 5877              		.section	.text.SPI_TxISR_8BIT,"ax",%progbits
 5878              		.align	1
 5879              		.syntax unified
 5880              		.thumb
 5881              		.thumb_func
 5882              		.fpu fpv4-sp-d16
 5884              	SPI_TxISR_8BIT:
 5885              	.LVL341:
 5886              	.LFB177:
3841:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   *(__IO uint8_t *)&hspi->Instance->DR = (*hspi->pTxBuffPtr);
 5887              		.loc 1 3841 1 is_stmt 1 view -0
 5888              		.cfi_startproc
 5889              		@ args = 0, pretend = 0, frame = 0
 5890              		@ frame_needed = 0, uses_anonymous_args = 0
3841:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   *(__IO uint8_t *)&hspi->Instance->DR = (*hspi->pTxBuffPtr);
 5891              		.loc 1 3841 1 is_stmt 0 view .LVU1857
 5892 0000 08B5     		push	{r3, lr}
 5893              	.LCFI51:
 5894              		.cfi_def_cfa_offset 8
 5895              		.cfi_offset 3, -8
 5896              		.cfi_offset 14, -4
3842:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->pTxBuffPtr++;
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 210


 5897              		.loc 1 3842 3 is_stmt 1 view .LVU1858
3842:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->pTxBuffPtr++;
 5898              		.loc 1 3842 48 is_stmt 0 view .LVU1859
 5899 0002 826B     		ldr	r2, [r0, #56]
3842:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->pTxBuffPtr++;
 5900              		.loc 1 3842 25 view .LVU1860
 5901 0004 0368     		ldr	r3, [r0]
3842:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->pTxBuffPtr++;
 5902              		.loc 1 3842 43 view .LVU1861
 5903 0006 1278     		ldrb	r2, [r2]	@ zero_extendqisi2
3842:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->pTxBuffPtr++;
 5904              		.loc 1 3842 40 view .LVU1862
 5905 0008 1A73     		strb	r2, [r3, #12]
3843:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->TxXferCount--;
 5906              		.loc 1 3843 3 is_stmt 1 view .LVU1863
3843:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->TxXferCount--;
 5907              		.loc 1 3843 7 is_stmt 0 view .LVU1864
 5908 000a 836B     		ldr	r3, [r0, #56]
3843:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->TxXferCount--;
 5909              		.loc 1 3843 19 view .LVU1865
 5910 000c 0133     		adds	r3, r3, #1
 5911 000e 8363     		str	r3, [r0, #56]
3844:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 5912              		.loc 1 3844 3 is_stmt 1 view .LVU1866
3844:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 5913              		.loc 1 3844 7 is_stmt 0 view .LVU1867
 5914 0010 C38F     		ldrh	r3, [r0, #62]
 5915 0012 9BB2     		uxth	r3, r3
3844:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 5916              		.loc 1 3844 20 view .LVU1868
 5917 0014 013B     		subs	r3, r3, #1
 5918 0016 9BB2     		uxth	r3, r3
 5919 0018 C387     		strh	r3, [r0, #62]	@ movhi
3846:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 5920              		.loc 1 3846 3 is_stmt 1 view .LVU1869
3846:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 5921              		.loc 1 3846 11 is_stmt 0 view .LVU1870
 5922 001a C38F     		ldrh	r3, [r0, #62]
 5923 001c 9BB2     		uxth	r3, r3
3846:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 5924              		.loc 1 3846 6 view .LVU1871
 5925 001e 03B1     		cbz	r3, .L435
 5926              	.LVL342:
 5927              	.L432:
3857:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 5928              		.loc 1 3857 1 view .LVU1872
 5929 0020 08BD     		pop	{r3, pc}
 5930              	.LVL343:
 5931              	.L435:
3855:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
 5932              		.loc 1 3855 5 is_stmt 1 view .LVU1873
 5933 0022 FFF7FEFF 		bl	SPI_CloseTx_ISR
 5934              	.LVL344:
3857:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 5935              		.loc 1 3857 1 is_stmt 0 view .LVU1874
 5936 0026 FBE7     		b	.L432
 5937              		.cfi_endproc
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 211


 5938              	.LFE177:
 5940              		.section	.text.SPI_TxISR_16BIT,"ax",%progbits
 5941              		.align	1
 5942              		.syntax unified
 5943              		.thumb
 5944              		.thumb_func
 5945              		.fpu fpv4-sp-d16
 5947              	SPI_TxISR_16BIT:
 5948              	.LVL345:
 5949              	.LFB178:
3866:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Transmit data in 16 Bit mode */
 5950              		.loc 1 3866 1 is_stmt 1 view -0
 5951              		.cfi_startproc
 5952              		@ args = 0, pretend = 0, frame = 0
 5953              		@ frame_needed = 0, uses_anonymous_args = 0
3866:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Transmit data in 16 Bit mode */
 5954              		.loc 1 3866 1 is_stmt 0 view .LVU1876
 5955 0000 08B5     		push	{r3, lr}
 5956              	.LCFI52:
 5957              		.cfi_def_cfa_offset 8
 5958              		.cfi_offset 3, -8
 5959              		.cfi_offset 14, -4
3868:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->pTxBuffPtr += sizeof(uint16_t);
 5960              		.loc 1 3868 3 is_stmt 1 view .LVU1877
3868:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->pTxBuffPtr += sizeof(uint16_t);
 5961              		.loc 1 3868 42 is_stmt 0 view .LVU1878
 5962 0002 826B     		ldr	r2, [r0, #56]
3868:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->pTxBuffPtr += sizeof(uint16_t);
 5963              		.loc 1 3868 7 view .LVU1879
 5964 0004 0368     		ldr	r3, [r0]
3868:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->pTxBuffPtr += sizeof(uint16_t);
 5965              		.loc 1 3868 24 view .LVU1880
 5966 0006 1288     		ldrh	r2, [r2]
3868:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->pTxBuffPtr += sizeof(uint16_t);
 5967              		.loc 1 3868 22 view .LVU1881
 5968 0008 DA60     		str	r2, [r3, #12]
3869:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->TxXferCount--;
 5969              		.loc 1 3869 3 is_stmt 1 view .LVU1882
3869:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->TxXferCount--;
 5970              		.loc 1 3869 20 is_stmt 0 view .LVU1883
 5971 000a 836B     		ldr	r3, [r0, #56]
 5972 000c 0233     		adds	r3, r3, #2
 5973 000e 8363     		str	r3, [r0, #56]
3870:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 5974              		.loc 1 3870 3 is_stmt 1 view .LVU1884
3870:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 5975              		.loc 1 3870 7 is_stmt 0 view .LVU1885
 5976 0010 C38F     		ldrh	r3, [r0, #62]
 5977 0012 9BB2     		uxth	r3, r3
3870:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 5978              		.loc 1 3870 20 view .LVU1886
 5979 0014 013B     		subs	r3, r3, #1
 5980 0016 9BB2     		uxth	r3, r3
 5981 0018 C387     		strh	r3, [r0, #62]	@ movhi
3872:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 5982              		.loc 1 3872 3 is_stmt 1 view .LVU1887
3872:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 212


 5983              		.loc 1 3872 11 is_stmt 0 view .LVU1888
 5984 001a C38F     		ldrh	r3, [r0, #62]
 5985 001c 9BB2     		uxth	r3, r3
3872:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 5986              		.loc 1 3872 6 view .LVU1889
 5987 001e 03B1     		cbz	r3, .L439
 5988              	.LVL346:
 5989              	.L436:
3883:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 5990              		.loc 1 3883 1 view .LVU1890
 5991 0020 08BD     		pop	{r3, pc}
 5992              	.LVL347:
 5993              	.L439:
3881:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
 5994              		.loc 1 3881 5 is_stmt 1 view .LVU1891
 5995 0022 FFF7FEFF 		bl	SPI_CloseTx_ISR
 5996              	.LVL348:
3883:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 5997              		.loc 1 3883 1 is_stmt 0 view .LVU1892
 5998 0026 FBE7     		b	.L436
 5999              		.cfi_endproc
 6000              	.LFE178:
 6002              		.section	.text.SPI_CloseRx_ISR,"ax",%progbits
 6003              		.align	1
 6004              		.syntax unified
 6005              		.thumb
 6006              		.thumb_func
 6007              		.fpu fpv4-sp-d16
 6009              	SPI_CloseRx_ISR:
 6010              	.LVL349:
 6011              	.LFB184:
4186:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Disable RXNE and ERR interrupt */
 6012              		.loc 1 4186 1 is_stmt 1 view -0
 6013              		.cfi_startproc
 6014              		@ args = 0, pretend = 0, frame = 0
 6015              		@ frame_needed = 0, uses_anonymous_args = 0
4186:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Disable RXNE and ERR interrupt */
 6016              		.loc 1 4186 1 is_stmt 0 view .LVU1894
 6017 0000 10B5     		push	{r4, lr}
 6018              	.LCFI53:
 6019              		.cfi_def_cfa_offset 8
 6020              		.cfi_offset 4, -8
 6021              		.cfi_offset 14, -4
 6022 0002 0446     		mov	r4, r0
4188:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 6023              		.loc 1 4188 3 is_stmt 1 view .LVU1895
 6024 0004 0268     		ldr	r2, [r0]
 6025 0006 5368     		ldr	r3, [r2, #4]
 6026 0008 23F06003 		bic	r3, r3, #96
 6027 000c 5360     		str	r3, [r2, #4]
4191:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 6028              		.loc 1 4191 3 view .LVU1896
4191:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 6029              		.loc 1 4191 7 is_stmt 0 view .LVU1897
 6030 000e FFF7FEFF 		bl	HAL_GetTick
 6031              	.LVL350:
4191:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 213


 6032              		.loc 1 4191 7 view .LVU1898
 6033 0012 0246     		mov	r2, r0
 6034 0014 6421     		movs	r1, #100
 6035 0016 2046     		mov	r0, r4
 6036 0018 FFF7FEFF 		bl	SPI_EndRxTransaction
 6037              	.LVL351:
4191:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 6038              		.loc 1 4191 6 view .LVU1899
 6039 001c 18B1     		cbz	r0, .L441
4193:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
 6040              		.loc 1 4193 5 is_stmt 1 view .LVU1900
 6041 001e 236E     		ldr	r3, [r4, #96]
 6042 0020 43F02003 		orr	r3, r3, #32
 6043 0024 2366     		str	r3, [r4, #96]
 6044              	.L441:
4195:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 6045              		.loc 1 4195 3 view .LVU1901
4195:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 6046              		.loc 1 4195 15 is_stmt 0 view .LVU1902
 6047 0026 0123     		movs	r3, #1
 6048 0028 84F85D30 		strb	r3, [r4, #93]
4213:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
 6049              		.loc 1 4213 5 is_stmt 1 view .LVU1903
4213:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
 6050              		.loc 1 4213 13 is_stmt 0 view .LVU1904
 6051 002c 236E     		ldr	r3, [r4, #96]
4213:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
 6052              		.loc 1 4213 8 view .LVU1905
 6053 002e 1BB9     		cbnz	r3, .L442
4219:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
 6054              		.loc 1 4219 7 is_stmt 1 view .LVU1906
 6055 0030 2046     		mov	r0, r4
 6056 0032 FFF7FEFF 		bl	HAL_SPI_RxCpltCallback
 6057              	.LVL352:
 6058              	.L440:
4234:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 6059              		.loc 1 4234 1 is_stmt 0 view .LVU1907
 6060 0036 10BD     		pop	{r4, pc}
 6061              	.LVL353:
 6062              	.L442:
4228:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
 6063              		.loc 1 4228 7 is_stmt 1 view .LVU1908
 6064 0038 2046     		mov	r0, r4
 6065 003a FFF7FEFF 		bl	HAL_SPI_ErrorCallback
 6066              	.LVL354:
4234:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 6067              		.loc 1 4234 1 is_stmt 0 view .LVU1909
 6068 003e FAE7     		b	.L440
 6069              		.cfi_endproc
 6070              	.LFE184:
 6072              		.section	.text.SPI_RxISR_8BIT,"ax",%progbits
 6073              		.align	1
 6074              		.syntax unified
 6075              		.thumb
 6076              		.thumb_func
 6077              		.fpu fpv4-sp-d16
 6079              	SPI_RxISR_8BIT:
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 214


 6080              	.LVL355:
 6081              	.LFB175:
3752:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   *hspi->pRxBuffPtr = (*(__IO uint8_t *)&hspi->Instance->DR);
 6082              		.loc 1 3752 1 is_stmt 1 view -0
 6083              		.cfi_startproc
 6084              		@ args = 0, pretend = 0, frame = 0
 6085              		@ frame_needed = 0, uses_anonymous_args = 0
3752:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   *hspi->pRxBuffPtr = (*(__IO uint8_t *)&hspi->Instance->DR);
 6086              		.loc 1 3752 1 is_stmt 0 view .LVU1911
 6087 0000 08B5     		push	{r3, lr}
 6088              	.LCFI54:
 6089              		.cfi_def_cfa_offset 8
 6090              		.cfi_offset 3, -8
 6091              		.cfi_offset 14, -4
3753:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->pRxBuffPtr++;
 6092              		.loc 1 3753 3 is_stmt 1 view .LVU1912
3753:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->pRxBuffPtr++;
 6093              		.loc 1 3753 46 is_stmt 0 view .LVU1913
 6094 0002 0268     		ldr	r2, [r0]
3753:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->pRxBuffPtr++;
 6095              		.loc 1 3753 8 view .LVU1914
 6096 0004 036C     		ldr	r3, [r0, #64]
3753:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->pRxBuffPtr++;
 6097              		.loc 1 3753 24 view .LVU1915
 6098 0006 127B     		ldrb	r2, [r2, #12]	@ zero_extendqisi2
3753:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->pRxBuffPtr++;
 6099              		.loc 1 3753 21 view .LVU1916
 6100 0008 1A70     		strb	r2, [r3]
3754:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->RxXferCount--;
 6101              		.loc 1 3754 3 is_stmt 1 view .LVU1917
3754:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->RxXferCount--;
 6102              		.loc 1 3754 7 is_stmt 0 view .LVU1918
 6103 000a 036C     		ldr	r3, [r0, #64]
3754:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->RxXferCount--;
 6104              		.loc 1 3754 19 view .LVU1919
 6105 000c 0133     		adds	r3, r3, #1
 6106 000e 0364     		str	r3, [r0, #64]
3755:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 6107              		.loc 1 3755 3 is_stmt 1 view .LVU1920
3755:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 6108              		.loc 1 3755 7 is_stmt 0 view .LVU1921
 6109 0010 B0F84630 		ldrh	r3, [r0, #70]
 6110 0014 9BB2     		uxth	r3, r3
3755:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 6111              		.loc 1 3755 20 view .LVU1922
 6112 0016 013B     		subs	r3, r3, #1
 6113 0018 9BB2     		uxth	r3, r3
 6114 001a A0F84630 		strh	r3, [r0, #70]	@ movhi
3765:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 6115              		.loc 1 3765 3 is_stmt 1 view .LVU1923
3765:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 6116              		.loc 1 3765 11 is_stmt 0 view .LVU1924
 6117 001e B0F84630 		ldrh	r3, [r0, #70]
 6118 0022 9BB2     		uxth	r3, r3
3765:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 6119              		.loc 1 3765 6 view .LVU1925
 6120 0024 03B1     		cbz	r3, .L448
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 215


 6121              	.LVL356:
 6122              	.L445:
3776:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 6123              		.loc 1 3776 1 view .LVU1926
 6124 0026 08BD     		pop	{r3, pc}
 6125              	.LVL357:
 6126              	.L448:
3774:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
 6127              		.loc 1 3774 5 is_stmt 1 view .LVU1927
 6128 0028 FFF7FEFF 		bl	SPI_CloseRx_ISR
 6129              	.LVL358:
3776:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 6130              		.loc 1 3776 1 is_stmt 0 view .LVU1928
 6131 002c FBE7     		b	.L445
 6132              		.cfi_endproc
 6133              	.LFE175:
 6135              		.section	.text.SPI_RxISR_16BIT,"ax",%progbits
 6136              		.align	1
 6137              		.syntax unified
 6138              		.thumb
 6139              		.thumb_func
 6140              		.fpu fpv4-sp-d16
 6142              	SPI_RxISR_16BIT:
 6143              	.LVL359:
 6144              	.LFB176:
3808:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   *((uint16_t *)hspi->pRxBuffPtr) = (uint16_t)(hspi->Instance->DR);
 6145              		.loc 1 3808 1 is_stmt 1 view -0
 6146              		.cfi_startproc
 6147              		@ args = 0, pretend = 0, frame = 0
 6148              		@ frame_needed = 0, uses_anonymous_args = 0
3808:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   *((uint16_t *)hspi->pRxBuffPtr) = (uint16_t)(hspi->Instance->DR);
 6149              		.loc 1 3808 1 is_stmt 0 view .LVU1930
 6150 0000 08B5     		push	{r3, lr}
 6151              	.LCFI55:
 6152              		.cfi_def_cfa_offset 8
 6153              		.cfi_offset 3, -8
 6154              		.cfi_offset 14, -4
3809:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->pRxBuffPtr += sizeof(uint16_t);
 6155              		.loc 1 3809 3 is_stmt 1 view .LVU1931
3809:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->pRxBuffPtr += sizeof(uint16_t);
 6156              		.loc 1 3809 52 is_stmt 0 view .LVU1932
 6157 0002 0368     		ldr	r3, [r0]
3809:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->pRxBuffPtr += sizeof(uint16_t);
 6158              		.loc 1 3809 62 view .LVU1933
 6159 0004 DA68     		ldr	r2, [r3, #12]
3809:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->pRxBuffPtr += sizeof(uint16_t);
 6160              		.loc 1 3809 21 view .LVU1934
 6161 0006 036C     		ldr	r3, [r0, #64]
3809:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->pRxBuffPtr += sizeof(uint16_t);
 6162              		.loc 1 3809 35 view .LVU1935
 6163 0008 1A80     		strh	r2, [r3]	@ movhi
3810:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->RxXferCount--;
 6164              		.loc 1 3810 3 is_stmt 1 view .LVU1936
3810:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->RxXferCount--;
 6165              		.loc 1 3810 20 is_stmt 0 view .LVU1937
 6166 000a 036C     		ldr	r3, [r0, #64]
 6167 000c 0233     		adds	r3, r3, #2
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 216


 6168 000e 0364     		str	r3, [r0, #64]
3811:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 6169              		.loc 1 3811 3 is_stmt 1 view .LVU1938
3811:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 6170              		.loc 1 3811 7 is_stmt 0 view .LVU1939
 6171 0010 B0F84630 		ldrh	r3, [r0, #70]
 6172 0014 9BB2     		uxth	r3, r3
3811:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 6173              		.loc 1 3811 20 view .LVU1940
 6174 0016 013B     		subs	r3, r3, #1
 6175 0018 9BB2     		uxth	r3, r3
 6176 001a A0F84630 		strh	r3, [r0, #70]	@ movhi
3821:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 6177              		.loc 1 3821 3 is_stmt 1 view .LVU1941
3821:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 6178              		.loc 1 3821 11 is_stmt 0 view .LVU1942
 6179 001e B0F84630 		ldrh	r3, [r0, #70]
 6180 0022 9BB2     		uxth	r3, r3
3821:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 6181              		.loc 1 3821 6 view .LVU1943
 6182 0024 03B1     		cbz	r3, .L452
 6183              	.LVL360:
 6184              	.L449:
3832:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 6185              		.loc 1 3832 1 view .LVU1944
 6186 0026 08BD     		pop	{r3, pc}
 6187              	.LVL361:
 6188              	.L452:
3830:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
 6189              		.loc 1 3830 5 is_stmt 1 view .LVU1945
 6190 0028 FFF7FEFF 		bl	SPI_CloseRx_ISR
 6191              	.LVL362:
3832:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 6192              		.loc 1 3832 1 is_stmt 0 view .LVU1946
 6193 002c FBE7     		b	.L449
 6194              		.cfi_endproc
 6195              	.LFE176:
 6197              		.section	.text.SPI_CloseRxTx_ISR,"ax",%progbits
 6198              		.align	1
 6199              		.syntax unified
 6200              		.thumb
 6201              		.thumb_func
 6202              		.fpu fpv4-sp-d16
 6204              	SPI_CloseRxTx_ISR:
 6205              	.LVL363:
 6206              	.LFB183:
4109:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   uint32_t tickstart;
 6207              		.loc 1 4109 1 is_stmt 1 view -0
 6208              		.cfi_startproc
 6209              		@ args = 0, pretend = 0, frame = 0
 6210              		@ frame_needed = 0, uses_anonymous_args = 0
4109:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   uint32_t tickstart;
 6211              		.loc 1 4109 1 is_stmt 0 view .LVU1948
 6212 0000 10B5     		push	{r4, lr}
 6213              	.LCFI56:
 6214              		.cfi_def_cfa_offset 8
 6215              		.cfi_offset 4, -8
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 217


 6216              		.cfi_offset 14, -4
 6217 0002 0446     		mov	r4, r0
4110:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 6218              		.loc 1 4110 3 is_stmt 1 view .LVU1949
4113:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 6219              		.loc 1 4113 3 view .LVU1950
4113:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 6220              		.loc 1 4113 15 is_stmt 0 view .LVU1951
 6221 0004 FFF7FEFF 		bl	HAL_GetTick
 6222              	.LVL364:
4113:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 6223              		.loc 1 4113 15 view .LVU1952
 6224 0008 0246     		mov	r2, r0
 6225              	.LVL365:
4116:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 6226              		.loc 1 4116 3 is_stmt 1 view .LVU1953
 6227 000a 2168     		ldr	r1, [r4]
 6228 000c 4B68     		ldr	r3, [r1, #4]
 6229 000e 23F02003 		bic	r3, r3, #32
 6230 0012 4B60     		str	r3, [r1, #4]
4119:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 6231              		.loc 1 4119 3 view .LVU1954
4119:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 6232              		.loc 1 4119 7 is_stmt 0 view .LVU1955
 6233 0014 6421     		movs	r1, #100
 6234 0016 2046     		mov	r0, r4
 6235              	.LVL366:
4119:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 6236              		.loc 1 4119 7 view .LVU1956
 6237 0018 FFF7FEFF 		bl	SPI_EndRxTxTransaction
 6238              	.LVL367:
4119:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 6239              		.loc 1 4119 6 view .LVU1957
 6240 001c 18B1     		cbz	r0, .L454
4121:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
 6241              		.loc 1 4121 5 is_stmt 1 view .LVU1958
 6242 001e 236E     		ldr	r3, [r4, #96]
 6243 0020 43F02003 		orr	r3, r3, #32
 6244 0024 2366     		str	r3, [r4, #96]
 6245              	.L454:
4141:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
 6246              		.loc 1 4141 5 view .LVU1959
4141:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
 6247              		.loc 1 4141 13 is_stmt 0 view .LVU1960
 6248 0026 236E     		ldr	r3, [r4, #96]
4141:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
 6249              		.loc 1 4141 8 view .LVU1961
 6250 0028 93B9     		cbnz	r3, .L455
4143:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       {
 6251              		.loc 1 4143 7 is_stmt 1 view .LVU1962
4143:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       {
 6252              		.loc 1 4143 15 is_stmt 0 view .LVU1963
 6253 002a 94F85D30 		ldrb	r3, [r4, #93]	@ zero_extendqisi2
 6254 002e DBB2     		uxtb	r3, r3
4143:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       {
 6255              		.loc 1 4143 10 view .LVU1964
 6256 0030 042B     		cmp	r3, #4
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 218


 6257 0032 06D0     		beq	.L459
4155:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         /* Call user TxRx complete callback */
 6258              		.loc 1 4155 9 is_stmt 1 view .LVU1965
4155:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         /* Call user TxRx complete callback */
 6259              		.loc 1 4155 21 is_stmt 0 view .LVU1966
 6260 0034 0123     		movs	r3, #1
 6261 0036 84F85D30 		strb	r3, [r4, #93]
4160:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
 6262              		.loc 1 4160 9 is_stmt 1 view .LVU1967
 6263 003a 2046     		mov	r0, r4
 6264 003c FFF7FEFF 		bl	HAL_SPI_TxRxCpltCallback
 6265              	.LVL368:
 6266              	.L453:
4177:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 6267              		.loc 1 4177 1 is_stmt 0 view .LVU1968
 6268 0040 10BD     		pop	{r4, pc}
 6269              	.LVL369:
 6270              	.L459:
4145:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         /* Call user Rx complete callback */
 6271              		.loc 1 4145 9 is_stmt 1 view .LVU1969
4145:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         /* Call user Rx complete callback */
 6272              		.loc 1 4145 21 is_stmt 0 view .LVU1970
 6273 0042 0123     		movs	r3, #1
 6274 0044 84F85D30 		strb	r3, [r4, #93]
4150:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
 6275              		.loc 1 4150 9 is_stmt 1 view .LVU1971
 6276 0048 2046     		mov	r0, r4
 6277 004a FFF7FEFF 		bl	HAL_SPI_RxCpltCallback
 6278              	.LVL370:
 6279 004e F7E7     		b	.L453
 6280              	.L455:
4166:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       /* Call user error callback */
 6281              		.loc 1 4166 7 view .LVU1972
4166:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       /* Call user error callback */
 6282              		.loc 1 4166 19 is_stmt 0 view .LVU1973
 6283 0050 0123     		movs	r3, #1
 6284 0052 84F85D30 		strb	r3, [r4, #93]
4171:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
 6285              		.loc 1 4171 7 is_stmt 1 view .LVU1974
 6286 0056 2046     		mov	r0, r4
 6287 0058 FFF7FEFF 		bl	HAL_SPI_ErrorCallback
 6288              	.LVL371:
4177:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 6289              		.loc 1 4177 1 is_stmt 0 view .LVU1975
 6290 005c F0E7     		b	.L453
 6291              		.cfi_endproc
 6292              	.LFE183:
 6294              		.section	.text.SPI_2linesTxISR_8BIT,"ax",%progbits
 6295              		.align	1
 6296              		.syntax unified
 6297              		.thumb
 6298              		.thumb_func
 6299              		.fpu fpv4-sp-d16
 6301              	SPI_2linesTxISR_8BIT:
 6302              	.LVL372:
 6303              	.LFB172:
3587:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Transmit data in packing Bit mode */
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 219


 6304              		.loc 1 3587 1 is_stmt 1 view -0
 6305              		.cfi_startproc
 6306              		@ args = 0, pretend = 0, frame = 0
 6307              		@ frame_needed = 0, uses_anonymous_args = 0
3587:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Transmit data in packing Bit mode */
 6308              		.loc 1 3587 1 is_stmt 0 view .LVU1977
 6309 0000 08B5     		push	{r3, lr}
 6310              	.LCFI57:
 6311              		.cfi_def_cfa_offset 8
 6312              		.cfi_offset 3, -8
 6313              		.cfi_offset 14, -4
3589:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 6314              		.loc 1 3589 3 is_stmt 1 view .LVU1978
3589:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 6315              		.loc 1 3589 11 is_stmt 0 view .LVU1979
 6316 0002 C38F     		ldrh	r3, [r0, #62]
 6317 0004 9BB2     		uxth	r3, r3
3589:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 6318              		.loc 1 3589 6 view .LVU1980
 6319 0006 012B     		cmp	r3, #1
 6320 0008 18D9     		bls	.L461
3591:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     hspi->pTxBuffPtr += sizeof(uint16_t);
 6321              		.loc 1 3591 5 is_stmt 1 view .LVU1981
3591:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     hspi->pTxBuffPtr += sizeof(uint16_t);
 6322              		.loc 1 3591 44 is_stmt 0 view .LVU1982
 6323 000a 826B     		ldr	r2, [r0, #56]
3591:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     hspi->pTxBuffPtr += sizeof(uint16_t);
 6324              		.loc 1 3591 9 view .LVU1983
 6325 000c 0368     		ldr	r3, [r0]
3591:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     hspi->pTxBuffPtr += sizeof(uint16_t);
 6326              		.loc 1 3591 26 view .LVU1984
 6327 000e 1288     		ldrh	r2, [r2]
3591:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     hspi->pTxBuffPtr += sizeof(uint16_t);
 6328              		.loc 1 3591 24 view .LVU1985
 6329 0010 DA60     		str	r2, [r3, #12]
3592:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     hspi->TxXferCount -= 2U;
 6330              		.loc 1 3592 5 is_stmt 1 view .LVU1986
3592:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     hspi->TxXferCount -= 2U;
 6331              		.loc 1 3592 22 is_stmt 0 view .LVU1987
 6332 0012 836B     		ldr	r3, [r0, #56]
 6333 0014 0233     		adds	r3, r3, #2
 6334 0016 8363     		str	r3, [r0, #56]
3593:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
 6335              		.loc 1 3593 5 is_stmt 1 view .LVU1988
3593:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
 6336              		.loc 1 3593 23 is_stmt 0 view .LVU1989
 6337 0018 C38F     		ldrh	r3, [r0, #62]
 6338 001a 9BB2     		uxth	r3, r3
 6339 001c 023B     		subs	r3, r3, #2
 6340 001e 9BB2     		uxth	r3, r3
 6341 0020 C387     		strh	r3, [r0, #62]	@ movhi
 6342              	.L462:
3604:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 6343              		.loc 1 3604 3 is_stmt 1 view .LVU1990
3604:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 6344              		.loc 1 3604 11 is_stmt 0 view .LVU1991
 6345 0022 C38F     		ldrh	r3, [r0, #62]
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 220


 6346 0024 9BB2     		uxth	r3, r3
3604:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 6347              		.loc 1 3604 6 view .LVU1992
 6348 0026 43B9     		cbnz	r3, .L460
3618:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 6349              		.loc 1 3618 5 is_stmt 1 view .LVU1993
 6350 0028 0268     		ldr	r2, [r0]
 6351 002a 5368     		ldr	r3, [r2, #4]
 6352 002c 23F08003 		bic	r3, r3, #128
 6353 0030 5360     		str	r3, [r2, #4]
3620:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
 6354              		.loc 1 3620 5 view .LVU1994
3620:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
 6355              		.loc 1 3620 13 is_stmt 0 view .LVU1995
 6356 0032 B0F84630 		ldrh	r3, [r0, #70]
 6357 0036 9BB2     		uxth	r3, r3
3620:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
 6358              		.loc 1 3620 8 view .LVU1996
 6359 0038 6BB1     		cbz	r3, .L465
 6360              	.LVL373:
 6361              	.L460:
3625:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 6362              		.loc 1 3625 1 view .LVU1997
 6363 003a 08BD     		pop	{r3, pc}
 6364              	.LVL374:
 6365              	.L461:
3598:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     hspi->pTxBuffPtr++;
 6366              		.loc 1 3598 5 is_stmt 1 view .LVU1998
3598:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     hspi->pTxBuffPtr++;
 6367              		.loc 1 3598 50 is_stmt 0 view .LVU1999
 6368 003c 826B     		ldr	r2, [r0, #56]
3598:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     hspi->pTxBuffPtr++;
 6369              		.loc 1 3598 27 view .LVU2000
 6370 003e 0368     		ldr	r3, [r0]
3598:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     hspi->pTxBuffPtr++;
 6371              		.loc 1 3598 45 view .LVU2001
 6372 0040 1278     		ldrb	r2, [r2]	@ zero_extendqisi2
3598:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     hspi->pTxBuffPtr++;
 6373              		.loc 1 3598 42 view .LVU2002
 6374 0042 1A73     		strb	r2, [r3, #12]
3599:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     hspi->TxXferCount--;
 6375              		.loc 1 3599 5 is_stmt 1 view .LVU2003
3599:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     hspi->TxXferCount--;
 6376              		.loc 1 3599 9 is_stmt 0 view .LVU2004
 6377 0044 836B     		ldr	r3, [r0, #56]
3599:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     hspi->TxXferCount--;
 6378              		.loc 1 3599 21 view .LVU2005
 6379 0046 0133     		adds	r3, r3, #1
 6380 0048 8363     		str	r3, [r0, #56]
3600:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
 6381              		.loc 1 3600 5 is_stmt 1 view .LVU2006
3600:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
 6382              		.loc 1 3600 9 is_stmt 0 view .LVU2007
 6383 004a C38F     		ldrh	r3, [r0, #62]
 6384 004c 9BB2     		uxth	r3, r3
3600:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
 6385              		.loc 1 3600 22 view .LVU2008
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 221


 6386 004e 013B     		subs	r3, r3, #1
 6387 0050 9BB2     		uxth	r3, r3
 6388 0052 C387     		strh	r3, [r0, #62]	@ movhi
 6389 0054 E5E7     		b	.L462
 6390              	.L465:
3622:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
 6391              		.loc 1 3622 7 is_stmt 1 view .LVU2009
 6392 0056 FFF7FEFF 		bl	SPI_CloseRxTx_ISR
 6393              	.LVL375:
3625:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 6394              		.loc 1 3625 1 is_stmt 0 view .LVU2010
 6395 005a EEE7     		b	.L460
 6396              		.cfi_endproc
 6397              	.LFE172:
 6399              		.section	.text.SPI_2linesRxISR_8BIT,"ax",%progbits
 6400              		.align	1
 6401              		.syntax unified
 6402              		.thumb
 6403              		.thumb_func
 6404              		.fpu fpv4-sp-d16
 6406              	SPI_2linesRxISR_8BIT:
 6407              	.LVL376:
 6408              	.LFB171:
3505:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Receive data in packing mode */
 6409              		.loc 1 3505 1 is_stmt 1 view -0
 6410              		.cfi_startproc
 6411              		@ args = 0, pretend = 0, frame = 0
 6412              		@ frame_needed = 0, uses_anonymous_args = 0
3505:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Receive data in packing mode */
 6413              		.loc 1 3505 1 is_stmt 0 view .LVU2012
 6414 0000 08B5     		push	{r3, lr}
 6415              	.LCFI58:
 6416              		.cfi_def_cfa_offset 8
 6417              		.cfi_offset 3, -8
 6418              		.cfi_offset 14, -4
3507:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 6419              		.loc 1 3507 3 is_stmt 1 view .LVU2013
3507:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 6420              		.loc 1 3507 11 is_stmt 0 view .LVU2014
 6421 0002 B0F84630 		ldrh	r3, [r0, #70]
 6422 0006 9BB2     		uxth	r3, r3
3507:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 6423              		.loc 1 3507 6 view .LVU2015
 6424 0008 012B     		cmp	r3, #1
 6425 000a 18D9     		bls	.L467
3509:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     hspi->pRxBuffPtr += sizeof(uint16_t);
 6426              		.loc 1 3509 5 is_stmt 1 view .LVU2016
3509:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     hspi->pRxBuffPtr += sizeof(uint16_t);
 6427              		.loc 1 3509 54 is_stmt 0 view .LVU2017
 6428 000c 0368     		ldr	r3, [r0]
3509:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     hspi->pRxBuffPtr += sizeof(uint16_t);
 6429              		.loc 1 3509 64 view .LVU2018
 6430 000e DA68     		ldr	r2, [r3, #12]
3509:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     hspi->pRxBuffPtr += sizeof(uint16_t);
 6431              		.loc 1 3509 23 view .LVU2019
 6432 0010 036C     		ldr	r3, [r0, #64]
3509:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     hspi->pRxBuffPtr += sizeof(uint16_t);
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 222


 6433              		.loc 1 3509 37 view .LVU2020
 6434 0012 1A80     		strh	r2, [r3]	@ movhi
3510:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     hspi->RxXferCount -= 2U;
 6435              		.loc 1 3510 5 is_stmt 1 view .LVU2021
3510:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     hspi->RxXferCount -= 2U;
 6436              		.loc 1 3510 22 is_stmt 0 view .LVU2022
 6437 0014 036C     		ldr	r3, [r0, #64]
 6438 0016 0233     		adds	r3, r3, #2
 6439 0018 0364     		str	r3, [r0, #64]
3511:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     if (hspi->RxXferCount == 1U)
 6440              		.loc 1 3511 5 is_stmt 1 view .LVU2023
3511:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     if (hspi->RxXferCount == 1U)
 6441              		.loc 1 3511 23 is_stmt 0 view .LVU2024
 6442 001a B0F84630 		ldrh	r3, [r0, #70]
 6443 001e 9BB2     		uxth	r3, r3
 6444 0020 023B     		subs	r3, r3, #2
 6445 0022 9BB2     		uxth	r3, r3
 6446 0024 A0F84630 		strh	r3, [r0, #70]	@ movhi
3512:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
 6447              		.loc 1 3512 5 is_stmt 1 view .LVU2025
3512:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
 6448              		.loc 1 3512 13 is_stmt 0 view .LVU2026
 6449 0028 B0F84630 		ldrh	r3, [r0, #70]
 6450 002c 9BB2     		uxth	r3, r3
3512:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
 6451              		.loc 1 3512 8 view .LVU2027
 6452 002e 012B     		cmp	r3, #1
 6453 0030 13D1     		bne	.L468
3515:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
 6454              		.loc 1 3515 7 is_stmt 1 view .LVU2028
 6455 0032 0268     		ldr	r2, [r0]
 6456 0034 5368     		ldr	r3, [r2, #4]
 6457 0036 43F48053 		orr	r3, r3, #4096
 6458 003a 5360     		str	r3, [r2, #4]
 6459 003c 0DE0     		b	.L468
 6460              	.L467:
3521:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     hspi->pRxBuffPtr++;
 6461              		.loc 1 3521 5 view .LVU2029
3521:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     hspi->pRxBuffPtr++;
 6462              		.loc 1 3521 48 is_stmt 0 view .LVU2030
 6463 003e 0268     		ldr	r2, [r0]
3521:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     hspi->pRxBuffPtr++;
 6464              		.loc 1 3521 10 view .LVU2031
 6465 0040 036C     		ldr	r3, [r0, #64]
3521:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     hspi->pRxBuffPtr++;
 6466              		.loc 1 3521 25 view .LVU2032
 6467 0042 127B     		ldrb	r2, [r2, #12]	@ zero_extendqisi2
3521:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     hspi->pRxBuffPtr++;
 6468              		.loc 1 3521 23 view .LVU2033
 6469 0044 1A70     		strb	r2, [r3]
3522:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     hspi->RxXferCount--;
 6470              		.loc 1 3522 5 is_stmt 1 view .LVU2034
3522:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     hspi->RxXferCount--;
 6471              		.loc 1 3522 9 is_stmt 0 view .LVU2035
 6472 0046 036C     		ldr	r3, [r0, #64]
3522:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     hspi->RxXferCount--;
 6473              		.loc 1 3522 21 view .LVU2036
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 223


 6474 0048 0133     		adds	r3, r3, #1
 6475 004a 0364     		str	r3, [r0, #64]
3523:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
 6476              		.loc 1 3523 5 is_stmt 1 view .LVU2037
3523:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
 6477              		.loc 1 3523 9 is_stmt 0 view .LVU2038
 6478 004c B0F84630 		ldrh	r3, [r0, #70]
 6479 0050 9BB2     		uxth	r3, r3
3523:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
 6480              		.loc 1 3523 22 view .LVU2039
 6481 0052 013B     		subs	r3, r3, #1
 6482 0054 9BB2     		uxth	r3, r3
 6483 0056 A0F84630 		strh	r3, [r0, #70]	@ movhi
 6484              	.L468:
3527:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 6485              		.loc 1 3527 3 is_stmt 1 view .LVU2040
3527:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 6486              		.loc 1 3527 11 is_stmt 0 view .LVU2041
 6487 005a B0F84630 		ldrh	r3, [r0, #70]
 6488 005e 9BB2     		uxth	r3, r3
3527:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 6489              		.loc 1 3527 6 view .LVU2042
 6490 0060 3BB9     		cbnz	r3, .L466
3539:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 6491              		.loc 1 3539 5 is_stmt 1 view .LVU2043
 6492 0062 0268     		ldr	r2, [r0]
 6493 0064 5368     		ldr	r3, [r2, #4]
 6494 0066 23F06003 		bic	r3, r3, #96
 6495 006a 5360     		str	r3, [r2, #4]
3541:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
 6496              		.loc 1 3541 5 view .LVU2044
3541:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
 6497              		.loc 1 3541 13 is_stmt 0 view .LVU2045
 6498 006c C38F     		ldrh	r3, [r0, #62]
 6499 006e 9BB2     		uxth	r3, r3
3541:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
 6500              		.loc 1 3541 8 view .LVU2046
 6501 0070 03B1     		cbz	r3, .L471
 6502              	.LVL377:
 6503              	.L466:
3546:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 6504              		.loc 1 3546 1 view .LVU2047
 6505 0072 08BD     		pop	{r3, pc}
 6506              	.LVL378:
 6507              	.L471:
3543:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
 6508              		.loc 1 3543 7 is_stmt 1 view .LVU2048
 6509 0074 FFF7FEFF 		bl	SPI_CloseRxTx_ISR
 6510              	.LVL379:
3546:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 6511              		.loc 1 3546 1 is_stmt 0 view .LVU2049
 6512 0078 FBE7     		b	.L466
 6513              		.cfi_endproc
 6514              	.LFE171:
 6516              		.section	.text.SPI_2linesTxISR_16BIT,"ax",%progbits
 6517              		.align	1
 6518              		.syntax unified
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 224


 6519              		.thumb
 6520              		.thumb_func
 6521              		.fpu fpv4-sp-d16
 6523              	SPI_2linesTxISR_16BIT:
 6524              	.LVL380:
 6525              	.LFB174:
3690:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Transmit data in 16 Bit mode */
 6526              		.loc 1 3690 1 is_stmt 1 view -0
 6527              		.cfi_startproc
 6528              		@ args = 0, pretend = 0, frame = 0
 6529              		@ frame_needed = 0, uses_anonymous_args = 0
3690:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Transmit data in 16 Bit mode */
 6530              		.loc 1 3690 1 is_stmt 0 view .LVU2051
 6531 0000 08B5     		push	{r3, lr}
 6532              	.LCFI59:
 6533              		.cfi_def_cfa_offset 8
 6534              		.cfi_offset 3, -8
 6535              		.cfi_offset 14, -4
3692:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->pTxBuffPtr += sizeof(uint16_t);
 6536              		.loc 1 3692 3 is_stmt 1 view .LVU2052
3692:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->pTxBuffPtr += sizeof(uint16_t);
 6537              		.loc 1 3692 42 is_stmt 0 view .LVU2053
 6538 0002 826B     		ldr	r2, [r0, #56]
3692:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->pTxBuffPtr += sizeof(uint16_t);
 6539              		.loc 1 3692 7 view .LVU2054
 6540 0004 0368     		ldr	r3, [r0]
3692:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->pTxBuffPtr += sizeof(uint16_t);
 6541              		.loc 1 3692 24 view .LVU2055
 6542 0006 1288     		ldrh	r2, [r2]
3692:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->pTxBuffPtr += sizeof(uint16_t);
 6543              		.loc 1 3692 22 view .LVU2056
 6544 0008 DA60     		str	r2, [r3, #12]
3693:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->TxXferCount--;
 6545              		.loc 1 3693 3 is_stmt 1 view .LVU2057
3693:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->TxXferCount--;
 6546              		.loc 1 3693 20 is_stmt 0 view .LVU2058
 6547 000a 836B     		ldr	r3, [r0, #56]
 6548 000c 0233     		adds	r3, r3, #2
 6549 000e 8363     		str	r3, [r0, #56]
3694:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 6550              		.loc 1 3694 3 is_stmt 1 view .LVU2059
3694:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 6551              		.loc 1 3694 7 is_stmt 0 view .LVU2060
 6552 0010 C38F     		ldrh	r3, [r0, #62]
 6553 0012 9BB2     		uxth	r3, r3
3694:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 6554              		.loc 1 3694 20 view .LVU2061
 6555 0014 013B     		subs	r3, r3, #1
 6556 0016 9BB2     		uxth	r3, r3
 6557 0018 C387     		strh	r3, [r0, #62]	@ movhi
3697:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 6558              		.loc 1 3697 3 is_stmt 1 view .LVU2062
3697:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 6559              		.loc 1 3697 11 is_stmt 0 view .LVU2063
 6560 001a C38F     		ldrh	r3, [r0, #62]
 6561 001c 9BB2     		uxth	r3, r3
3697:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 225


 6562              		.loc 1 3697 6 view .LVU2064
 6563 001e 43B9     		cbnz	r3, .L472
3711:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 6564              		.loc 1 3711 5 is_stmt 1 view .LVU2065
 6565 0020 0268     		ldr	r2, [r0]
 6566 0022 5368     		ldr	r3, [r2, #4]
 6567 0024 23F08003 		bic	r3, r3, #128
 6568 0028 5360     		str	r3, [r2, #4]
3713:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
 6569              		.loc 1 3713 5 view .LVU2066
3713:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
 6570              		.loc 1 3713 13 is_stmt 0 view .LVU2067
 6571 002a B0F84630 		ldrh	r3, [r0, #70]
 6572 002e 9BB2     		uxth	r3, r3
3713:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
 6573              		.loc 1 3713 8 view .LVU2068
 6574 0030 03B1     		cbz	r3, .L475
 6575              	.LVL381:
 6576              	.L472:
3718:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 6577              		.loc 1 3718 1 view .LVU2069
 6578 0032 08BD     		pop	{r3, pc}
 6579              	.LVL382:
 6580              	.L475:
3715:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
 6581              		.loc 1 3715 7 is_stmt 1 view .LVU2070
 6582 0034 FFF7FEFF 		bl	SPI_CloseRxTx_ISR
 6583              	.LVL383:
3718:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 6584              		.loc 1 3718 1 is_stmt 0 view .LVU2071
 6585 0038 FBE7     		b	.L472
 6586              		.cfi_endproc
 6587              	.LFE174:
 6589              		.section	.text.SPI_2linesRxISR_16BIT,"ax",%progbits
 6590              		.align	1
 6591              		.syntax unified
 6592              		.thumb
 6593              		.thumb_func
 6594              		.fpu fpv4-sp-d16
 6596              	SPI_2linesRxISR_16BIT:
 6597              	.LVL384:
 6598              	.LFB173:
3634:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Receive data in 16 Bit mode */
 6599              		.loc 1 3634 1 is_stmt 1 view -0
 6600              		.cfi_startproc
 6601              		@ args = 0, pretend = 0, frame = 0
 6602              		@ frame_needed = 0, uses_anonymous_args = 0
3634:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Receive data in 16 Bit mode */
 6603              		.loc 1 3634 1 is_stmt 0 view .LVU2073
 6604 0000 08B5     		push	{r3, lr}
 6605              	.LCFI60:
 6606              		.cfi_def_cfa_offset 8
 6607              		.cfi_offset 3, -8
 6608              		.cfi_offset 14, -4
3636:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->pRxBuffPtr += sizeof(uint16_t);
 6609              		.loc 1 3636 3 is_stmt 1 view .LVU2074
3636:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->pRxBuffPtr += sizeof(uint16_t);
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 226


 6610              		.loc 1 3636 52 is_stmt 0 view .LVU2075
 6611 0002 0368     		ldr	r3, [r0]
3636:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->pRxBuffPtr += sizeof(uint16_t);
 6612              		.loc 1 3636 62 view .LVU2076
 6613 0004 DA68     		ldr	r2, [r3, #12]
3636:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->pRxBuffPtr += sizeof(uint16_t);
 6614              		.loc 1 3636 21 view .LVU2077
 6615 0006 036C     		ldr	r3, [r0, #64]
3636:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->pRxBuffPtr += sizeof(uint16_t);
 6616              		.loc 1 3636 35 view .LVU2078
 6617 0008 1A80     		strh	r2, [r3]	@ movhi
3637:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->RxXferCount--;
 6618              		.loc 1 3637 3 is_stmt 1 view .LVU2079
3637:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->RxXferCount--;
 6619              		.loc 1 3637 20 is_stmt 0 view .LVU2080
 6620 000a 036C     		ldr	r3, [r0, #64]
 6621 000c 0233     		adds	r3, r3, #2
 6622 000e 0364     		str	r3, [r0, #64]
3638:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 6623              		.loc 1 3638 3 is_stmt 1 view .LVU2081
3638:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 6624              		.loc 1 3638 7 is_stmt 0 view .LVU2082
 6625 0010 B0F84630 		ldrh	r3, [r0, #70]
 6626 0014 9BB2     		uxth	r3, r3
3638:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 6627              		.loc 1 3638 20 view .LVU2083
 6628 0016 013B     		subs	r3, r3, #1
 6629 0018 9BB2     		uxth	r3, r3
 6630 001a A0F84630 		strh	r3, [r0, #70]	@ movhi
3640:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 6631              		.loc 1 3640 3 is_stmt 1 view .LVU2084
3640:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 6632              		.loc 1 3640 11 is_stmt 0 view .LVU2085
 6633 001e B0F84630 		ldrh	r3, [r0, #70]
 6634 0022 9BB2     		uxth	r3, r3
3640:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 6635              		.loc 1 3640 6 view .LVU2086
 6636 0024 3BB9     		cbnz	r3, .L476
3651:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 6637              		.loc 1 3651 5 is_stmt 1 view .LVU2087
 6638 0026 0268     		ldr	r2, [r0]
 6639 0028 5368     		ldr	r3, [r2, #4]
 6640 002a 23F04003 		bic	r3, r3, #64
 6641 002e 5360     		str	r3, [r2, #4]
3653:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
 6642              		.loc 1 3653 5 view .LVU2088
3653:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
 6643              		.loc 1 3653 13 is_stmt 0 view .LVU2089
 6644 0030 C38F     		ldrh	r3, [r0, #62]
 6645 0032 9BB2     		uxth	r3, r3
3653:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
 6646              		.loc 1 3653 8 view .LVU2090
 6647 0034 03B1     		cbz	r3, .L479
 6648              	.LVL385:
 6649              	.L476:
3658:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 6650              		.loc 1 3658 1 view .LVU2091
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 227


 6651 0036 08BD     		pop	{r3, pc}
 6652              	.LVL386:
 6653              	.L479:
3655:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
 6654              		.loc 1 3655 7 is_stmt 1 view .LVU2092
 6655 0038 FFF7FEFF 		bl	SPI_CloseRxTx_ISR
 6656              	.LVL387:
3658:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 6657              		.loc 1 3658 1 is_stmt 0 view .LVU2093
 6658 003c FBE7     		b	.L476
 6659              		.cfi_endproc
 6660              	.LFE173:
 6662              		.section	.text.SPI_DMAError,"ax",%progbits
 6663              		.align	1
 6664              		.syntax unified
 6665              		.thumb
 6666              		.thumb_func
 6667              		.fpu fpv4-sp-d16
 6669              	SPI_DMAError:
 6670              	.LVL388:
 6671              	.LFB167:
3329:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   SPI_HandleTypeDef *hspi = (SPI_HandleTypeDef *)(((DMA_HandleTypeDef *)hdma)->Parent); /* Derogati
 6672              		.loc 1 3329 1 is_stmt 1 view -0
 6673              		.cfi_startproc
 6674              		@ args = 0, pretend = 0, frame = 0
 6675              		@ frame_needed = 0, uses_anonymous_args = 0
3329:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   SPI_HandleTypeDef *hspi = (SPI_HandleTypeDef *)(((DMA_HandleTypeDef *)hdma)->Parent); /* Derogati
 6676              		.loc 1 3329 1 is_stmt 0 view .LVU2095
 6677 0000 08B5     		push	{r3, lr}
 6678              	.LCFI61:
 6679              		.cfi_def_cfa_offset 8
 6680              		.cfi_offset 3, -8
 6681              		.cfi_offset 14, -4
3330:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 6682              		.loc 1 3330 3 is_stmt 1 view .LVU2096
3330:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 6683              		.loc 1 3330 22 is_stmt 0 view .LVU2097
 6684 0002 806A     		ldr	r0, [r0, #40]
 6685              	.LVL389:
3333:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 6686              		.loc 1 3333 3 is_stmt 1 view .LVU2098
 6687 0004 0268     		ldr	r2, [r0]
 6688 0006 5368     		ldr	r3, [r2, #4]
 6689 0008 23F00303 		bic	r3, r3, #3
 6690 000c 5360     		str	r3, [r2, #4]
3335:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->State = HAL_SPI_STATE_READY;
 6691              		.loc 1 3335 3 view .LVU2099
 6692 000e 036E     		ldr	r3, [r0, #96]
 6693 0010 43F01003 		orr	r3, r3, #16
 6694 0014 0366     		str	r3, [r0, #96]
3336:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Call user error callback */
 6695              		.loc 1 3336 3 view .LVU2100
3336:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Call user error callback */
 6696              		.loc 1 3336 15 is_stmt 0 view .LVU2101
 6697 0016 0123     		movs	r3, #1
 6698 0018 80F85D30 		strb	r3, [r0, #93]
3341:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 228


 6699              		.loc 1 3341 3 is_stmt 1 view .LVU2102
 6700 001c FFF7FEFF 		bl	HAL_SPI_ErrorCallback
 6701              	.LVL390:
3343:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 6702              		.loc 1 3343 1 is_stmt 0 view .LVU2103
 6703 0020 08BD     		pop	{r3, pc}
 6704              		.cfi_endproc
 6705              	.LFE167:
 6707              		.section	.text.SPI_DMATransmitCplt,"ax",%progbits
 6708              		.align	1
 6709              		.syntax unified
 6710              		.thumb
 6711              		.thumb_func
 6712              		.fpu fpv4-sp-d16
 6714              	SPI_DMATransmitCplt:
 6715              	.LVL391:
 6716              	.LFB161:
3009:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   SPI_HandleTypeDef *hspi = (SPI_HandleTypeDef *)(((DMA_HandleTypeDef *)hdma)->Parent); /* Derogati
 6717              		.loc 1 3009 1 is_stmt 1 view -0
 6718              		.cfi_startproc
 6719              		@ args = 0, pretend = 0, frame = 8
 6720              		@ frame_needed = 0, uses_anonymous_args = 0
3009:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   SPI_HandleTypeDef *hspi = (SPI_HandleTypeDef *)(((DMA_HandleTypeDef *)hdma)->Parent); /* Derogati
 6721              		.loc 1 3009 1 is_stmt 0 view .LVU2105
 6722 0000 30B5     		push	{r4, r5, lr}
 6723              	.LCFI62:
 6724              		.cfi_def_cfa_offset 12
 6725              		.cfi_offset 4, -12
 6726              		.cfi_offset 5, -8
 6727              		.cfi_offset 14, -4
 6728 0002 83B0     		sub	sp, sp, #12
 6729              	.LCFI63:
 6730              		.cfi_def_cfa_offset 24
 6731 0004 0546     		mov	r5, r0
3010:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   uint32_t tickstart;
 6732              		.loc 1 3010 3 is_stmt 1 view .LVU2106
3010:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   uint32_t tickstart;
 6733              		.loc 1 3010 22 is_stmt 0 view .LVU2107
 6734 0006 846A     		ldr	r4, [r0, #40]
 6735              	.LVL392:
3011:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 6736              		.loc 1 3011 3 is_stmt 1 view .LVU2108
3014:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 6737              		.loc 1 3014 3 view .LVU2109
3014:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 6738              		.loc 1 3014 15 is_stmt 0 view .LVU2110
 6739 0008 FFF7FEFF 		bl	HAL_GetTick
 6740              	.LVL393:
3017:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 6741              		.loc 1 3017 3 is_stmt 1 view .LVU2111
3017:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 6742              		.loc 1 3017 12 is_stmt 0 view .LVU2112
 6743 000c 2B68     		ldr	r3, [r5]
3017:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 6744              		.loc 1 3017 22 view .LVU2113
 6745 000e 1B68     		ldr	r3, [r3]
3017:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 229


 6746              		.loc 1 3017 6 view .LVU2114
 6747 0010 13F0200F 		tst	r3, #32
 6748 0014 23D1     		bne	.L483
 6749 0016 0246     		mov	r2, r0
3020:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 6750              		.loc 1 3020 5 is_stmt 1 view .LVU2115
 6751 0018 2168     		ldr	r1, [r4]
 6752 001a 4B68     		ldr	r3, [r1, #4]
 6753 001c 23F02003 		bic	r3, r3, #32
 6754 0020 4B60     		str	r3, [r1, #4]
3023:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 6755              		.loc 1 3023 5 view .LVU2116
 6756 0022 2168     		ldr	r1, [r4]
 6757 0024 4B68     		ldr	r3, [r1, #4]
 6758 0026 23F00203 		bic	r3, r3, #2
 6759 002a 4B60     		str	r3, [r1, #4]
3026:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
 6760              		.loc 1 3026 5 view .LVU2117
3026:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
 6761              		.loc 1 3026 9 is_stmt 0 view .LVU2118
 6762 002c 6421     		movs	r1, #100
 6763 002e 2046     		mov	r0, r4
 6764              	.LVL394:
3026:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
 6765              		.loc 1 3026 9 view .LVU2119
 6766 0030 FFF7FEFF 		bl	SPI_EndRxTxTransaction
 6767              	.LVL395:
3026:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
 6768              		.loc 1 3026 8 view .LVU2120
 6769 0034 18B1     		cbz	r0, .L484
3028:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
 6770              		.loc 1 3028 7 is_stmt 1 view .LVU2121
 6771 0036 236E     		ldr	r3, [r4, #96]
 6772 0038 43F02003 		orr	r3, r3, #32
 6773 003c 2366     		str	r3, [r4, #96]
 6774              	.L484:
3032:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
 6775              		.loc 1 3032 5 view .LVU2122
3032:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
 6776              		.loc 1 3032 19 is_stmt 0 view .LVU2123
 6777 003e A368     		ldr	r3, [r4, #8]
3032:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
 6778              		.loc 1 3032 8 view .LVU2124
 6779 0040 33B9     		cbnz	r3, .L485
3034:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
 6780              		.loc 1 3034 7 is_stmt 1 view .LVU2125
 6781              	.LBB6:
3034:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
 6782              		.loc 1 3034 7 view .LVU2126
 6783 0042 0193     		str	r3, [sp, #4]
3034:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
 6784              		.loc 1 3034 7 view .LVU2127
 6785 0044 2368     		ldr	r3, [r4]
 6786 0046 DA68     		ldr	r2, [r3, #12]
 6787 0048 0192     		str	r2, [sp, #4]
3034:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
 6788              		.loc 1 3034 7 view .LVU2128
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 230


 6789 004a 9B68     		ldr	r3, [r3, #8]
 6790 004c 0193     		str	r3, [sp, #4]
3034:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
 6791              		.loc 1 3034 7 view .LVU2129
 6792 004e 019B     		ldr	r3, [sp, #4]
 6793              	.L485:
 6794              	.LBE6:
3034:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
 6795              		.loc 1 3034 7 discriminator 1 view .LVU2130
3037:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     hspi->State = HAL_SPI_STATE_READY;
 6796              		.loc 1 3037 5 discriminator 1 view .LVU2131
3037:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     hspi->State = HAL_SPI_STATE_READY;
 6797              		.loc 1 3037 23 is_stmt 0 discriminator 1 view .LVU2132
 6798 0050 0023     		movs	r3, #0
 6799 0052 E387     		strh	r3, [r4, #62]	@ movhi
3038:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 6800              		.loc 1 3038 5 is_stmt 1 discriminator 1 view .LVU2133
3038:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 6801              		.loc 1 3038 17 is_stmt 0 discriminator 1 view .LVU2134
 6802 0054 0123     		movs	r3, #1
 6803 0056 84F85D30 		strb	r3, [r4, #93]
3040:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
 6804              		.loc 1 3040 5 is_stmt 1 discriminator 1 view .LVU2135
3040:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
 6805              		.loc 1 3040 13 is_stmt 0 discriminator 1 view .LVU2136
 6806 005a 236E     		ldr	r3, [r4, #96]
3040:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
 6807              		.loc 1 3040 8 discriminator 1 view .LVU2137
 6808 005c 23B9     		cbnz	r3, .L488
 6809              	.L483:
3055:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
 6810              		.loc 1 3055 3 is_stmt 1 view .LVU2138
 6811 005e 2046     		mov	r0, r4
 6812 0060 FFF7FEFF 		bl	HAL_SPI_TxCpltCallback
 6813              	.LVL396:
 6814              	.L482:
3057:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 6815              		.loc 1 3057 1 is_stmt 0 view .LVU2139
 6816 0064 03B0     		add	sp, sp, #12
 6817              	.LCFI64:
 6818              		.cfi_remember_state
 6819              		.cfi_def_cfa_offset 12
 6820              		@ sp needed
 6821 0066 30BD     		pop	{r4, r5, pc}
 6822              	.LVL397:
 6823              	.L488:
 6824              	.LCFI65:
 6825              		.cfi_restore_state
3046:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
 6826              		.loc 1 3046 7 is_stmt 1 view .LVU2140
 6827 0068 2046     		mov	r0, r4
 6828 006a FFF7FEFF 		bl	HAL_SPI_ErrorCallback
 6829              	.LVL398:
3048:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
 6830              		.loc 1 3048 7 view .LVU2141
 6831 006e F9E7     		b	.L482
 6832              		.cfi_endproc
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 231


 6833              	.LFE161:
 6835              		.section	.text.SPI_DMAReceiveCplt,"ax",%progbits
 6836              		.align	1
 6837              		.syntax unified
 6838              		.thumb
 6839              		.thumb_func
 6840              		.fpu fpv4-sp-d16
 6842              	SPI_DMAReceiveCplt:
 6843              	.LVL399:
 6844              	.LFB162:
3066:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   SPI_HandleTypeDef *hspi = (SPI_HandleTypeDef *)(((DMA_HandleTypeDef *)hdma)->Parent); /* Derogati
 6845              		.loc 1 3066 1 view -0
 6846              		.cfi_startproc
 6847              		@ args = 0, pretend = 0, frame = 0
 6848              		@ frame_needed = 0, uses_anonymous_args = 0
3066:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   SPI_HandleTypeDef *hspi = (SPI_HandleTypeDef *)(((DMA_HandleTypeDef *)hdma)->Parent); /* Derogati
 6849              		.loc 1 3066 1 is_stmt 0 view .LVU2143
 6850 0000 38B5     		push	{r3, r4, r5, lr}
 6851              	.LCFI66:
 6852              		.cfi_def_cfa_offset 16
 6853              		.cfi_offset 3, -16
 6854              		.cfi_offset 4, -12
 6855              		.cfi_offset 5, -8
 6856              		.cfi_offset 14, -4
 6857 0002 0546     		mov	r5, r0
3067:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   uint32_t tickstart;
 6858              		.loc 1 3067 3 is_stmt 1 view .LVU2144
3067:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   uint32_t tickstart;
 6859              		.loc 1 3067 22 is_stmt 0 view .LVU2145
 6860 0004 846A     		ldr	r4, [r0, #40]
 6861              	.LVL400:
3068:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
 6862              		.loc 1 3068 3 is_stmt 1 view .LVU2146
3074:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 6863              		.loc 1 3074 3 view .LVU2147
3074:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 6864              		.loc 1 3074 15 is_stmt 0 view .LVU2148
 6865 0006 FFF7FEFF 		bl	HAL_GetTick
 6866              	.LVL401:
3077:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 6867              		.loc 1 3077 3 is_stmt 1 view .LVU2149
3077:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 6868              		.loc 1 3077 12 is_stmt 0 view .LVU2150
 6869 000a 2B68     		ldr	r3, [r5]
3077:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 6870              		.loc 1 3077 22 view .LVU2151
 6871 000c 1B68     		ldr	r3, [r3]
3077:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 6872              		.loc 1 3077 6 view .LVU2152
 6873 000e 13F0200F 		tst	r3, #32
 6874 0012 1FD1     		bne	.L490
 6875 0014 0246     		mov	r2, r0
3080:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 6876              		.loc 1 3080 5 is_stmt 1 view .LVU2153
 6877 0016 2168     		ldr	r1, [r4]
 6878 0018 4B68     		ldr	r3, [r1, #4]
 6879 001a 23F02003 		bic	r3, r3, #32
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 232


 6880 001e 4B60     		str	r3, [r1, #4]
3124:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
 6881              		.loc 1 3124 5 view .LVU2154
3124:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
 6882              		.loc 1 3124 20 is_stmt 0 view .LVU2155
 6883 0020 A368     		ldr	r3, [r4, #8]
3124:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
 6884              		.loc 1 3124 8 view .LVU2156
 6885 0022 1BB9     		cbnz	r3, .L491
3124:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
 6886              		.loc 1 3124 70 discriminator 1 view .LVU2157
 6887 0024 6368     		ldr	r3, [r4, #4]
3124:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
 6888              		.loc 1 3124 56 discriminator 1 view .LVU2158
 6889 0026 B3F5827F 		cmp	r3, #260
 6890 002a 17D0     		beq	.L496
 6891              	.L491:
3132:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
 6892              		.loc 1 3132 7 is_stmt 1 view .LVU2159
 6893 002c 2168     		ldr	r1, [r4]
 6894 002e 4B68     		ldr	r3, [r1, #4]
 6895 0030 23F00103 		bic	r3, r3, #1
 6896 0034 4B60     		str	r3, [r1, #4]
 6897              	.L492:
3136:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
 6898              		.loc 1 3136 5 view .LVU2160
3136:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
 6899              		.loc 1 3136 9 is_stmt 0 view .LVU2161
 6900 0036 6421     		movs	r1, #100
 6901 0038 2046     		mov	r0, r4
 6902              	.LVL402:
3136:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
 6903              		.loc 1 3136 9 view .LVU2162
 6904 003a FFF7FEFF 		bl	SPI_EndRxTransaction
 6905              	.LVL403:
3136:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
 6906              		.loc 1 3136 8 view .LVU2163
 6907 003e 08B1     		cbz	r0, .L493
3138:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
 6908              		.loc 1 3138 7 is_stmt 1 view .LVU2164
3138:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
 6909              		.loc 1 3138 23 is_stmt 0 view .LVU2165
 6910 0040 2023     		movs	r3, #32
 6911 0042 2366     		str	r3, [r4, #96]
 6912              	.L493:
3141:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     hspi->State = HAL_SPI_STATE_READY;
 6913              		.loc 1 3141 5 is_stmt 1 view .LVU2166
3141:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     hspi->State = HAL_SPI_STATE_READY;
 6914              		.loc 1 3141 23 is_stmt 0 view .LVU2167
 6915 0044 0023     		movs	r3, #0
 6916 0046 A4F84630 		strh	r3, [r4, #70]	@ movhi
3142:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 6917              		.loc 1 3142 5 is_stmt 1 view .LVU2168
3142:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 6918              		.loc 1 3142 17 is_stmt 0 view .LVU2169
 6919 004a 0123     		movs	r3, #1
 6920 004c 84F85D30 		strb	r3, [r4, #93]
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 233


3153:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
 6921              		.loc 1 3153 5 is_stmt 1 view .LVU2170
3153:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
 6922              		.loc 1 3153 13 is_stmt 0 view .LVU2171
 6923 0050 236E     		ldr	r3, [r4, #96]
3153:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
 6924              		.loc 1 3153 8 view .LVU2172
 6925 0052 4BB9     		cbnz	r3, .L497
 6926              	.L490:
3168:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
 6927              		.loc 1 3168 3 is_stmt 1 view .LVU2173
 6928 0054 2046     		mov	r0, r4
 6929 0056 FFF7FEFF 		bl	HAL_SPI_RxCpltCallback
 6930              	.LVL404:
 6931              	.L489:
3170:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 6932              		.loc 1 3170 1 is_stmt 0 view .LVU2174
 6933 005a 38BD     		pop	{r3, r4, r5, pc}
 6934              	.LVL405:
 6935              	.L496:
3127:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
 6936              		.loc 1 3127 7 is_stmt 1 view .LVU2175
 6937 005c 2168     		ldr	r1, [r4]
 6938 005e 4B68     		ldr	r3, [r1, #4]
 6939 0060 23F00303 		bic	r3, r3, #3
 6940 0064 4B60     		str	r3, [r1, #4]
 6941 0066 E6E7     		b	.L492
 6942              	.LVL406:
 6943              	.L497:
3159:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
 6944              		.loc 1 3159 7 view .LVU2176
 6945 0068 2046     		mov	r0, r4
 6946 006a FFF7FEFF 		bl	HAL_SPI_ErrorCallback
 6947              	.LVL407:
3161:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
 6948              		.loc 1 3161 7 view .LVU2177
 6949 006e F4E7     		b	.L489
 6950              		.cfi_endproc
 6951              	.LFE162:
 6953              		.section	.text.SPI_DMATransmitReceiveCplt,"ax",%progbits
 6954              		.align	1
 6955              		.syntax unified
 6956              		.thumb
 6957              		.thumb_func
 6958              		.fpu fpv4-sp-d16
 6960              	SPI_DMATransmitReceiveCplt:
 6961              	.LVL408:
 6962              	.LFB163:
3179:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   SPI_HandleTypeDef *hspi = (SPI_HandleTypeDef *)(((DMA_HandleTypeDef *)hdma)->Parent); /* Derogati
 6963              		.loc 1 3179 1 view -0
 6964              		.cfi_startproc
 6965              		@ args = 0, pretend = 0, frame = 0
 6966              		@ frame_needed = 0, uses_anonymous_args = 0
3179:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   SPI_HandleTypeDef *hspi = (SPI_HandleTypeDef *)(((DMA_HandleTypeDef *)hdma)->Parent); /* Derogati
 6967              		.loc 1 3179 1 is_stmt 0 view .LVU2179
 6968 0000 38B5     		push	{r3, r4, r5, lr}
 6969              	.LCFI67:
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 234


 6970              		.cfi_def_cfa_offset 16
 6971              		.cfi_offset 3, -16
 6972              		.cfi_offset 4, -12
 6973              		.cfi_offset 5, -8
 6974              		.cfi_offset 14, -4
 6975 0002 0546     		mov	r5, r0
3180:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   uint32_t tickstart;
 6976              		.loc 1 3180 3 is_stmt 1 view .LVU2180
3180:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   uint32_t tickstart;
 6977              		.loc 1 3180 22 is_stmt 0 view .LVU2181
 6978 0004 846A     		ldr	r4, [r0, #40]
 6979              	.LVL409:
3181:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
 6980              		.loc 1 3181 3 is_stmt 1 view .LVU2182
3187:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 6981              		.loc 1 3187 3 view .LVU2183
3187:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 6982              		.loc 1 3187 15 is_stmt 0 view .LVU2184
 6983 0006 FFF7FEFF 		bl	HAL_GetTick
 6984              	.LVL410:
3190:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 6985              		.loc 1 3190 3 is_stmt 1 view .LVU2185
3190:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 6986              		.loc 1 3190 12 is_stmt 0 view .LVU2186
 6987 000a 2B68     		ldr	r3, [r5]
3190:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 6988              		.loc 1 3190 22 view .LVU2187
 6989 000c 1B68     		ldr	r3, [r3]
3190:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 6990              		.loc 1 3190 6 view .LVU2188
 6991 000e 13F0200F 		tst	r3, #32
 6992 0012 1CD1     		bne	.L499
 6993 0014 0246     		mov	r2, r0
3193:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 6994              		.loc 1 3193 5 is_stmt 1 view .LVU2189
 6995 0016 2168     		ldr	r1, [r4]
 6996 0018 4B68     		ldr	r3, [r1, #4]
 6997 001a 23F02003 		bic	r3, r3, #32
 6998 001e 4B60     		str	r3, [r1, #4]
3228:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
 6999              		.loc 1 3228 5 view .LVU2190
3228:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
 7000              		.loc 1 3228 9 is_stmt 0 view .LVU2191
 7001 0020 6421     		movs	r1, #100
 7002 0022 2046     		mov	r0, r4
 7003              	.LVL411:
3228:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
 7004              		.loc 1 3228 9 view .LVU2192
 7005 0024 FFF7FEFF 		bl	SPI_EndRxTxTransaction
 7006              	.LVL412:
3228:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
 7007              		.loc 1 3228 8 view .LVU2193
 7008 0028 18B1     		cbz	r0, .L500
3230:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
 7009              		.loc 1 3230 7 is_stmt 1 view .LVU2194
 7010 002a 236E     		ldr	r3, [r4, #96]
 7011 002c 43F02003 		orr	r3, r3, #32
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 235


 7012 0030 2366     		str	r3, [r4, #96]
 7013              	.L500:
3234:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 7014              		.loc 1 3234 5 view .LVU2195
 7015 0032 2268     		ldr	r2, [r4]
 7016 0034 5368     		ldr	r3, [r2, #4]
 7017 0036 23F00303 		bic	r3, r3, #3
 7018 003a 5360     		str	r3, [r2, #4]
3236:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     hspi->RxXferCount = 0U;
 7019              		.loc 1 3236 5 view .LVU2196
3236:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     hspi->RxXferCount = 0U;
 7020              		.loc 1 3236 23 is_stmt 0 view .LVU2197
 7021 003c 0023     		movs	r3, #0
 7022 003e E387     		strh	r3, [r4, #62]	@ movhi
3237:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     hspi->State = HAL_SPI_STATE_READY;
 7023              		.loc 1 3237 5 is_stmt 1 view .LVU2198
3237:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     hspi->State = HAL_SPI_STATE_READY;
 7024              		.loc 1 3237 23 is_stmt 0 view .LVU2199
 7025 0040 A4F84630 		strh	r3, [r4, #70]	@ movhi
3238:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 7026              		.loc 1 3238 5 is_stmt 1 view .LVU2200
3238:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 7027              		.loc 1 3238 17 is_stmt 0 view .LVU2201
 7028 0044 0123     		movs	r3, #1
 7029 0046 84F85D30 		strb	r3, [r4, #93]
3249:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
 7030              		.loc 1 3249 5 is_stmt 1 view .LVU2202
3249:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
 7031              		.loc 1 3249 13 is_stmt 0 view .LVU2203
 7032 004a 236E     		ldr	r3, [r4, #96]
3249:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
 7033              		.loc 1 3249 8 view .LVU2204
 7034 004c 1BB9     		cbnz	r3, .L503
 7035              	.L499:
3264:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
 7036              		.loc 1 3264 3 is_stmt 1 view .LVU2205
 7037 004e 2046     		mov	r0, r4
 7038 0050 FFF7FEFF 		bl	HAL_SPI_TxRxCpltCallback
 7039              	.LVL413:
 7040              	.L498:
3266:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 7041              		.loc 1 3266 1 is_stmt 0 view .LVU2206
 7042 0054 38BD     		pop	{r3, r4, r5, pc}
 7043              	.LVL414:
 7044              	.L503:
3255:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
 7045              		.loc 1 3255 7 is_stmt 1 view .LVU2207
 7046 0056 2046     		mov	r0, r4
 7047 0058 FFF7FEFF 		bl	HAL_SPI_ErrorCallback
 7048              	.LVL415:
3257:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
 7049              		.loc 1 3257 7 view .LVU2208
 7050 005c FAE7     		b	.L498
 7051              		.cfi_endproc
 7052              	.LFE163:
 7054              		.section	.text.HAL_SPI_IRQHandler,"ax",%progbits
 7055              		.align	1
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 236


 7056              		.global	HAL_SPI_IRQHandler
 7057              		.syntax unified
 7058              		.thumb
 7059              		.thumb_func
 7060              		.fpu fpv4-sp-d16
 7062              	HAL_SPI_IRQHandler:
 7063              	.LVL416:
 7064              	.LFB150:
2716:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   uint32_t itsource = hspi->Instance->CR2;
 7065              		.loc 1 2716 1 view -0
 7066              		.cfi_startproc
 7067              		@ args = 0, pretend = 0, frame = 16
 7068              		@ frame_needed = 0, uses_anonymous_args = 0
2716:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   uint32_t itsource = hspi->Instance->CR2;
 7069              		.loc 1 2716 1 is_stmt 0 view .LVU2210
 7070 0000 30B5     		push	{r4, r5, lr}
 7071              	.LCFI68:
 7072              		.cfi_def_cfa_offset 12
 7073              		.cfi_offset 4, -12
 7074              		.cfi_offset 5, -8
 7075              		.cfi_offset 14, -4
 7076 0002 85B0     		sub	sp, sp, #20
 7077              	.LCFI69:
 7078              		.cfi_def_cfa_offset 32
 7079 0004 0446     		mov	r4, r0
2717:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   uint32_t itflag   = hspi->Instance->SR;
 7080              		.loc 1 2717 3 is_stmt 1 view .LVU2211
2717:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   uint32_t itflag   = hspi->Instance->SR;
 7081              		.loc 1 2717 27 is_stmt 0 view .LVU2212
 7082 0006 0268     		ldr	r2, [r0]
2717:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   uint32_t itflag   = hspi->Instance->SR;
 7083              		.loc 1 2717 12 view .LVU2213
 7084 0008 5168     		ldr	r1, [r2, #4]
 7085              	.LVL417:
2718:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 7086              		.loc 1 2718 3 is_stmt 1 view .LVU2214
2718:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 7087              		.loc 1 2718 12 is_stmt 0 view .LVU2215
 7088 000a 9368     		ldr	r3, [r2, #8]
 7089              	.LVL418:
2721:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       (SPI_CHECK_FLAG(itflag, SPI_FLAG_RXNE) != RESET) && (SPI_CHECK_IT_SOURCE(itsource, SPI_IT_RXN
 7090              		.loc 1 2721 3 is_stmt 1 view .LVU2216
2721:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       (SPI_CHECK_FLAG(itflag, SPI_FLAG_RXNE) != RESET) && (SPI_CHECK_IT_SOURCE(itsource, SPI_IT_RXN
 7091              		.loc 1 2721 8 is_stmt 0 view .LVU2217
 7092 000c C3F38010 		ubfx	r0, r3, #6, #1
 7093              	.LVL419:
2721:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       (SPI_CHECK_FLAG(itflag, SPI_FLAG_RXNE) != RESET) && (SPI_CHECK_IT_SOURCE(itsource, SPI_IT_RXN
 7094              		.loc 1 2721 6 view .LVU2218
 7095 0010 13F0400F 		tst	r3, #64
 7096 0014 05D1     		bne	.L505
2721:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       (SPI_CHECK_FLAG(itflag, SPI_FLAG_RXNE) != RESET) && (SPI_CHECK_IT_SOURCE(itsource, SPI_IT_RXN
 7097              		.loc 1 2721 55 discriminator 1 view .LVU2219
 7098 0016 13F0010F 		tst	r3, #1
 7099 001a 02D0     		beq	.L505
2722:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 7100              		.loc 1 2722 56 view .LVU2220
 7101 001c 11F0400F 		tst	r1, #64
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 237


 7102 0020 69D1     		bne	.L517
 7103              	.L505:
2729:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 7104              		.loc 1 2729 3 is_stmt 1 view .LVU2221
2729:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 7105              		.loc 1 2729 6 is_stmt 0 view .LVU2222
 7106 0022 13F0020F 		tst	r3, #2
 7107 0026 02D0     		beq	.L507
2729:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 7108              		.loc 1 2729 55 discriminator 1 view .LVU2223
 7109 0028 11F0800F 		tst	r1, #128
 7110 002c 67D1     		bne	.L518
 7111              	.L507:
2736:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****        || (SPI_CHECK_FLAG(itflag, SPI_FLAG_FRE) != RESET)) && (SPI_CHECK_IT_SOURCE(itsource, SPI_IT
 7112              		.loc 1 2736 3 is_stmt 1 view .LVU2224
2736:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****        || (SPI_CHECK_FLAG(itflag, SPI_FLAG_FRE) != RESET)) && (SPI_CHECK_IT_SOURCE(itsource, SPI_IT
 7113              		.loc 1 2736 9 is_stmt 0 view .LVU2225
 7114 002e C3F34015 		ubfx	r5, r3, #5, #1
2736:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****        || (SPI_CHECK_FLAG(itflag, SPI_FLAG_FRE) != RESET)) && (SPI_CHECK_IT_SOURCE(itsource, SPI_IT
 7115              		.loc 1 2736 6 view .LVU2226
 7116 0032 13F0200F 		tst	r3, #32
 7117 0036 03D1     		bne	.L508
2736:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****        || (SPI_CHECK_FLAG(itflag, SPI_FLAG_FRE) != RESET)) && (SPI_CHECK_IT_SOURCE(itsource, SPI_IT
 7118              		.loc 1 2736 57 discriminator 1 view .LVU2227
 7119 0038 10B9     		cbnz	r0, .L508
2737:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 7120              		.loc 1 2737 8 view .LVU2228
 7121 003a 13F4807F 		tst	r3, #256
 7122 003e 61D0     		beq	.L504
 7123              	.L508:
2737:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 7124              		.loc 1 2737 60 discriminator 1 view .LVU2229
 7125 0040 11F0200F 		tst	r1, #32
 7126 0044 5ED0     		beq	.L504
2740:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
 7127              		.loc 1 2740 5 is_stmt 1 view .LVU2230
2740:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
 7128              		.loc 1 2740 8 is_stmt 0 view .LVU2231
 7129 0046 78B1     		cbz	r0, .L509
2742:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       {
 7130              		.loc 1 2742 7 is_stmt 1 view .LVU2232
2742:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       {
 7131              		.loc 1 2742 15 is_stmt 0 view .LVU2233
 7132 0048 94F85D00 		ldrb	r0, [r4, #93]	@ zero_extendqisi2
 7133 004c C0B2     		uxtb	r0, r0
2742:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       {
 7134              		.loc 1 2742 10 view .LVU2234
 7135 004e 0328     		cmp	r0, #3
 7136 0050 5AD0     		beq	.L510
2744:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         __HAL_SPI_CLEAR_OVRFLAG(hspi);
 7137              		.loc 1 2744 9 is_stmt 1 view .LVU2235
 7138 0052 206E     		ldr	r0, [r4, #96]
 7139 0054 40F00400 		orr	r0, r0, #4
 7140 0058 2066     		str	r0, [r4, #96]
2745:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       }
 7141              		.loc 1 2745 9 view .LVU2236
 7142              	.LBB7:
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 238


2745:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       }
 7143              		.loc 1 2745 9 view .LVU2237
 7144 005a 0020     		movs	r0, #0
 7145 005c 0090     		str	r0, [sp]
2745:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       }
 7146              		.loc 1 2745 9 view .LVU2238
 7147 005e D068     		ldr	r0, [r2, #12]
 7148 0060 0090     		str	r0, [sp]
2745:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       }
 7149              		.loc 1 2745 9 view .LVU2239
 7150 0062 9068     		ldr	r0, [r2, #8]
 7151 0064 0090     		str	r0, [sp]
2745:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       }
 7152              		.loc 1 2745 9 view .LVU2240
 7153 0066 0098     		ldr	r0, [sp]
 7154              	.LBE7:
2745:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       }
 7155              		.loc 1 2745 9 view .LVU2241
 7156              	.L509:
2755:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
 7157              		.loc 1 2755 5 view .LVU2242
2755:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
 7158              		.loc 1 2755 8 is_stmt 0 view .LVU2243
 7159 0068 65B1     		cbz	r5, .L511
2757:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       __HAL_SPI_CLEAR_MODFFLAG(hspi);
 7160              		.loc 1 2757 7 is_stmt 1 view .LVU2244
 7161 006a 206E     		ldr	r0, [r4, #96]
 7162 006c 40F00100 		orr	r0, r0, #1
 7163 0070 2066     		str	r0, [r4, #96]
2758:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
 7164              		.loc 1 2758 7 view .LVU2245
 7165              	.LBB8:
2758:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
 7166              		.loc 1 2758 7 view .LVU2246
 7167 0072 0020     		movs	r0, #0
 7168 0074 0290     		str	r0, [sp, #8]
2758:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
 7169              		.loc 1 2758 7 view .LVU2247
 7170 0076 9068     		ldr	r0, [r2, #8]
 7171 0078 0290     		str	r0, [sp, #8]
2758:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
 7172              		.loc 1 2758 7 view .LVU2248
 7173 007a 1068     		ldr	r0, [r2]
 7174 007c 20F04000 		bic	r0, r0, #64
 7175 0080 1060     		str	r0, [r2]
2758:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
 7176              		.loc 1 2758 7 view .LVU2249
 7177 0082 029A     		ldr	r2, [sp, #8]
 7178              	.L511:
2758:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
 7179              		.loc 1 2758 7 is_stmt 0 view .LVU2250
 7180              	.LBE8:
2758:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
 7181              		.loc 1 2758 7 is_stmt 1 discriminator 1 view .LVU2251
2762:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
 7182              		.loc 1 2762 5 discriminator 1 view .LVU2252
2762:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 239


 7183              		.loc 1 2762 8 is_stmt 0 discriminator 1 view .LVU2253
 7184 0084 13F4807F 		tst	r3, #256
 7185 0088 09D0     		beq	.L512
2764:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       __HAL_SPI_CLEAR_FREFLAG(hspi);
 7186              		.loc 1 2764 7 is_stmt 1 view .LVU2254
 7187 008a 236E     		ldr	r3, [r4, #96]
 7188              	.LVL420:
2764:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       __HAL_SPI_CLEAR_FREFLAG(hspi);
 7189              		.loc 1 2764 7 is_stmt 0 view .LVU2255
 7190 008c 43F00803 		orr	r3, r3, #8
 7191 0090 2366     		str	r3, [r4, #96]
2765:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
 7192              		.loc 1 2765 7 is_stmt 1 view .LVU2256
 7193              	.LBB9:
2765:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
 7194              		.loc 1 2765 7 view .LVU2257
 7195 0092 0023     		movs	r3, #0
 7196 0094 0393     		str	r3, [sp, #12]
2765:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
 7197              		.loc 1 2765 7 view .LVU2258
 7198 0096 2368     		ldr	r3, [r4]
 7199 0098 9B68     		ldr	r3, [r3, #8]
 7200 009a 0393     		str	r3, [sp, #12]
2765:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
 7201              		.loc 1 2765 7 view .LVU2259
 7202 009c 039B     		ldr	r3, [sp, #12]
 7203              	.L512:
2765:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
 7204              		.loc 1 2765 7 is_stmt 0 view .LVU2260
 7205              	.LBE9:
2765:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
 7206              		.loc 1 2765 7 is_stmt 1 discriminator 1 view .LVU2261
2768:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
 7207              		.loc 1 2768 5 discriminator 1 view .LVU2262
2768:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
 7208              		.loc 1 2768 13 is_stmt 0 discriminator 1 view .LVU2263
 7209 009e 236E     		ldr	r3, [r4, #96]
2768:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
 7210              		.loc 1 2768 8 discriminator 1 view .LVU2264
 7211 00a0 002B     		cmp	r3, #0
 7212 00a2 2FD0     		beq	.L504
2771:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 7213              		.loc 1 2771 7 is_stmt 1 view .LVU2265
 7214 00a4 2268     		ldr	r2, [r4]
 7215 00a6 5368     		ldr	r3, [r2, #4]
 7216 00a8 23F0E003 		bic	r3, r3, #224
 7217 00ac 5360     		str	r3, [r2, #4]
2773:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       /* Disable the SPI DMA requests if enabled */
 7218              		.loc 1 2773 7 view .LVU2266
2773:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       /* Disable the SPI DMA requests if enabled */
 7219              		.loc 1 2773 19 is_stmt 0 view .LVU2267
 7220 00ae 0123     		movs	r3, #1
 7221 00b0 84F85D30 		strb	r3, [r4, #93]
2775:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       {
 7222              		.loc 1 2775 7 is_stmt 1 view .LVU2268
2775:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       {
 7223              		.loc 1 2775 10 is_stmt 0 view .LVU2269
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 240


 7224 00b4 11F0030F 		tst	r1, #3
 7225 00b8 2ED0     		beq	.L514
2777:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 7226              		.loc 1 2777 9 is_stmt 1 view .LVU2270
 7227 00ba 2268     		ldr	r2, [r4]
 7228 00bc 5368     		ldr	r3, [r2, #4]
 7229 00be 23F00303 		bic	r3, r3, #3
 7230 00c2 5360     		str	r3, [r2, #4]
2780:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         {
 7231              		.loc 1 2780 9 view .LVU2271
2780:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         {
 7232              		.loc 1 2780 17 is_stmt 0 view .LVU2272
 7233 00c4 A36D     		ldr	r3, [r4, #88]
2780:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         {
 7234              		.loc 1 2780 12 view .LVU2273
 7235 00c6 4BB1     		cbz	r3, .L515
2784:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           if (HAL_OK != HAL_DMA_Abort_IT(hspi->hdmarx))
 7236              		.loc 1 2784 11 is_stmt 1 view .LVU2274
2784:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           if (HAL_OK != HAL_DMA_Abort_IT(hspi->hdmarx))
 7237              		.loc 1 2784 43 is_stmt 0 view .LVU2275
 7238 00c8 154A     		ldr	r2, .L519
 7239 00ca 9A63     		str	r2, [r3, #56]
2785:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           {
 7240              		.loc 1 2785 11 is_stmt 1 view .LVU2276
2785:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           {
 7241              		.loc 1 2785 25 is_stmt 0 view .LVU2277
 7242 00cc A06D     		ldr	r0, [r4, #88]
 7243 00ce FFF7FEFF 		bl	HAL_DMA_Abort_IT
 7244              	.LVL421:
2785:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           {
 7245              		.loc 1 2785 14 view .LVU2278
 7246 00d2 18B1     		cbz	r0, .L515
2787:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           }
 7247              		.loc 1 2787 13 is_stmt 1 view .LVU2279
 7248 00d4 236E     		ldr	r3, [r4, #96]
 7249 00d6 43F04003 		orr	r3, r3, #64
 7250 00da 2366     		str	r3, [r4, #96]
 7251              	.L515:
2791:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         {
 7252              		.loc 1 2791 9 view .LVU2280
2791:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         {
 7253              		.loc 1 2791 17 is_stmt 0 view .LVU2281
 7254 00dc 636D     		ldr	r3, [r4, #84]
2791:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         {
 7255              		.loc 1 2791 12 view .LVU2282
 7256 00de 8BB1     		cbz	r3, .L504
2795:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           if (HAL_OK != HAL_DMA_Abort_IT(hspi->hdmatx))
 7257              		.loc 1 2795 11 is_stmt 1 view .LVU2283
2795:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           if (HAL_OK != HAL_DMA_Abort_IT(hspi->hdmatx))
 7258              		.loc 1 2795 43 is_stmt 0 view .LVU2284
 7259 00e0 0F4A     		ldr	r2, .L519
 7260 00e2 9A63     		str	r2, [r3, #56]
2796:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           {
 7261              		.loc 1 2796 11 is_stmt 1 view .LVU2285
2796:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           {
 7262              		.loc 1 2796 25 is_stmt 0 view .LVU2286
 7263 00e4 606D     		ldr	r0, [r4, #84]
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 241


 7264 00e6 FFF7FEFF 		bl	HAL_DMA_Abort_IT
 7265              	.LVL422:
2796:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           {
 7266              		.loc 1 2796 14 view .LVU2287
 7267 00ea 58B1     		cbz	r0, .L504
2798:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           }
 7268              		.loc 1 2798 13 is_stmt 1 view .LVU2288
 7269 00ec 236E     		ldr	r3, [r4, #96]
 7270 00ee 43F04003 		orr	r3, r3, #64
 7271 00f2 2366     		str	r3, [r4, #96]
 7272 00f4 06E0     		b	.L504
 7273              	.LVL423:
 7274              	.L517:
2724:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     return;
 7275              		.loc 1 2724 5 view .LVU2289
2724:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     return;
 7276              		.loc 1 2724 9 is_stmt 0 view .LVU2290
 7277 00f6 E36C     		ldr	r3, [r4, #76]
 7278              	.LVL424:
2724:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     return;
 7279              		.loc 1 2724 5 view .LVU2291
 7280 00f8 2046     		mov	r0, r4
 7281 00fa 9847     		blx	r3
 7282              	.LVL425:
2725:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
 7283              		.loc 1 2725 5 is_stmt 1 view .LVU2292
 7284 00fc 02E0     		b	.L504
 7285              	.LVL426:
 7286              	.L518:
2731:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     return;
 7287              		.loc 1 2731 5 view .LVU2293
2731:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     return;
 7288              		.loc 1 2731 9 is_stmt 0 view .LVU2294
 7289 00fe 236D     		ldr	r3, [r4, #80]
 7290              	.LVL427:
2731:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     return;
 7291              		.loc 1 2731 5 view .LVU2295
 7292 0100 2046     		mov	r0, r4
 7293 0102 9847     		blx	r3
 7294              	.LVL428:
2732:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
 7295              		.loc 1 2732 5 is_stmt 1 view .LVU2296
 7296              	.L504:
2814:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 7297              		.loc 1 2814 1 is_stmt 0 view .LVU2297
 7298 0104 05B0     		add	sp, sp, #20
 7299              	.LCFI70:
 7300              		.cfi_remember_state
 7301              		.cfi_def_cfa_offset 12
 7302              		@ sp needed
 7303 0106 30BD     		pop	{r4, r5, pc}
 7304              	.LVL429:
 7305              	.L510:
 7306              	.LCFI71:
 7307              		.cfi_restore_state
2749:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         return;
 7308              		.loc 1 2749 9 is_stmt 1 view .LVU2298
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 242


 7309              	.LBB10:
2749:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         return;
 7310              		.loc 1 2749 9 view .LVU2299
 7311 0108 0023     		movs	r3, #0
 7312              	.LVL430:
2749:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         return;
 7313              		.loc 1 2749 9 is_stmt 0 view .LVU2300
 7314 010a 0193     		str	r3, [sp, #4]
2749:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         return;
 7315              		.loc 1 2749 9 is_stmt 1 view .LVU2301
 7316 010c D368     		ldr	r3, [r2, #12]
 7317 010e 0193     		str	r3, [sp, #4]
2749:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         return;
 7318              		.loc 1 2749 9 view .LVU2302
 7319 0110 9368     		ldr	r3, [r2, #8]
 7320 0112 0193     		str	r3, [sp, #4]
2749:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         return;
 7321              		.loc 1 2749 9 view .LVU2303
 7322 0114 019B     		ldr	r3, [sp, #4]
 7323              	.LBE10:
2749:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         return;
 7324              		.loc 1 2749 9 view .LVU2304
2750:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       }
 7325              		.loc 1 2750 9 view .LVU2305
 7326 0116 F5E7     		b	.L504
 7327              	.L514:
2808:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
 7328              		.loc 1 2808 9 view .LVU2306
 7329 0118 2046     		mov	r0, r4
 7330 011a FFF7FEFF 		bl	HAL_SPI_ErrorCallback
 7331              	.LVL431:
2812:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
 7332              		.loc 1 2812 5 view .LVU2307
 7333 011e F1E7     		b	.L504
 7334              	.L520:
 7335              		.align	2
 7336              	.L519:
 7337 0120 00000000 		.word	SPI_DMAAbortOnError
 7338              		.cfi_endproc
 7339              	.LFE150:
 7341              		.section	.text.SPI_DMAAbortOnError,"ax",%progbits
 7342              		.align	1
 7343              		.syntax unified
 7344              		.thumb
 7345              		.thumb_func
 7346              		.fpu fpv4-sp-d16
 7348              	SPI_DMAAbortOnError:
 7349              	.LVL432:
 7350              	.LFB168:
3352:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   SPI_HandleTypeDef *hspi = (SPI_HandleTypeDef *)(((DMA_HandleTypeDef *)hdma)->Parent); /* Derogati
 7351              		.loc 1 3352 1 view -0
 7352              		.cfi_startproc
 7353              		@ args = 0, pretend = 0, frame = 0
 7354              		@ frame_needed = 0, uses_anonymous_args = 0
3352:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   SPI_HandleTypeDef *hspi = (SPI_HandleTypeDef *)(((DMA_HandleTypeDef *)hdma)->Parent); /* Derogati
 7355              		.loc 1 3352 1 is_stmt 0 view .LVU2309
 7356 0000 08B5     		push	{r3, lr}
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 243


 7357              	.LCFI72:
 7358              		.cfi_def_cfa_offset 8
 7359              		.cfi_offset 3, -8
 7360              		.cfi_offset 14, -4
3353:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->RxXferCount = 0U;
 7361              		.loc 1 3353 3 is_stmt 1 view .LVU2310
3353:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->RxXferCount = 0U;
 7362              		.loc 1 3353 22 is_stmt 0 view .LVU2311
 7363 0002 806A     		ldr	r0, [r0, #40]
 7364              	.LVL433:
3354:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->TxXferCount = 0U;
 7365              		.loc 1 3354 3 is_stmt 1 view .LVU2312
3354:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->TxXferCount = 0U;
 7366              		.loc 1 3354 21 is_stmt 0 view .LVU2313
 7367 0004 0023     		movs	r3, #0
 7368 0006 A0F84630 		strh	r3, [r0, #70]	@ movhi
3355:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 7369              		.loc 1 3355 3 is_stmt 1 view .LVU2314
3355:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 7370              		.loc 1 3355 21 is_stmt 0 view .LVU2315
 7371 000a C387     		strh	r3, [r0, #62]	@ movhi
3361:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
 7372              		.loc 1 3361 3 is_stmt 1 view .LVU2316
 7373 000c FFF7FEFF 		bl	HAL_SPI_ErrorCallback
 7374              	.LVL434:
3363:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 7375              		.loc 1 3363 1 is_stmt 0 view .LVU2317
 7376 0010 08BD     		pop	{r3, pc}
 7377              		.cfi_endproc
 7378              	.LFE168:
 7380              		.section	.text.HAL_SPI_AbortCpltCallback,"ax",%progbits
 7381              		.align	1
 7382              		.weak	HAL_SPI_AbortCpltCallback
 7383              		.syntax unified
 7384              		.thumb
 7385              		.thumb_func
 7386              		.fpu fpv4-sp-d16
 7388              	HAL_SPI_AbortCpltCallback:
 7389              	.LVL435:
 7390              	.LFB158:
2937:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Prevent unused argument(s) compilation warning */
 7391              		.loc 1 2937 1 is_stmt 1 view -0
 7392              		.cfi_startproc
 7393              		@ args = 0, pretend = 0, frame = 0
 7394              		@ frame_needed = 0, uses_anonymous_args = 0
 7395              		@ link register save eliminated.
2939:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 7396              		.loc 1 2939 3 view .LVU2319
2944:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 7397              		.loc 1 2944 1 is_stmt 0 view .LVU2320
 7398 0000 7047     		bx	lr
 7399              		.cfi_endproc
 7400              	.LFE158:
 7402              		.section	.text.HAL_SPI_Abort_IT,"ax",%progbits
 7403              		.align	1
 7404              		.global	HAL_SPI_Abort_IT
 7405              		.syntax unified
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 244


 7406              		.thumb
 7407              		.thumb_func
 7408              		.fpu fpv4-sp-d16
 7410              	HAL_SPI_Abort_IT:
 7411              	.LVL436:
 7412              	.LFB146:
2475:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   HAL_StatusTypeDef errorcode;
 7413              		.loc 1 2475 1 is_stmt 1 view -0
 7414              		.cfi_startproc
 7415              		@ args = 0, pretend = 0, frame = 16
 7416              		@ frame_needed = 0, uses_anonymous_args = 0
2475:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   HAL_StatusTypeDef errorcode;
 7417              		.loc 1 2475 1 is_stmt 0 view .LVU2322
 7418 0000 70B5     		push	{r4, r5, r6, lr}
 7419              	.LCFI73:
 7420              		.cfi_def_cfa_offset 16
 7421              		.cfi_offset 4, -16
 7422              		.cfi_offset 5, -12
 7423              		.cfi_offset 6, -8
 7424              		.cfi_offset 14, -4
 7425 0002 84B0     		sub	sp, sp, #16
 7426              	.LCFI74:
 7427              		.cfi_def_cfa_offset 32
 7428 0004 0446     		mov	r4, r0
2476:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   uint32_t abortcplt ;
 7429              		.loc 1 2476 3 is_stmt 1 view .LVU2323
2477:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   __IO uint32_t count;
 7430              		.loc 1 2477 3 view .LVU2324
2478:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   __IO uint32_t resetcount;
 7431              		.loc 1 2478 3 view .LVU2325
2479:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 7432              		.loc 1 2479 3 view .LVU2326
2482:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   abortcplt = 1U;
 7433              		.loc 1 2482 3 view .LVU2327
 7434              	.LVL437:
2483:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   resetcount = SPI_DEFAULT_TIMEOUT * (SystemCoreClock / 24U / 1000U);
 7435              		.loc 1 2483 3 view .LVU2328
2484:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   count = resetcount;
 7436              		.loc 1 2484 3 view .LVU2329
2484:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   count = resetcount;
 7437              		.loc 1 2484 61 is_stmt 0 view .LVU2330
 7438 0006 504B     		ldr	r3, .L550
 7439 0008 1B68     		ldr	r3, [r3]
 7440 000a 504A     		ldr	r2, .L550+4
 7441 000c A2FB0323 		umull	r2, r3, r2, r3
 7442 0010 5B0A     		lsrs	r3, r3, #9
2484:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   count = resetcount;
 7443              		.loc 1 2484 36 view .LVU2331
 7444 0012 6422     		movs	r2, #100
 7445 0014 02FB03F3 		mul	r3, r2, r3
2484:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   count = resetcount;
 7446              		.loc 1 2484 14 view .LVU2332
 7447 0018 0293     		str	r3, [sp, #8]
2485:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 7448              		.loc 1 2485 3 is_stmt 1 view .LVU2333
2485:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 7449              		.loc 1 2485 9 is_stmt 0 view .LVU2334
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 245


 7450 001a 029B     		ldr	r3, [sp, #8]
 7451 001c 0393     		str	r3, [sp, #12]
2488:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 7452              		.loc 1 2488 3 is_stmt 1 view .LVU2335
 7453 001e 0268     		ldr	r2, [r0]
 7454 0020 5368     		ldr	r3, [r2, #4]
 7455 0022 23F02003 		bic	r3, r3, #32
 7456 0026 5360     		str	r3, [r2, #4]
2491:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 7457              		.loc 1 2491 3 view .LVU2336
2491:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 7458              		.loc 1 2491 7 is_stmt 0 view .LVU2337
 7459 0028 0268     		ldr	r2, [r0]
 7460 002a 5368     		ldr	r3, [r2, #4]
2491:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 7461              		.loc 1 2491 6 view .LVU2338
 7462 002c 13F0800F 		tst	r3, #128
 7463 0030 12D0     		beq	.L525
2493:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* Wait HAL_SPI_STATE_ABORT state */
 7464              		.loc 1 2493 5 is_stmt 1 view .LVU2339
2493:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* Wait HAL_SPI_STATE_ABORT state */
 7465              		.loc 1 2493 17 is_stmt 0 view .LVU2340
 7466 0032 474B     		ldr	r3, .L550+8
 7467 0034 0365     		str	r3, [r0, #80]
 7468              	.L528:
2495:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
 7469              		.loc 1 2495 5 is_stmt 1 view .LVU2341
2497:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       {
 7470              		.loc 1 2497 7 view .LVU2342
2497:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       {
 7471              		.loc 1 2497 17 is_stmt 0 view .LVU2343
 7472 0036 039B     		ldr	r3, [sp, #12]
2497:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       {
 7473              		.loc 1 2497 10 view .LVU2344
 7474 0038 43B1     		cbz	r3, .L547
2502:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     } while (hspi->State != HAL_SPI_STATE_ABORT);
 7475              		.loc 1 2502 7 is_stmt 1 view .LVU2345
2502:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     } while (hspi->State != HAL_SPI_STATE_ABORT);
 7476              		.loc 1 2502 12 is_stmt 0 view .LVU2346
 7477 003a 039B     		ldr	r3, [sp, #12]
 7478 003c 013B     		subs	r3, r3, #1
 7479 003e 0393     		str	r3, [sp, #12]
2503:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* Reset Timeout Counter */
 7480              		.loc 1 2503 13 is_stmt 1 view .LVU2347
2503:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* Reset Timeout Counter */
 7481              		.loc 1 2503 18 is_stmt 0 view .LVU2348
 7482 0040 94F85D30 		ldrb	r3, [r4, #93]	@ zero_extendqisi2
 7483 0044 DBB2     		uxtb	r3, r3
2503:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* Reset Timeout Counter */
 7484              		.loc 1 2503 5 view .LVU2349
 7485 0046 072B     		cmp	r3, #7
 7486 0048 F5D1     		bne	.L528
 7487 004a 03E0     		b	.L527
 7488              	.L547:
2499:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         break;
 7489              		.loc 1 2499 9 is_stmt 1 view .LVU2350
 7490 004c 236E     		ldr	r3, [r4, #96]
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 246


 7491 004e 43F04003 		orr	r3, r3, #64
 7492 0052 2366     		str	r3, [r4, #96]
2500:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       }
 7493              		.loc 1 2500 9 view .LVU2351
 7494              	.L527:
2505:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
 7495              		.loc 1 2505 5 view .LVU2352
2505:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
 7496              		.loc 1 2505 11 is_stmt 0 view .LVU2353
 7497 0054 029B     		ldr	r3, [sp, #8]
 7498 0056 0393     		str	r3, [sp, #12]
 7499              	.L525:
2508:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 7500              		.loc 1 2508 3 is_stmt 1 view .LVU2354
2508:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 7501              		.loc 1 2508 7 is_stmt 0 view .LVU2355
 7502 0058 5368     		ldr	r3, [r2, #4]
2508:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 7503              		.loc 1 2508 6 view .LVU2356
 7504 005a 13F0400F 		tst	r3, #64
 7505 005e 12D0     		beq	.L529
2510:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* Wait HAL_SPI_STATE_ABORT state */
 7506              		.loc 1 2510 5 is_stmt 1 view .LVU2357
2510:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* Wait HAL_SPI_STATE_ABORT state */
 7507              		.loc 1 2510 17 is_stmt 0 view .LVU2358
 7508 0060 3C4B     		ldr	r3, .L550+12
 7509 0062 E364     		str	r3, [r4, #76]
 7510              	.L532:
2512:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
 7511              		.loc 1 2512 5 is_stmt 1 view .LVU2359
2514:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       {
 7512              		.loc 1 2514 7 view .LVU2360
2514:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       {
 7513              		.loc 1 2514 17 is_stmt 0 view .LVU2361
 7514 0064 039B     		ldr	r3, [sp, #12]
2514:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       {
 7515              		.loc 1 2514 10 view .LVU2362
 7516 0066 43B1     		cbz	r3, .L548
2519:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     } while (hspi->State != HAL_SPI_STATE_ABORT);
 7517              		.loc 1 2519 7 is_stmt 1 view .LVU2363
2519:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     } while (hspi->State != HAL_SPI_STATE_ABORT);
 7518              		.loc 1 2519 12 is_stmt 0 view .LVU2364
 7519 0068 039B     		ldr	r3, [sp, #12]
 7520 006a 013B     		subs	r3, r3, #1
 7521 006c 0393     		str	r3, [sp, #12]
2520:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* Reset Timeout Counter */
 7522              		.loc 1 2520 13 is_stmt 1 view .LVU2365
2520:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* Reset Timeout Counter */
 7523              		.loc 1 2520 18 is_stmt 0 view .LVU2366
 7524 006e 94F85D30 		ldrb	r3, [r4, #93]	@ zero_extendqisi2
 7525 0072 DBB2     		uxtb	r3, r3
2520:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* Reset Timeout Counter */
 7526              		.loc 1 2520 5 view .LVU2367
 7527 0074 072B     		cmp	r3, #7
 7528 0076 F5D1     		bne	.L532
 7529 0078 03E0     		b	.L531
 7530              	.L548:
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 247


2516:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         break;
 7531              		.loc 1 2516 9 is_stmt 1 view .LVU2368
 7532 007a 236E     		ldr	r3, [r4, #96]
 7533 007c 43F04003 		orr	r3, r3, #64
 7534 0080 2366     		str	r3, [r4, #96]
2517:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       }
 7535              		.loc 1 2517 9 view .LVU2369
 7536              	.L531:
2522:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
 7537              		.loc 1 2522 5 view .LVU2370
2522:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
 7538              		.loc 1 2522 11 is_stmt 0 view .LVU2371
 7539 0082 029B     		ldr	r3, [sp, #8]
 7540 0084 0393     		str	r3, [sp, #12]
 7541              	.L529:
2528:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 7542              		.loc 1 2528 3 is_stmt 1 view .LVU2372
2528:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 7543              		.loc 1 2528 11 is_stmt 0 view .LVU2373
 7544 0086 636D     		ldr	r3, [r4, #84]
2528:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 7545              		.loc 1 2528 6 view .LVU2374
 7546 0088 2BB1     		cbz	r3, .L533
2532:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
 7547              		.loc 1 2532 5 is_stmt 1 view .LVU2375
2532:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
 7548              		.loc 1 2532 9 is_stmt 0 view .LVU2376
 7549 008a 5268     		ldr	r2, [r2, #4]
2532:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
 7550              		.loc 1 2532 8 view .LVU2377
 7551 008c 12F0020F 		tst	r2, #2
 7552 0090 1BD0     		beq	.L534
2534:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
 7553              		.loc 1 2534 7 is_stmt 1 view .LVU2378
2534:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
 7554              		.loc 1 2534 39 is_stmt 0 view .LVU2379
 7555 0092 314A     		ldr	r2, .L550+16
 7556 0094 9A63     		str	r2, [r3, #56]
 7557              	.L533:
2542:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 7558              		.loc 1 2542 3 is_stmt 1 view .LVU2380
2542:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 7559              		.loc 1 2542 11 is_stmt 0 view .LVU2381
 7560 0096 A36D     		ldr	r3, [r4, #88]
2542:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 7561              		.loc 1 2542 6 view .LVU2382
 7562 0098 33B1     		cbz	r3, .L535
2546:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
 7563              		.loc 1 2546 5 is_stmt 1 view .LVU2383
2546:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
 7564              		.loc 1 2546 9 is_stmt 0 view .LVU2384
 7565 009a 2268     		ldr	r2, [r4]
 7566 009c 5268     		ldr	r2, [r2, #4]
2546:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
 7567              		.loc 1 2546 8 view .LVU2385
 7568 009e 12F0010F 		tst	r2, #1
 7569 00a2 15D0     		beq	.L536
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 248


2548:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
 7570              		.loc 1 2548 7 is_stmt 1 view .LVU2386
2548:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
 7571              		.loc 1 2548 39 is_stmt 0 view .LVU2387
 7572 00a4 2D4A     		ldr	r2, .L550+20
 7573 00a6 9A63     		str	r2, [r3, #56]
 7574              	.L535:
2557:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 7575              		.loc 1 2557 3 is_stmt 1 view .LVU2388
2557:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 7576              		.loc 1 2557 7 is_stmt 0 view .LVU2389
 7577 00a8 2368     		ldr	r3, [r4]
 7578 00aa 5B68     		ldr	r3, [r3, #4]
2557:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 7579              		.loc 1 2557 6 view .LVU2390
 7580 00ac 13F0020F 		tst	r3, #2
 7581 00b0 11D0     		beq	.L541
2560:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
 7582              		.loc 1 2560 5 is_stmt 1 view .LVU2391
2560:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
 7583              		.loc 1 2560 13 is_stmt 0 view .LVU2392
 7584 00b2 606D     		ldr	r0, [r4, #84]
 7585              	.LVL438:
2560:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
 7586              		.loc 1 2560 8 view .LVU2393
 7587 00b4 28B3     		cbz	r0, .L542
2563:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       {
 7588              		.loc 1 2563 7 is_stmt 1 view .LVU2394
2563:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       {
 7589              		.loc 1 2563 11 is_stmt 0 view .LVU2395
 7590 00b6 FFF7FEFF 		bl	HAL_DMA_Abort_IT
 7591              	.LVL439:
2563:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       {
 7592              		.loc 1 2563 10 view .LVU2396
 7593 00ba 20B3     		cbz	r0, .L543
2565:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         hspi->ErrorCode = HAL_SPI_ERROR_ABORT;
 7594              		.loc 1 2565 9 is_stmt 1 view .LVU2397
2565:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         hspi->ErrorCode = HAL_SPI_ERROR_ABORT;
 7595              		.loc 1 2565 13 is_stmt 0 view .LVU2398
 7596 00bc 636D     		ldr	r3, [r4, #84]
2565:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         hspi->ErrorCode = HAL_SPI_ERROR_ABORT;
 7597              		.loc 1 2565 41 view .LVU2399
 7598 00be 0022     		movs	r2, #0
 7599 00c0 9A63     		str	r2, [r3, #56]
2566:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       }
 7600              		.loc 1 2566 9 is_stmt 1 view .LVU2400
2566:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       }
 7601              		.loc 1 2566 25 is_stmt 0 view .LVU2401
 7602 00c2 4023     		movs	r3, #64
 7603 00c4 2366     		str	r3, [r4, #96]
2483:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   resetcount = SPI_DEFAULT_TIMEOUT * (SystemCoreClock / 24U / 1000U);
 7604              		.loc 1 2483 13 view .LVU2402
 7605 00c6 0126     		movs	r6, #1
 7606 00c8 06E0     		b	.L537
 7607              	.LVL440:
 7608              	.L534:
2538:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 249


 7609              		.loc 1 2538 7 is_stmt 1 view .LVU2403
2538:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
 7610              		.loc 1 2538 39 is_stmt 0 view .LVU2404
 7611 00ca 0022     		movs	r2, #0
 7612 00cc 9A63     		str	r2, [r3, #56]
 7613 00ce E2E7     		b	.L533
 7614              	.L536:
2552:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
 7615              		.loc 1 2552 7 is_stmt 1 view .LVU2405
2552:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
 7616              		.loc 1 2552 39 is_stmt 0 view .LVU2406
 7617 00d0 0022     		movs	r2, #0
 7618 00d2 9A63     		str	r2, [r3, #56]
 7619 00d4 E8E7     		b	.L535
 7620              	.L541:
2483:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   resetcount = SPI_DEFAULT_TIMEOUT * (SystemCoreClock / 24U / 1000U);
 7621              		.loc 1 2483 13 view .LVU2407
 7622 00d6 0126     		movs	r6, #1
 7623              	.LVL441:
 7624              	.L537:
2575:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 7625              		.loc 1 2575 3 is_stmt 1 view .LVU2408
2575:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 7626              		.loc 1 2575 7 is_stmt 0 view .LVU2409
 7627 00d8 2368     		ldr	r3, [r4]
 7628 00da 5B68     		ldr	r3, [r3, #4]
2575:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 7629              		.loc 1 2575 6 view .LVU2410
 7630 00dc 13F0010F 		tst	r3, #1
 7631 00e0 0AD0     		beq	.L538
2578:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
 7632              		.loc 1 2578 5 is_stmt 1 view .LVU2411
2578:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
 7633              		.loc 1 2578 13 is_stmt 0 view .LVU2412
 7634 00e2 A06D     		ldr	r0, [r4, #88]
2578:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
 7635              		.loc 1 2578 8 view .LVU2413
 7636 00e4 40B1     		cbz	r0, .L538
2581:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       {
 7637              		.loc 1 2581 7 is_stmt 1 view .LVU2414
2581:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       {
 7638              		.loc 1 2581 11 is_stmt 0 view .LVU2415
 7639 00e6 FFF7FEFF 		bl	HAL_DMA_Abort_IT
 7640              	.LVL442:
2581:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       {
 7641              		.loc 1 2581 10 view .LVU2416
 7642 00ea 0546     		mov	r5, r0
 7643 00ec 30B1     		cbz	r0, .L539
2583:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         hspi->ErrorCode = HAL_SPI_ERROR_ABORT;
 7644              		.loc 1 2583 9 is_stmt 1 view .LVU2417
2583:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         hspi->ErrorCode = HAL_SPI_ERROR_ABORT;
 7645              		.loc 1 2583 13 is_stmt 0 view .LVU2418
 7646 00ee A36D     		ldr	r3, [r4, #88]
2583:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         hspi->ErrorCode = HAL_SPI_ERROR_ABORT;
 7647              		.loc 1 2583 41 view .LVU2419
 7648 00f0 0022     		movs	r2, #0
 7649 00f2 9A63     		str	r2, [r3, #56]
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 250


2584:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       }
 7650              		.loc 1 2584 9 is_stmt 1 view .LVU2420
2584:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       }
 7651              		.loc 1 2584 25 is_stmt 0 view .LVU2421
 7652 00f4 4023     		movs	r3, #64
 7653 00f6 2366     		str	r3, [r4, #96]
 7654              	.L538:
2593:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 7655              		.loc 1 2593 3 is_stmt 1 view .LVU2422
2593:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 7656              		.loc 1 2593 6 is_stmt 0 view .LVU2423
 7657 00f8 3EB9     		cbnz	r6, .L549
2482:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   abortcplt = 1U;
 7658              		.loc 1 2482 13 view .LVU2424
 7659 00fa 0025     		movs	r5, #0
 7660              	.LVL443:
 7661              	.L539:
2626:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** }
 7662              		.loc 1 2626 3 is_stmt 1 view .LVU2425
2627:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 7663              		.loc 1 2627 1 is_stmt 0 view .LVU2426
 7664 00fc 2846     		mov	r0, r5
 7665 00fe 04B0     		add	sp, sp, #16
 7666              	.LCFI75:
 7667              		.cfi_remember_state
 7668              		.cfi_def_cfa_offset 16
 7669              		@ sp needed
 7670 0100 70BD     		pop	{r4, r5, r6, pc}
 7671              	.LVL444:
 7672              	.L542:
 7673              	.LCFI76:
 7674              		.cfi_restore_state
2483:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   resetcount = SPI_DEFAULT_TIMEOUT * (SystemCoreClock / 24U / 1000U);
 7675              		.loc 1 2483 13 view .LVU2427
 7676 0102 0126     		movs	r6, #1
 7677 0104 E8E7     		b	.L537
 7678              	.L543:
2570:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       }
 7679              		.loc 1 2570 19 view .LVU2428
 7680 0106 0026     		movs	r6, #0
 7681 0108 E6E7     		b	.L537
 7682              	.LVL445:
 7683              	.L549:
2596:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     hspi->TxXferCount = 0U;
 7684              		.loc 1 2596 5 is_stmt 1 view .LVU2429
2596:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     hspi->TxXferCount = 0U;
 7685              		.loc 1 2596 23 is_stmt 0 view .LVU2430
 7686 010a 0023     		movs	r3, #0
 7687 010c A4F84630 		strh	r3, [r4, #70]	@ movhi
2597:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 7688              		.loc 1 2597 5 is_stmt 1 view .LVU2431
2597:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 7689              		.loc 1 2597 23 is_stmt 0 view .LVU2432
 7690 0110 E387     		strh	r3, [r4, #62]	@ movhi
2600:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
 7691              		.loc 1 2600 5 is_stmt 1 view .LVU2433
2600:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 251


 7692              		.loc 1 2600 13 is_stmt 0 view .LVU2434
 7693 0112 236E     		ldr	r3, [r4, #96]
2600:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
 7694              		.loc 1 2600 8 view .LVU2435
 7695 0114 402B     		cmp	r3, #64
 7696 0116 14D0     		beq	.L545
2608:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
 7697              		.loc 1 2608 7 is_stmt 1 view .LVU2436
2608:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
 7698              		.loc 1 2608 23 is_stmt 0 view .LVU2437
 7699 0118 0025     		movs	r5, #0
 7700 011a 2566     		str	r5, [r4, #96]
 7701              	.L540:
 7702              	.LVL446:
2612:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     __HAL_SPI_CLEAR_FREFLAG(hspi);
 7703              		.loc 1 2612 5 is_stmt 1 view .LVU2438
 7704              	.LBB11:
2612:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     __HAL_SPI_CLEAR_FREFLAG(hspi);
 7705              		.loc 1 2612 5 view .LVU2439
 7706 011c 0022     		movs	r2, #0
 7707 011e 0092     		str	r2, [sp]
2612:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     __HAL_SPI_CLEAR_FREFLAG(hspi);
 7708              		.loc 1 2612 5 view .LVU2440
 7709 0120 2368     		ldr	r3, [r4]
 7710 0122 D968     		ldr	r1, [r3, #12]
 7711 0124 0091     		str	r1, [sp]
2612:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     __HAL_SPI_CLEAR_FREFLAG(hspi);
 7712              		.loc 1 2612 5 view .LVU2441
 7713 0126 9968     		ldr	r1, [r3, #8]
 7714 0128 0091     		str	r1, [sp]
2612:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     __HAL_SPI_CLEAR_FREFLAG(hspi);
 7715              		.loc 1 2612 5 view .LVU2442
 7716 012a 0099     		ldr	r1, [sp]
 7717              	.LBE11:
2612:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     __HAL_SPI_CLEAR_FREFLAG(hspi);
 7718              		.loc 1 2612 5 view .LVU2443
2613:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 7719              		.loc 1 2613 5 view .LVU2444
 7720              	.LBB12:
2613:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 7721              		.loc 1 2613 5 view .LVU2445
 7722 012c 0192     		str	r2, [sp, #4]
2613:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 7723              		.loc 1 2613 5 view .LVU2446
 7724 012e 9B68     		ldr	r3, [r3, #8]
 7725 0130 0193     		str	r3, [sp, #4]
2613:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 7726              		.loc 1 2613 5 view .LVU2447
 7727 0132 019B     		ldr	r3, [sp, #4]
 7728              	.LBE12:
2613:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 7729              		.loc 1 2613 5 view .LVU2448
2616:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 7730              		.loc 1 2616 5 view .LVU2449
2616:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 7731              		.loc 1 2616 17 is_stmt 0 view .LVU2450
 7732 0134 0123     		movs	r3, #1
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 252


 7733 0136 84F85D30 		strb	r3, [r4, #93]
2622:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
 7734              		.loc 1 2622 5 is_stmt 1 view .LVU2451
 7735 013a 2046     		mov	r0, r4
 7736 013c FFF7FEFF 		bl	HAL_SPI_AbortCpltCallback
 7737              	.LVL447:
 7738 0140 DCE7     		b	.L539
 7739              	.LVL448:
 7740              	.L545:
2603:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
 7741              		.loc 1 2603 17 is_stmt 0 view .LVU2452
 7742 0142 0125     		movs	r5, #1
 7743 0144 EAE7     		b	.L540
 7744              	.L551:
 7745 0146 00BF     		.align	2
 7746              	.L550:
 7747 0148 00000000 		.word	SystemCoreClock
 7748 014c F1197605 		.word	91625969
 7749 0150 00000000 		.word	SPI_AbortTx_ISR
 7750 0154 00000000 		.word	SPI_AbortRx_ISR
 7751 0158 00000000 		.word	SPI_DMATxAbortCallback
 7752 015c 00000000 		.word	SPI_DMARxAbortCallback
 7753              		.cfi_endproc
 7754              	.LFE146:
 7756              		.section	.text.SPI_DMARxAbortCallback,"ax",%progbits
 7757              		.align	1
 7758              		.syntax unified
 7759              		.thumb
 7760              		.thumb_func
 7761              		.fpu fpv4-sp-d16
 7763              	SPI_DMARxAbortCallback:
 7764              	.LVL449:
 7765              	.LFB170:
3440:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   SPI_HandleTypeDef *hspi = (SPI_HandleTypeDef *)(((DMA_HandleTypeDef *)hdma)->Parent); /* Derogati
 7766              		.loc 1 3440 1 is_stmt 1 view -0
 7767              		.cfi_startproc
 7768              		@ args = 0, pretend = 0, frame = 8
 7769              		@ frame_needed = 0, uses_anonymous_args = 0
3440:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   SPI_HandleTypeDef *hspi = (SPI_HandleTypeDef *)(((DMA_HandleTypeDef *)hdma)->Parent); /* Derogati
 7770              		.loc 1 3440 1 is_stmt 0 view .LVU2454
 7771 0000 30B5     		push	{r4, r5, lr}
 7772              	.LCFI77:
 7773              		.cfi_def_cfa_offset 12
 7774              		.cfi_offset 4, -12
 7775              		.cfi_offset 5, -8
 7776              		.cfi_offset 14, -4
 7777 0002 85B0     		sub	sp, sp, #20
 7778              	.LCFI78:
 7779              		.cfi_def_cfa_offset 32
3441:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 7780              		.loc 1 3441 3 is_stmt 1 view .LVU2455
3441:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 7781              		.loc 1 3441 22 is_stmt 0 view .LVU2456
 7782 0004 846A     		ldr	r4, [r0, #40]
 7783              	.LVL450:
3444:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 7784              		.loc 1 3444 3 is_stmt 1 view .LVU2457
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 253


 7785 0006 2268     		ldr	r2, [r4]
 7786 0008 1368     		ldr	r3, [r2]
 7787 000a 23F04003 		bic	r3, r3, #64
 7788 000e 1360     		str	r3, [r2]
3446:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 7789              		.loc 1 3446 3 view .LVU2458
3446:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 7790              		.loc 1 3446 7 is_stmt 0 view .LVU2459
 7791 0010 A36D     		ldr	r3, [r4, #88]
3446:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 7792              		.loc 1 3446 35 view .LVU2460
 7793 0012 0025     		movs	r5, #0
 7794 0014 9D63     		str	r5, [r3, #56]
3449:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 7795              		.loc 1 3449 3 is_stmt 1 view .LVU2461
 7796 0016 2268     		ldr	r2, [r4]
 7797 0018 5368     		ldr	r3, [r2, #4]
 7798 001a 23F00103 		bic	r3, r3, #1
 7799 001e 5360     		str	r3, [r2, #4]
3452:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 7800              		.loc 1 3452 3 view .LVU2462
3452:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 7801              		.loc 1 3452 7 is_stmt 0 view .LVU2463
 7802 0020 FFF7FEFF 		bl	HAL_GetTick
 7803              	.LVL451:
3452:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 7804              		.loc 1 3452 7 view .LVU2464
 7805 0024 0090     		str	r0, [sp]
 7806 0026 6423     		movs	r3, #100
 7807 0028 2A46     		mov	r2, r5
 7808 002a 8021     		movs	r1, #128
 7809 002c 2046     		mov	r0, r4
 7810 002e FFF7FEFF 		bl	SPI_WaitFlagStateUntilTimeout
 7811              	.LVL452:
3452:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 7812              		.loc 1 3452 6 view .LVU2465
 7813 0032 08B1     		cbz	r0, .L553
3454:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
 7814              		.loc 1 3454 5 is_stmt 1 view .LVU2466
3454:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
 7815              		.loc 1 3454 21 is_stmt 0 view .LVU2467
 7816 0034 4023     		movs	r3, #64
 7817 0036 2366     		str	r3, [r4, #96]
 7818              	.L553:
3458:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 7819              		.loc 1 3458 3 is_stmt 1 view .LVU2468
3458:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 7820              		.loc 1 3458 7 is_stmt 0 view .LVU2469
 7821 0038 FFF7FEFF 		bl	HAL_GetTick
 7822              	.LVL453:
 7823 003c 0090     		str	r0, [sp]
 7824 003e 6423     		movs	r3, #100
 7825 0040 0022     		movs	r2, #0
 7826 0042 4FF4C061 		mov	r1, #1536
 7827 0046 2046     		mov	r0, r4
 7828 0048 FFF7FEFF 		bl	SPI_WaitFifoStateUntilTimeout
 7829              	.LVL454:
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 254


3458:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 7830              		.loc 1 3458 6 view .LVU2470
 7831 004c 08B1     		cbz	r0, .L554
3460:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
 7832              		.loc 1 3460 5 is_stmt 1 view .LVU2471
3460:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
 7833              		.loc 1 3460 21 is_stmt 0 view .LVU2472
 7834 004e 4023     		movs	r3, #64
 7835 0050 2366     		str	r3, [r4, #96]
 7836              	.L554:
3464:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 7837              		.loc 1 3464 3 is_stmt 1 view .LVU2473
3464:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 7838              		.loc 1 3464 11 is_stmt 0 view .LVU2474
 7839 0052 636D     		ldr	r3, [r4, #84]
3464:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 7840              		.loc 1 3464 6 view .LVU2475
 7841 0054 0BB1     		cbz	r3, .L555
3466:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
 7842              		.loc 1 3466 5 is_stmt 1 view .LVU2476
3466:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
 7843              		.loc 1 3466 21 is_stmt 0 view .LVU2477
 7844 0056 9B6B     		ldr	r3, [r3, #56]
3466:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
 7845              		.loc 1 3466 8 view .LVU2478
 7846 0058 D3B9     		cbnz	r3, .L552
 7847              	.L555:
3473:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->TxXferCount = 0U;
 7848              		.loc 1 3473 3 is_stmt 1 view .LVU2479
3473:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->TxXferCount = 0U;
 7849              		.loc 1 3473 21 is_stmt 0 view .LVU2480
 7850 005a 0023     		movs	r3, #0
 7851 005c A4F84630 		strh	r3, [r4, #70]	@ movhi
3474:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 7852              		.loc 1 3474 3 is_stmt 1 view .LVU2481
3474:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 7853              		.loc 1 3474 21 is_stmt 0 view .LVU2482
 7854 0060 E387     		strh	r3, [r4, #62]	@ movhi
3477:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 7855              		.loc 1 3477 3 is_stmt 1 view .LVU2483
3477:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 7856              		.loc 1 3477 11 is_stmt 0 view .LVU2484
 7857 0062 236E     		ldr	r3, [r4, #96]
3477:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 7858              		.loc 1 3477 6 view .LVU2485
 7859 0064 402B     		cmp	r3, #64
 7860 0066 01D0     		beq	.L557
3480:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
 7861              		.loc 1 3480 5 is_stmt 1 view .LVU2486
3480:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
 7862              		.loc 1 3480 21 is_stmt 0 view .LVU2487
 7863 0068 0023     		movs	r3, #0
 7864 006a 2366     		str	r3, [r4, #96]
 7865              	.L557:
3484:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   __HAL_SPI_CLEAR_FREFLAG(hspi);
 7866              		.loc 1 3484 3 is_stmt 1 view .LVU2488
 7867              	.LBB13:
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 255


3484:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   __HAL_SPI_CLEAR_FREFLAG(hspi);
 7868              		.loc 1 3484 3 view .LVU2489
 7869 006c 0022     		movs	r2, #0
 7870 006e 0292     		str	r2, [sp, #8]
3484:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   __HAL_SPI_CLEAR_FREFLAG(hspi);
 7871              		.loc 1 3484 3 view .LVU2490
 7872 0070 2368     		ldr	r3, [r4]
 7873 0072 D968     		ldr	r1, [r3, #12]
 7874 0074 0291     		str	r1, [sp, #8]
3484:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   __HAL_SPI_CLEAR_FREFLAG(hspi);
 7875              		.loc 1 3484 3 view .LVU2491
 7876 0076 9968     		ldr	r1, [r3, #8]
 7877 0078 0291     		str	r1, [sp, #8]
3484:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   __HAL_SPI_CLEAR_FREFLAG(hspi);
 7878              		.loc 1 3484 3 view .LVU2492
 7879 007a 0299     		ldr	r1, [sp, #8]
 7880              	.LBE13:
3484:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   __HAL_SPI_CLEAR_FREFLAG(hspi);
 7881              		.loc 1 3484 3 view .LVU2493
3485:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 7882              		.loc 1 3485 3 view .LVU2494
 7883              	.LBB14:
3485:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 7884              		.loc 1 3485 3 view .LVU2495
 7885 007c 0392     		str	r2, [sp, #12]
3485:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 7886              		.loc 1 3485 3 view .LVU2496
 7887 007e 9B68     		ldr	r3, [r3, #8]
 7888 0080 0393     		str	r3, [sp, #12]
3485:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 7889              		.loc 1 3485 3 view .LVU2497
 7890 0082 039B     		ldr	r3, [sp, #12]
 7891              	.LBE14:
3485:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 7892              		.loc 1 3485 3 view .LVU2498
3488:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 7893              		.loc 1 3488 3 view .LVU2499
3488:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 7894              		.loc 1 3488 16 is_stmt 0 view .LVU2500
 7895 0084 0123     		movs	r3, #1
 7896 0086 84F85D30 		strb	r3, [r4, #93]
3494:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
 7897              		.loc 1 3494 3 is_stmt 1 view .LVU2501
 7898 008a 2046     		mov	r0, r4
 7899 008c FFF7FEFF 		bl	HAL_SPI_AbortCpltCallback
 7900              	.LVL455:
 7901              	.L552:
3496:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 7902              		.loc 1 3496 1 is_stmt 0 view .LVU2502
 7903 0090 05B0     		add	sp, sp, #20
 7904              	.LCFI79:
 7905              		.cfi_def_cfa_offset 12
 7906              		@ sp needed
 7907 0092 30BD     		pop	{r4, r5, pc}
3496:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 7908              		.loc 1 3496 1 view .LVU2503
 7909              		.cfi_endproc
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 256


 7910              	.LFE170:
 7912              		.section	.text.SPI_DMATxAbortCallback,"ax",%progbits
 7913              		.align	1
 7914              		.syntax unified
 7915              		.thumb
 7916              		.thumb_func
 7917              		.fpu fpv4-sp-d16
 7919              	SPI_DMATxAbortCallback:
 7920              	.LVL456:
 7921              	.LFB169:
3374:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   SPI_HandleTypeDef *hspi = (SPI_HandleTypeDef *)(((DMA_HandleTypeDef *)hdma)->Parent); /* Derogati
 7922              		.loc 1 3374 1 is_stmt 1 view -0
 7923              		.cfi_startproc
 7924              		@ args = 0, pretend = 0, frame = 8
 7925              		@ frame_needed = 0, uses_anonymous_args = 0
3374:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   SPI_HandleTypeDef *hspi = (SPI_HandleTypeDef *)(((DMA_HandleTypeDef *)hdma)->Parent); /* Derogati
 7926              		.loc 1 3374 1 is_stmt 0 view .LVU2505
 7927 0000 10B5     		push	{r4, lr}
 7928              	.LCFI80:
 7929              		.cfi_def_cfa_offset 8
 7930              		.cfi_offset 4, -8
 7931              		.cfi_offset 14, -4
 7932 0002 84B0     		sub	sp, sp, #16
 7933              	.LCFI81:
 7934              		.cfi_def_cfa_offset 24
3375:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 7935              		.loc 1 3375 3 is_stmt 1 view .LVU2506
3375:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 7936              		.loc 1 3375 22 is_stmt 0 view .LVU2507
 7937 0004 846A     		ldr	r4, [r0, #40]
 7938              	.LVL457:
3377:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 7939              		.loc 1 3377 3 is_stmt 1 view .LVU2508
3377:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 7940              		.loc 1 3377 7 is_stmt 0 view .LVU2509
 7941 0006 636D     		ldr	r3, [r4, #84]
3377:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 7942              		.loc 1 3377 35 view .LVU2510
 7943 0008 0022     		movs	r2, #0
 7944 000a 9A63     		str	r2, [r3, #56]
3380:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 7945              		.loc 1 3380 3 is_stmt 1 view .LVU2511
 7946 000c 2268     		ldr	r2, [r4]
 7947 000e 5368     		ldr	r3, [r2, #4]
 7948 0010 23F00203 		bic	r3, r3, #2
 7949 0014 5360     		str	r3, [r2, #4]
3382:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 7950              		.loc 1 3382 3 view .LVU2512
3382:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 7951              		.loc 1 3382 7 is_stmt 0 view .LVU2513
 7952 0016 FFF7FEFF 		bl	HAL_GetTick
 7953              	.LVL458:
3382:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 7954              		.loc 1 3382 7 view .LVU2514
 7955 001a 0246     		mov	r2, r0
 7956 001c 6421     		movs	r1, #100
 7957 001e 2046     		mov	r0, r4
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 257


 7958 0020 FFF7FEFF 		bl	SPI_EndRxTxTransaction
 7959              	.LVL459:
3382:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 7960              		.loc 1 3382 6 view .LVU2515
 7961 0024 08B1     		cbz	r0, .L560
3384:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
 7962              		.loc 1 3384 5 is_stmt 1 view .LVU2516
3384:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
 7963              		.loc 1 3384 21 is_stmt 0 view .LVU2517
 7964 0026 4023     		movs	r3, #64
 7965 0028 2366     		str	r3, [r4, #96]
 7966              	.L560:
3388:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 7967              		.loc 1 3388 3 is_stmt 1 view .LVU2518
 7968 002a 2268     		ldr	r2, [r4]
 7969 002c 1368     		ldr	r3, [r2]
 7970 002e 23F04003 		bic	r3, r3, #64
 7971 0032 1360     		str	r3, [r2]
3391:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 7972              		.loc 1 3391 3 view .LVU2519
3391:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 7973              		.loc 1 3391 7 is_stmt 0 view .LVU2520
 7974 0034 FFF7FEFF 		bl	HAL_GetTick
 7975              	.LVL460:
 7976 0038 0090     		str	r0, [sp]
 7977 003a 6423     		movs	r3, #100
 7978 003c 0022     		movs	r2, #0
 7979 003e 4FF4C061 		mov	r1, #1536
 7980 0042 2046     		mov	r0, r4
 7981 0044 FFF7FEFF 		bl	SPI_WaitFifoStateUntilTimeout
 7982              	.LVL461:
3391:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 7983              		.loc 1 3391 6 view .LVU2521
 7984 0048 08B1     		cbz	r0, .L561
3393:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
 7985              		.loc 1 3393 5 is_stmt 1 view .LVU2522
3393:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
 7986              		.loc 1 3393 21 is_stmt 0 view .LVU2523
 7987 004a 4023     		movs	r3, #64
 7988 004c 2366     		str	r3, [r4, #96]
 7989              	.L561:
3397:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 7990              		.loc 1 3397 3 is_stmt 1 view .LVU2524
3397:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 7991              		.loc 1 3397 11 is_stmt 0 view .LVU2525
 7992 004e A36D     		ldr	r3, [r4, #88]
3397:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 7993              		.loc 1 3397 6 view .LVU2526
 7994 0050 0BB1     		cbz	r3, .L562
3399:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
 7995              		.loc 1 3399 5 is_stmt 1 view .LVU2527
3399:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
 7996              		.loc 1 3399 21 is_stmt 0 view .LVU2528
 7997 0052 9B6B     		ldr	r3, [r3, #56]
3399:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
 7998              		.loc 1 3399 8 view .LVU2529
 7999 0054 D3B9     		cbnz	r3, .L559
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 258


 8000              	.L562:
3406:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->TxXferCount = 0U;
 8001              		.loc 1 3406 3 is_stmt 1 view .LVU2530
3406:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->TxXferCount = 0U;
 8002              		.loc 1 3406 21 is_stmt 0 view .LVU2531
 8003 0056 0023     		movs	r3, #0
 8004 0058 A4F84630 		strh	r3, [r4, #70]	@ movhi
3407:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 8005              		.loc 1 3407 3 is_stmt 1 view .LVU2532
3407:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 8006              		.loc 1 3407 21 is_stmt 0 view .LVU2533
 8007 005c E387     		strh	r3, [r4, #62]	@ movhi
3410:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 8008              		.loc 1 3410 3 is_stmt 1 view .LVU2534
3410:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 8009              		.loc 1 3410 11 is_stmt 0 view .LVU2535
 8010 005e 236E     		ldr	r3, [r4, #96]
3410:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 8011              		.loc 1 3410 6 view .LVU2536
 8012 0060 402B     		cmp	r3, #64
 8013 0062 01D0     		beq	.L564
3413:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
 8014              		.loc 1 3413 5 is_stmt 1 view .LVU2537
3413:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
 8015              		.loc 1 3413 21 is_stmt 0 view .LVU2538
 8016 0064 0023     		movs	r3, #0
 8017 0066 2366     		str	r3, [r4, #96]
 8018              	.L564:
3417:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   __HAL_SPI_CLEAR_FREFLAG(hspi);
 8019              		.loc 1 3417 3 is_stmt 1 view .LVU2539
 8020              	.LBB15:
3417:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   __HAL_SPI_CLEAR_FREFLAG(hspi);
 8021              		.loc 1 3417 3 view .LVU2540
 8022 0068 0022     		movs	r2, #0
 8023 006a 0292     		str	r2, [sp, #8]
3417:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   __HAL_SPI_CLEAR_FREFLAG(hspi);
 8024              		.loc 1 3417 3 view .LVU2541
 8025 006c 2368     		ldr	r3, [r4]
 8026 006e D968     		ldr	r1, [r3, #12]
 8027 0070 0291     		str	r1, [sp, #8]
3417:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   __HAL_SPI_CLEAR_FREFLAG(hspi);
 8028              		.loc 1 3417 3 view .LVU2542
 8029 0072 9968     		ldr	r1, [r3, #8]
 8030 0074 0291     		str	r1, [sp, #8]
3417:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   __HAL_SPI_CLEAR_FREFLAG(hspi);
 8031              		.loc 1 3417 3 view .LVU2543
 8032 0076 0299     		ldr	r1, [sp, #8]
 8033              	.LBE15:
3417:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   __HAL_SPI_CLEAR_FREFLAG(hspi);
 8034              		.loc 1 3417 3 view .LVU2544
3418:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 8035              		.loc 1 3418 3 view .LVU2545
 8036              	.LBB16:
3418:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 8037              		.loc 1 3418 3 view .LVU2546
 8038 0078 0392     		str	r2, [sp, #12]
3418:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 259


 8039              		.loc 1 3418 3 view .LVU2547
 8040 007a 9B68     		ldr	r3, [r3, #8]
 8041 007c 0393     		str	r3, [sp, #12]
3418:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 8042              		.loc 1 3418 3 view .LVU2548
 8043 007e 039B     		ldr	r3, [sp, #12]
 8044              	.LBE16:
3418:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 8045              		.loc 1 3418 3 view .LVU2549
3421:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 8046              		.loc 1 3421 3 view .LVU2550
3421:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 8047              		.loc 1 3421 16 is_stmt 0 view .LVU2551
 8048 0080 0123     		movs	r3, #1
 8049 0082 84F85D30 		strb	r3, [r4, #93]
3427:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
 8050              		.loc 1 3427 3 is_stmt 1 view .LVU2552
 8051 0086 2046     		mov	r0, r4
 8052 0088 FFF7FEFF 		bl	HAL_SPI_AbortCpltCallback
 8053              	.LVL462:
 8054              	.L559:
3429:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 8055              		.loc 1 3429 1 is_stmt 0 view .LVU2553
 8056 008c 04B0     		add	sp, sp, #16
 8057              	.LCFI82:
 8058              		.cfi_def_cfa_offset 8
 8059              		@ sp needed
 8060 008e 10BD     		pop	{r4, pc}
3429:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 8061              		.loc 1 3429 1 view .LVU2554
 8062              		.cfi_endproc
 8063              	.LFE169:
 8065              		.section	.text.HAL_SPI_GetState,"ax",%progbits
 8066              		.align	1
 8067              		.global	HAL_SPI_GetState
 8068              		.syntax unified
 8069              		.thumb
 8070              		.thumb_func
 8071              		.fpu fpv4-sp-d16
 8073              	HAL_SPI_GetState:
 8074              	.LVL463:
 8075              	.LFB159:
2972:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Return SPI handle state */
 8076              		.loc 1 2972 1 is_stmt 1 view -0
 8077              		.cfi_startproc
 8078              		@ args = 0, pretend = 0, frame = 0
 8079              		@ frame_needed = 0, uses_anonymous_args = 0
 8080              		@ link register save eliminated.
2974:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** }
 8081              		.loc 1 2974 3 view .LVU2556
2974:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** }
 8082              		.loc 1 2974 14 is_stmt 0 view .LVU2557
 8083 0000 90F85D00 		ldrb	r0, [r0, #93]	@ zero_extendqisi2
 8084              	.LVL464:
2975:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 8085              		.loc 1 2975 1 view .LVU2558
 8086 0004 7047     		bx	lr
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 260


 8087              		.cfi_endproc
 8088              	.LFE159:
 8090              		.section	.text.HAL_SPI_GetError,"ax",%progbits
 8091              		.align	1
 8092              		.global	HAL_SPI_GetError
 8093              		.syntax unified
 8094              		.thumb
 8095              		.thumb_func
 8096              		.fpu fpv4-sp-d16
 8098              	HAL_SPI_GetError:
 8099              	.LVL465:
 8100              	.LFB160:
2984:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Return SPI ErrorCode */
 8101              		.loc 1 2984 1 is_stmt 1 view -0
 8102              		.cfi_startproc
 8103              		@ args = 0, pretend = 0, frame = 0
 8104              		@ frame_needed = 0, uses_anonymous_args = 0
 8105              		@ link register save eliminated.
2986:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** }
 8106              		.loc 1 2986 3 view .LVU2560
2986:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** }
 8107              		.loc 1 2986 14 is_stmt 0 view .LVU2561
 8108 0000 006E     		ldr	r0, [r0, #96]
 8109              	.LVL466:
2987:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 8110              		.loc 1 2987 1 view .LVU2562
 8111 0002 7047     		bx	lr
 8112              		.cfi_endproc
 8113              	.LFE160:
 8115              		.text
 8116              	.Letext0:
 8117              		.file 2 "c:\\program files (x86)\\gnu arm embedded toolchain\\10 2020-q4-major\\arm-none-eabi\\inc
 8118              		.file 3 "c:\\program files (x86)\\gnu arm embedded toolchain\\10 2020-q4-major\\arm-none-eabi\\inc
 8119              		.file 4 "Drivers/CMSIS/Device/ST/STM32L4xx/Include/stm32l476xx.h"
 8120              		.file 5 "Drivers/CMSIS/Device/ST/STM32L4xx/Include/stm32l4xx.h"
 8121              		.file 6 "Drivers/STM32L4xx_HAL_Driver/Inc/stm32l4xx_hal_def.h"
 8122              		.file 7 "Drivers/STM32L4xx_HAL_Driver/Inc/stm32l4xx_hal_dma.h"
 8123              		.file 8 "Drivers/STM32L4xx_HAL_Driver/Inc/stm32l4xx_hal_spi.h"
 8124              		.file 9 "Drivers/CMSIS/Device/ST/STM32L4xx/Include/system_stm32l4xx.h"
 8125              		.file 10 "Drivers/STM32L4xx_HAL_Driver/Inc/stm32l4xx_hal.h"
 8126              		.file 11 "Core/Inc/stm32l4xx_hal_conf.h"
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 261


DEFINED SYMBOLS
                            *ABS*:00000000 stm32l4xx_hal_spi.c
C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s:18     .text.SPI_WaitFlagStateUntilTimeout:00000000 $t
C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s:25     .text.SPI_WaitFlagStateUntilTimeout:00000000 SPI_WaitFlagStateUntilTimeout
C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s:206    .text.SPI_WaitFlagStateUntilTimeout:000000d0 $d
C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s:211    .text.SPI_WaitFifoStateUntilTimeout:00000000 $t
C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s:217    .text.SPI_WaitFifoStateUntilTimeout:00000000 SPI_WaitFifoStateUntilTimeout
C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s:418    .text.SPI_WaitFifoStateUntilTimeout:000000e0 $d
C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s:423    .text.SPI_EndRxTxTransaction:00000000 $t
C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s:429    .text.SPI_EndRxTxTransaction:00000000 SPI_EndRxTxTransaction
C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s:526    .text.SPI_EndRxTransaction:00000000 $t
C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s:532    .text.SPI_EndRxTransaction:00000000 SPI_EndRxTransaction
C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s:655    .text.SPI_AbortRx_ISR:00000000 $t
C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s:661    .text.SPI_AbortRx_ISR:00000000 SPI_AbortRx_ISR
C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s:780    .text.SPI_AbortRx_ISR:00000088 $d
C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s:786    .text.SPI_AbortTx_ISR:00000000 $t
C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s:792    .text.SPI_AbortTx_ISR:00000000 SPI_AbortTx_ISR
C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s:983    .text.SPI_AbortTx_ISR:000000e8 $d
C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s:989    .text.HAL_SPI_MspInit:00000000 $t
C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s:996    .text.HAL_SPI_MspInit:00000000 HAL_SPI_MspInit
C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s:1011   .rodata.HAL_SPI_Init.str1.4:00000000 $d
C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s:1016   .text.HAL_SPI_Init:00000000 $t
C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s:1023   .text.HAL_SPI_Init:00000000 HAL_SPI_Init
C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s:1441   .text.HAL_SPI_Init:00000274 $d
C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s:1446   .text.HAL_SPI_Init:0000027c $t
C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s:1478   .text.HAL_SPI_Init:000002a0 $d
C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s:1483   .text.HAL_SPI_MspDeInit:00000000 $t
C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s:1490   .text.HAL_SPI_MspDeInit:00000000 HAL_SPI_MspDeInit
C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s:1505   .text.HAL_SPI_DeInit:00000000 $t
C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s:1512   .text.HAL_SPI_DeInit:00000000 HAL_SPI_DeInit
C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s:1591   .text.HAL_SPI_DeInit:00000050 $d
C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s:1597   .text.HAL_SPI_Transmit:00000000 $t
C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s:1604   .text.HAL_SPI_Transmit:00000000 HAL_SPI_Transmit
C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s:2085   .text.HAL_SPI_Transmit:00000218 $d
C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s:2090   .text.HAL_SPI_TransmitReceive:00000000 $t
C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s:2097   .text.HAL_SPI_TransmitReceive:00000000 HAL_SPI_TransmitReceive
C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s:2803   .text.HAL_SPI_TransmitReceive:000002f0 $d
C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s:2808   .text.HAL_SPI_Receive:00000000 $t
C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s:2815   .text.HAL_SPI_Receive:00000000 HAL_SPI_Receive
C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s:3179   .text.HAL_SPI_Transmit_IT:00000000 $t
C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s:3186   .text.HAL_SPI_Transmit_IT:00000000 HAL_SPI_Transmit_IT
C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s:3369   .text.HAL_SPI_Transmit_IT:000000c4 $d
C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s:5947   .text.SPI_TxISR_16BIT:00000000 SPI_TxISR_16BIT
C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s:5884   .text.SPI_TxISR_8BIT:00000000 SPI_TxISR_8BIT
C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s:3376   .text.HAL_SPI_TransmitReceive_IT:00000000 $t
C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s:3383   .text.HAL_SPI_TransmitReceive_IT:00000000 HAL_SPI_TransmitReceive_IT
C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s:3626   .text.HAL_SPI_TransmitReceive_IT:000000f8 $d
C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s:6596   .text.SPI_2linesRxISR_16BIT:00000000 SPI_2linesRxISR_16BIT
C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s:6523   .text.SPI_2linesTxISR_16BIT:00000000 SPI_2linesTxISR_16BIT
C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s:6406   .text.SPI_2linesRxISR_8BIT:00000000 SPI_2linesRxISR_8BIT
C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s:6301   .text.SPI_2linesTxISR_8BIT:00000000 SPI_2linesTxISR_8BIT
C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s:3635   .text.HAL_SPI_Receive_IT:00000000 $t
C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s:3642   .text.HAL_SPI_Receive_IT:00000000 HAL_SPI_Receive_IT
C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s:3843   .text.HAL_SPI_Receive_IT:000000f4 $d
C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s:6142   .text.SPI_RxISR_16BIT:00000000 SPI_RxISR_16BIT
C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s:6079   .text.SPI_RxISR_8BIT:00000000 SPI_RxISR_8BIT
C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s:3849   .text.HAL_SPI_Transmit_DMA:00000000 $t
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 262


C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s:3856   .text.HAL_SPI_Transmit_DMA:00000000 HAL_SPI_Transmit_DMA
C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s:4142   .text.HAL_SPI_Transmit_DMA:0000015c $d
C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s:5612   .text.SPI_DMAHalfTransmitCplt:00000000 SPI_DMAHalfTransmitCplt
C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s:6714   .text.SPI_DMATransmitCplt:00000000 SPI_DMATransmitCplt
C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s:6669   .text.SPI_DMAError:00000000 SPI_DMAError
C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s:4150   .text.HAL_SPI_TransmitReceive_DMA:00000000 $t
C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s:4157   .text.HAL_SPI_TransmitReceive_DMA:00000000 HAL_SPI_TransmitReceive_DMA
C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s:4620   .text.HAL_SPI_TransmitReceive_DMA:0000023c $d
C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s:5722   .text.SPI_DMAHalfTransmitReceiveCplt:00000000 SPI_DMAHalfTransmitReceiveCplt
C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s:6960   .text.SPI_DMATransmitReceiveCplt:00000000 SPI_DMATransmitReceiveCplt
C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s:5667   .text.SPI_DMAHalfReceiveCplt:00000000 SPI_DMAHalfReceiveCplt
C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s:6842   .text.SPI_DMAReceiveCplt:00000000 SPI_DMAReceiveCplt
C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s:4630   .text.HAL_SPI_Receive_DMA:00000000 $t
C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s:4637   .text.HAL_SPI_Receive_DMA:00000000 HAL_SPI_Receive_DMA
C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s:4957   .text.HAL_SPI_Receive_DMA:0000019c $d
C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s:4965   .text.HAL_SPI_Abort:00000000 $t
C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s:4972   .text.HAL_SPI_Abort:00000000 HAL_SPI_Abort
C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s:5316   .text.HAL_SPI_Abort:00000180 $d
C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s:5324   .text.HAL_SPI_DMAPause:00000000 $t
C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s:5331   .text.HAL_SPI_DMAPause:00000000 HAL_SPI_DMAPause
C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s:5375   .text.HAL_SPI_DMAResume:00000000 $t
C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s:5382   .text.HAL_SPI_DMAResume:00000000 HAL_SPI_DMAResume
C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s:5426   .text.HAL_SPI_DMAStop:00000000 $t
C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s:5433   .text.HAL_SPI_DMAStop:00000000 HAL_SPI_DMAStop
C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s:5518   .text.HAL_SPI_TxCpltCallback:00000000 $t
C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s:5525   .text.HAL_SPI_TxCpltCallback:00000000 HAL_SPI_TxCpltCallback
C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s:5540   .text.HAL_SPI_RxCpltCallback:00000000 $t
C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s:5547   .text.HAL_SPI_RxCpltCallback:00000000 HAL_SPI_RxCpltCallback
C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s:5562   .text.HAL_SPI_TxRxCpltCallback:00000000 $t
C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s:5569   .text.HAL_SPI_TxRxCpltCallback:00000000 HAL_SPI_TxRxCpltCallback
C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s:5584   .text.HAL_SPI_TxHalfCpltCallback:00000000 $t
C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s:5591   .text.HAL_SPI_TxHalfCpltCallback:00000000 HAL_SPI_TxHalfCpltCallback
C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s:5606   .text.SPI_DMAHalfTransmitCplt:00000000 $t
C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s:5639   .text.HAL_SPI_RxHalfCpltCallback:00000000 $t
C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s:5646   .text.HAL_SPI_RxHalfCpltCallback:00000000 HAL_SPI_RxHalfCpltCallback
C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s:5661   .text.SPI_DMAHalfReceiveCplt:00000000 $t
C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s:5694   .text.HAL_SPI_TxRxHalfCpltCallback:00000000 $t
C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s:5701   .text.HAL_SPI_TxRxHalfCpltCallback:00000000 HAL_SPI_TxRxHalfCpltCallback
C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s:5716   .text.SPI_DMAHalfTransmitReceiveCplt:00000000 $t
C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s:5749   .text.HAL_SPI_ErrorCallback:00000000 $t
C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s:5756   .text.HAL_SPI_ErrorCallback:00000000 HAL_SPI_ErrorCallback
C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s:5771   .text.SPI_CloseTx_ISR:00000000 $t
C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s:5777   .text.SPI_CloseTx_ISR:00000000 SPI_CloseTx_ISR
C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s:5878   .text.SPI_TxISR_8BIT:00000000 $t
C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s:5941   .text.SPI_TxISR_16BIT:00000000 $t
C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s:6003   .text.SPI_CloseRx_ISR:00000000 $t
C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s:6009   .text.SPI_CloseRx_ISR:00000000 SPI_CloseRx_ISR
C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s:6073   .text.SPI_RxISR_8BIT:00000000 $t
C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s:6136   .text.SPI_RxISR_16BIT:00000000 $t
C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s:6198   .text.SPI_CloseRxTx_ISR:00000000 $t
C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s:6204   .text.SPI_CloseRxTx_ISR:00000000 SPI_CloseRxTx_ISR
C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s:6295   .text.SPI_2linesTxISR_8BIT:00000000 $t
C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s:6400   .text.SPI_2linesRxISR_8BIT:00000000 $t
C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s:6517   .text.SPI_2linesTxISR_16BIT:00000000 $t
C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s:6590   .text.SPI_2linesRxISR_16BIT:00000000 $t
C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s:6663   .text.SPI_DMAError:00000000 $t
C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s:6708   .text.SPI_DMATransmitCplt:00000000 $t
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s 			page 263


C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s:6836   .text.SPI_DMAReceiveCplt:00000000 $t
C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s:6954   .text.SPI_DMATransmitReceiveCplt:00000000 $t
C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s:7055   .text.HAL_SPI_IRQHandler:00000000 $t
C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s:7062   .text.HAL_SPI_IRQHandler:00000000 HAL_SPI_IRQHandler
C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s:7337   .text.HAL_SPI_IRQHandler:00000120 $d
C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s:7348   .text.SPI_DMAAbortOnError:00000000 SPI_DMAAbortOnError
C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s:7342   .text.SPI_DMAAbortOnError:00000000 $t
C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s:7381   .text.HAL_SPI_AbortCpltCallback:00000000 $t
C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s:7388   .text.HAL_SPI_AbortCpltCallback:00000000 HAL_SPI_AbortCpltCallback
C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s:7403   .text.HAL_SPI_Abort_IT:00000000 $t
C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s:7410   .text.HAL_SPI_Abort_IT:00000000 HAL_SPI_Abort_IT
C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s:7747   .text.HAL_SPI_Abort_IT:00000148 $d
C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s:7919   .text.SPI_DMATxAbortCallback:00000000 SPI_DMATxAbortCallback
C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s:7763   .text.SPI_DMARxAbortCallback:00000000 SPI_DMARxAbortCallback
C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s:7757   .text.SPI_DMARxAbortCallback:00000000 $t
C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s:7913   .text.SPI_DMATxAbortCallback:00000000 $t
C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s:8066   .text.HAL_SPI_GetState:00000000 $t
C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s:8073   .text.HAL_SPI_GetState:00000000 HAL_SPI_GetState
C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s:8091   .text.HAL_SPI_GetError:00000000 $t
C:\Users\andywei\AppData\Local\Temp\ccVzzPdf.s:8098   .text.HAL_SPI_GetError:00000000 HAL_SPI_GetError

UNDEFINED SYMBOLS
HAL_GetTick
SystemCoreClock
assert_failed
HAL_DMA_Start_IT
HAL_DMA_Abort
HAL_DMA_Abort_IT
