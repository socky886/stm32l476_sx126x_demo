ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccPg5CgU.s 			page 1


   1              		.cpu cortex-m4
   2              		.eabi_attribute 27, 1
   3              		.eabi_attribute 28, 1
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"rtc-board.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.text.RtcComputeTimerTimeToAlarmTick,"ax",%progbits
  18              		.align	1
  19              		.arch armv7e-m
  20              		.syntax unified
  21              		.thumb
  22              		.thumb_func
  23              		.fpu fpv4-sp-d16
  25              	RtcComputeTimerTimeToAlarmTick:
  26              	.LVL0:
  27              	.LFB147:
  28              		.file 1 "Core/Src/boards/NucleoL476/rtc-board.c"
   1:Core/Src/boards/NucleoL476/rtc-board.c **** /*
   2:Core/Src/boards/NucleoL476/rtc-board.c ****   ______                              _
   3:Core/Src/boards/NucleoL476/rtc-board.c ****  / _____)             _              | |
   4:Core/Src/boards/NucleoL476/rtc-board.c **** ( (____  _____ ____ _| |_ _____  ____| |__
   5:Core/Src/boards/NucleoL476/rtc-board.c ****  \____ \| ___ |    (_   _) ___ |/ ___)  _ \
   6:Core/Src/boards/NucleoL476/rtc-board.c ****  _____) ) ____| | | || |_| ____( (___| | | |
   7:Core/Src/boards/NucleoL476/rtc-board.c **** (______/|_____)_|_|_| \__)_____)\____)_| |_|
   8:Core/Src/boards/NucleoL476/rtc-board.c ****     (C)2013 Semtech
   9:Core/Src/boards/NucleoL476/rtc-board.c **** 
  10:Core/Src/boards/NucleoL476/rtc-board.c **** Description: MCU RTC timer and low power modes management
  11:Core/Src/boards/NucleoL476/rtc-board.c **** 
  12:Core/Src/boards/NucleoL476/rtc-board.c **** License: Revised BSD License, see LICENSE.TXT file include in the project
  13:Core/Src/boards/NucleoL476/rtc-board.c **** 
  14:Core/Src/boards/NucleoL476/rtc-board.c **** Maintainer: Miguel Luis and Gregory Cristian
  15:Core/Src/boards/NucleoL476/rtc-board.c **** */
  16:Core/Src/boards/NucleoL476/rtc-board.c **** #include <math.h>
  17:Core/Src/boards/NucleoL476/rtc-board.c **** #include "board.h"
  18:Core/Src/boards/NucleoL476/rtc-board.c **** #include "rtc-board.h"
  19:Core/Src/boards/NucleoL476/rtc-board.c **** 
  20:Core/Src/boards/NucleoL476/rtc-board.c **** /*!
  21:Core/Src/boards/NucleoL476/rtc-board.c ****  * RTC Time base in ms
  22:Core/Src/boards/NucleoL476/rtc-board.c ****  */
  23:Core/Src/boards/NucleoL476/rtc-board.c **** #define RTC_ALARM_TICK_PER_MS                       0x7FF           //  2047 > number of sub-second
  24:Core/Src/boards/NucleoL476/rtc-board.c **** 
  25:Core/Src/boards/NucleoL476/rtc-board.c **** /* sub-second number of bits */
  26:Core/Src/boards/NucleoL476/rtc-board.c **** #define N_PREDIV_S                11
  27:Core/Src/boards/NucleoL476/rtc-board.c **** 
  28:Core/Src/boards/NucleoL476/rtc-board.c **** /* Synchronous prediv  */
  29:Core/Src/boards/NucleoL476/rtc-board.c **** #define PREDIV_S                  ( ( 1 << N_PREDIV_S ) - 1 )
  30:Core/Src/boards/NucleoL476/rtc-board.c **** 
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccPg5CgU.s 			page 2


  31:Core/Src/boards/NucleoL476/rtc-board.c **** /* Asynchronous prediv   */
  32:Core/Src/boards/NucleoL476/rtc-board.c **** #define PREDIV_A                  ( 1 << ( 15 - N_PREDIV_S ) ) - 1
  33:Core/Src/boards/NucleoL476/rtc-board.c **** 
  34:Core/Src/boards/NucleoL476/rtc-board.c **** /* RTC Time base in us */
  35:Core/Src/boards/NucleoL476/rtc-board.c **** #define USEC_NUMBER               1000000
  36:Core/Src/boards/NucleoL476/rtc-board.c **** #define MSEC_NUMBER               ( USEC_NUMBER / 1000 )
  37:Core/Src/boards/NucleoL476/rtc-board.c **** #define RTC_ALARM_TIME_BASE       ( USEC_NUMBER >> N_PREDIV_S )
  38:Core/Src/boards/NucleoL476/rtc-board.c **** 
  39:Core/Src/boards/NucleoL476/rtc-board.c **** #define COMMON_FACTOR             3
  40:Core/Src/boards/NucleoL476/rtc-board.c **** #define CONV_NUMER                ( MSEC_NUMBER >> COMMON_FACTOR )
  41:Core/Src/boards/NucleoL476/rtc-board.c **** #define CONV_DENOM                ( 1 << ( N_PREDIV_S - COMMON_FACTOR ) )
  42:Core/Src/boards/NucleoL476/rtc-board.c **** 
  43:Core/Src/boards/NucleoL476/rtc-board.c **** /*!
  44:Core/Src/boards/NucleoL476/rtc-board.c ****  * Number of seconds in a minute
  45:Core/Src/boards/NucleoL476/rtc-board.c ****  */
  46:Core/Src/boards/NucleoL476/rtc-board.c **** static const uint8_t SecondsInMinute = 60;
  47:Core/Src/boards/NucleoL476/rtc-board.c **** 
  48:Core/Src/boards/NucleoL476/rtc-board.c **** /*!
  49:Core/Src/boards/NucleoL476/rtc-board.c ****  * Number of seconds in an hour
  50:Core/Src/boards/NucleoL476/rtc-board.c ****  */
  51:Core/Src/boards/NucleoL476/rtc-board.c **** static const uint16_t SecondsInHour = 3600;
  52:Core/Src/boards/NucleoL476/rtc-board.c **** 
  53:Core/Src/boards/NucleoL476/rtc-board.c **** /*!
  54:Core/Src/boards/NucleoL476/rtc-board.c ****  * Number of seconds in a day
  55:Core/Src/boards/NucleoL476/rtc-board.c ****  */
  56:Core/Src/boards/NucleoL476/rtc-board.c **** static const uint32_t SecondsInDay = 86400;
  57:Core/Src/boards/NucleoL476/rtc-board.c **** 
  58:Core/Src/boards/NucleoL476/rtc-board.c **** /*!
  59:Core/Src/boards/NucleoL476/rtc-board.c ****  * Number of hours in a day
  60:Core/Src/boards/NucleoL476/rtc-board.c ****  */
  61:Core/Src/boards/NucleoL476/rtc-board.c **** static const uint8_t HoursInDay = 24;
  62:Core/Src/boards/NucleoL476/rtc-board.c **** 
  63:Core/Src/boards/NucleoL476/rtc-board.c **** /*!
  64:Core/Src/boards/NucleoL476/rtc-board.c ****  * Number of seconds in a leap year
  65:Core/Src/boards/NucleoL476/rtc-board.c ****  */
  66:Core/Src/boards/NucleoL476/rtc-board.c **** static const uint32_t SecondsInLeapYear = 31622400;
  67:Core/Src/boards/NucleoL476/rtc-board.c **** 
  68:Core/Src/boards/NucleoL476/rtc-board.c **** /*!
  69:Core/Src/boards/NucleoL476/rtc-board.c ****  * Number of seconds in a year
  70:Core/Src/boards/NucleoL476/rtc-board.c ****  */
  71:Core/Src/boards/NucleoL476/rtc-board.c **** static const uint32_t SecondsInYear = 31536000;
  72:Core/Src/boards/NucleoL476/rtc-board.c **** 
  73:Core/Src/boards/NucleoL476/rtc-board.c **** /*!
  74:Core/Src/boards/NucleoL476/rtc-board.c ****  * Number of days in each month on a normal year
  75:Core/Src/boards/NucleoL476/rtc-board.c ****  */
  76:Core/Src/boards/NucleoL476/rtc-board.c **** static const uint8_t DaysInMonth[] = { 31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31 };
  77:Core/Src/boards/NucleoL476/rtc-board.c **** 
  78:Core/Src/boards/NucleoL476/rtc-board.c **** /*!
  79:Core/Src/boards/NucleoL476/rtc-board.c ****  * Number of days in each month on a leap year
  80:Core/Src/boards/NucleoL476/rtc-board.c ****  */
  81:Core/Src/boards/NucleoL476/rtc-board.c **** static const uint8_t DaysInMonthLeapYear[] = { 31, 29, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31 };
  82:Core/Src/boards/NucleoL476/rtc-board.c **** 
  83:Core/Src/boards/NucleoL476/rtc-board.c **** /*!
  84:Core/Src/boards/NucleoL476/rtc-board.c ****  * Flag used to indicates a the MCU has waken-up from an external IRQ
  85:Core/Src/boards/NucleoL476/rtc-board.c ****  */
  86:Core/Src/boards/NucleoL476/rtc-board.c **** volatile bool NonScheduledWakeUp = false;
  87:Core/Src/boards/NucleoL476/rtc-board.c **** 
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccPg5CgU.s 			page 3


  88:Core/Src/boards/NucleoL476/rtc-board.c **** /*!
  89:Core/Src/boards/NucleoL476/rtc-board.c ****  * RTC timer context
  90:Core/Src/boards/NucleoL476/rtc-board.c ****  */
  91:Core/Src/boards/NucleoL476/rtc-board.c **** typedef struct RtcCalendar_s
  92:Core/Src/boards/NucleoL476/rtc-board.c **** {
  93:Core/Src/boards/NucleoL476/rtc-board.c ****     RTC_DateTypeDef CalendarDate; //! Reference time in calendar format
  94:Core/Src/boards/NucleoL476/rtc-board.c ****     RTC_TimeTypeDef CalendarTime; //! Reference date in calendar format
  95:Core/Src/boards/NucleoL476/rtc-board.c **** } RtcCalendar_t;
  96:Core/Src/boards/NucleoL476/rtc-board.c **** 
  97:Core/Src/boards/NucleoL476/rtc-board.c **** /*!
  98:Core/Src/boards/NucleoL476/rtc-board.c ****  * Current RTC timer context
  99:Core/Src/boards/NucleoL476/rtc-board.c ****  */
 100:Core/Src/boards/NucleoL476/rtc-board.c **** RtcCalendar_t RtcCalendarContext;
 101:Core/Src/boards/NucleoL476/rtc-board.c **** 
 102:Core/Src/boards/NucleoL476/rtc-board.c **** /*!
 103:Core/Src/boards/NucleoL476/rtc-board.c ****  * \brief Flag to indicate if the timestamp until the next event is long enough
 104:Core/Src/boards/NucleoL476/rtc-board.c ****  * to set the MCU into low power mode
 105:Core/Src/boards/NucleoL476/rtc-board.c ****  */
 106:Core/Src/boards/NucleoL476/rtc-board.c **** static bool RtcTimerEventAllowsLowPower = false;
 107:Core/Src/boards/NucleoL476/rtc-board.c **** 
 108:Core/Src/boards/NucleoL476/rtc-board.c **** /*!
 109:Core/Src/boards/NucleoL476/rtc-board.c ****  * \brief Flag to disable the low power mode even if the timestamp until the
 110:Core/Src/boards/NucleoL476/rtc-board.c ****  * next event is long enough to allow low power mode
 111:Core/Src/boards/NucleoL476/rtc-board.c ****  */
 112:Core/Src/boards/NucleoL476/rtc-board.c **** static bool LowPowerDisableDuringTask = false;
 113:Core/Src/boards/NucleoL476/rtc-board.c **** 
 114:Core/Src/boards/NucleoL476/rtc-board.c **** /*!
 115:Core/Src/boards/NucleoL476/rtc-board.c ****  * \brief RTC Handler
 116:Core/Src/boards/NucleoL476/rtc-board.c ****  */
 117:Core/Src/boards/NucleoL476/rtc-board.c **** RTC_HandleTypeDef RtcHandle = { 0 };
 118:Core/Src/boards/NucleoL476/rtc-board.c **** 
 119:Core/Src/boards/NucleoL476/rtc-board.c **** /*!
 120:Core/Src/boards/NucleoL476/rtc-board.c ****  * \brief Indicates if the RTC is already Initialized or not
 121:Core/Src/boards/NucleoL476/rtc-board.c ****  */
 122:Core/Src/boards/NucleoL476/rtc-board.c **** static bool RtcInitialized = false;
 123:Core/Src/boards/NucleoL476/rtc-board.c **** 
 124:Core/Src/boards/NucleoL476/rtc-board.c **** /*!
 125:Core/Src/boards/NucleoL476/rtc-board.c ****  * \brief Indicates if the RTC Wake Up Time is calibrated or not
 126:Core/Src/boards/NucleoL476/rtc-board.c ****  */
 127:Core/Src/boards/NucleoL476/rtc-board.c **** static bool WakeUpTimeInitialized = false;
 128:Core/Src/boards/NucleoL476/rtc-board.c **** 
 129:Core/Src/boards/NucleoL476/rtc-board.c **** /*!
 130:Core/Src/boards/NucleoL476/rtc-board.c ****  * \brief Hold the Wake-up time duration in ms
 131:Core/Src/boards/NucleoL476/rtc-board.c ****  */
 132:Core/Src/boards/NucleoL476/rtc-board.c **** volatile uint32_t McuWakeUpTime = 0;
 133:Core/Src/boards/NucleoL476/rtc-board.c **** 
 134:Core/Src/boards/NucleoL476/rtc-board.c **** /*!
 135:Core/Src/boards/NucleoL476/rtc-board.c ****  * \brief RTC wakeup time computation
 136:Core/Src/boards/NucleoL476/rtc-board.c ****  */
 137:Core/Src/boards/NucleoL476/rtc-board.c **** static void RtcComputeWakeUpTime( void );
 138:Core/Src/boards/NucleoL476/rtc-board.c **** 
 139:Core/Src/boards/NucleoL476/rtc-board.c **** /*!
 140:Core/Src/boards/NucleoL476/rtc-board.c ****  * \brief Start the RTC Alarm (timeoutValue is in ms)
 141:Core/Src/boards/NucleoL476/rtc-board.c ****  */
 142:Core/Src/boards/NucleoL476/rtc-board.c **** static void RtcStartWakeUpAlarm( uint32_t timeoutValue );
 143:Core/Src/boards/NucleoL476/rtc-board.c **** 
 144:Core/Src/boards/NucleoL476/rtc-board.c **** /*!
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccPg5CgU.s 			page 4


 145:Core/Src/boards/NucleoL476/rtc-board.c ****  * \brief Converts a TimerTime_t value into RtcCalendar_t value
 146:Core/Src/boards/NucleoL476/rtc-board.c ****  *
 147:Core/Src/boards/NucleoL476/rtc-board.c ****  * \param[IN] timeCounter Value to convert to RTC calendar
 148:Core/Src/boards/NucleoL476/rtc-board.c ****  * \retval rtcCalendar New RTC calendar value
 149:Core/Src/boards/NucleoL476/rtc-board.c ****  */
 150:Core/Src/boards/NucleoL476/rtc-board.c **** //
 151:Core/Src/boards/NucleoL476/rtc-board.c **** // REMARK: Removed function static attribute in order to suppress
 152:Core/Src/boards/NucleoL476/rtc-board.c **** //         "#177-D function was declared but never referenced" warning.
 153:Core/Src/boards/NucleoL476/rtc-board.c **** // static RtcCalendar_t RtcConvertTimerTimeToCalendarTick( TimerTime_t timeCounter )
 154:Core/Src/boards/NucleoL476/rtc-board.c **** //
 155:Core/Src/boards/NucleoL476/rtc-board.c **** RtcCalendar_t RtcConvertTimerTimeToCalendarTick( TimerTime_t timeCounter );
 156:Core/Src/boards/NucleoL476/rtc-board.c **** 
 157:Core/Src/boards/NucleoL476/rtc-board.c **** /*!
 158:Core/Src/boards/NucleoL476/rtc-board.c ****  * \brief Converts a RtcCalendar_t value into TimerTime_t value
 159:Core/Src/boards/NucleoL476/rtc-board.c ****  *
 160:Core/Src/boards/NucleoL476/rtc-board.c ****  * \param[IN/OUT] calendar Calendar value to be converted
 161:Core/Src/boards/NucleoL476/rtc-board.c ****  *                         [NULL: compute from "now",
 162:Core/Src/boards/NucleoL476/rtc-board.c ****  *                          Others: compute from given calendar value]
 163:Core/Src/boards/NucleoL476/rtc-board.c ****  * \retval timerTime New TimerTime_t value
 164:Core/Src/boards/NucleoL476/rtc-board.c ****  */
 165:Core/Src/boards/NucleoL476/rtc-board.c **** static TimerTime_t RtcConvertCalendarTickToTimerTime( RtcCalendar_t *calendar );
 166:Core/Src/boards/NucleoL476/rtc-board.c **** 
 167:Core/Src/boards/NucleoL476/rtc-board.c **** static TimerTime_t RtcConvertMsToTick( TimerTime_t timeoutValue );
 168:Core/Src/boards/NucleoL476/rtc-board.c **** 
 169:Core/Src/boards/NucleoL476/rtc-board.c **** static TimerTime_t RtcConvertTickToMs( TimerTime_t timeoutValue );
 170:Core/Src/boards/NucleoL476/rtc-board.c **** 
 171:Core/Src/boards/NucleoL476/rtc-board.c **** /*!
 172:Core/Src/boards/NucleoL476/rtc-board.c ****  * \brief Converts a TimerTime_t value into a value for the RTC Alarm
 173:Core/Src/boards/NucleoL476/rtc-board.c ****  *
 174:Core/Src/boards/NucleoL476/rtc-board.c ****  * \param[IN] timeCounter Value in ms to convert into a calendar alarm date
 175:Core/Src/boards/NucleoL476/rtc-board.c ****  * \param[IN] now Current RTC calendar context
 176:Core/Src/boards/NucleoL476/rtc-board.c ****  * \retval rtcCalendar Value for the RTC Alarm
 177:Core/Src/boards/NucleoL476/rtc-board.c ****  */
 178:Core/Src/boards/NucleoL476/rtc-board.c **** static RtcCalendar_t RtcComputeTimerTimeToAlarmTick( TimerTime_t timeCounter, RtcCalendar_t now );
 179:Core/Src/boards/NucleoL476/rtc-board.c **** 
 180:Core/Src/boards/NucleoL476/rtc-board.c **** /*!
 181:Core/Src/boards/NucleoL476/rtc-board.c ****  * \brief Returns the internal RTC Calendar and check for RTC overflow
 182:Core/Src/boards/NucleoL476/rtc-board.c ****  *
 183:Core/Src/boards/NucleoL476/rtc-board.c ****  * \retval calendar RTC calendar
 184:Core/Src/boards/NucleoL476/rtc-board.c ****  */
 185:Core/Src/boards/NucleoL476/rtc-board.c **** static RtcCalendar_t RtcGetCalendar( void );
 186:Core/Src/boards/NucleoL476/rtc-board.c **** 
 187:Core/Src/boards/NucleoL476/rtc-board.c **** void RtcInit( void )
 188:Core/Src/boards/NucleoL476/rtc-board.c **** {
 189:Core/Src/boards/NucleoL476/rtc-board.c ****     RtcCalendar_t rtcInit;
 190:Core/Src/boards/NucleoL476/rtc-board.c **** 
 191:Core/Src/boards/NucleoL476/rtc-board.c ****     if( RtcInitialized == false )
 192:Core/Src/boards/NucleoL476/rtc-board.c ****     {
 193:Core/Src/boards/NucleoL476/rtc-board.c ****         __HAL_RCC_RTC_ENABLE( );
 194:Core/Src/boards/NucleoL476/rtc-board.c **** 
 195:Core/Src/boards/NucleoL476/rtc-board.c ****         RtcHandle.Instance = RTC;
 196:Core/Src/boards/NucleoL476/rtc-board.c ****         RtcHandle.Init.HourFormat = RTC_HOURFORMAT_24;
 197:Core/Src/boards/NucleoL476/rtc-board.c ****         RtcHandle.Init.AsynchPrediv = PREDIV_A; // RTC_ASYNCH_PREDIV;
 198:Core/Src/boards/NucleoL476/rtc-board.c ****         RtcHandle.Init.SynchPrediv = PREDIV_S;  // RTC_SYNCH_PREDIV;
 199:Core/Src/boards/NucleoL476/rtc-board.c **** 
 200:Core/Src/boards/NucleoL476/rtc-board.c ****         RtcHandle.Init.OutPut = RTC_OUTPUT_DISABLE;
 201:Core/Src/boards/NucleoL476/rtc-board.c ****         RtcHandle.Init.OutPutRemap = RTC_OUTPUT_REMAP_NONE;
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccPg5CgU.s 			page 5


 202:Core/Src/boards/NucleoL476/rtc-board.c ****         RtcHandle.Init.OutPutPolarity = RTC_OUTPUT_POLARITY_HIGH;
 203:Core/Src/boards/NucleoL476/rtc-board.c ****         RtcHandle.Init.OutPutType = RTC_OUTPUT_TYPE_OPENDRAIN;
 204:Core/Src/boards/NucleoL476/rtc-board.c ****         HAL_RTC_Init( &RtcHandle );
 205:Core/Src/boards/NucleoL476/rtc-board.c **** 
 206:Core/Src/boards/NucleoL476/rtc-board.c ****         // Set Date: Friday 1st of January 2000
 207:Core/Src/boards/NucleoL476/rtc-board.c ****         rtcInit.CalendarDate.Year = 0;
 208:Core/Src/boards/NucleoL476/rtc-board.c ****         rtcInit.CalendarDate.Month = RTC_MONTH_JANUARY;
 209:Core/Src/boards/NucleoL476/rtc-board.c ****         rtcInit.CalendarDate.Date = 1;
 210:Core/Src/boards/NucleoL476/rtc-board.c ****         rtcInit.CalendarDate.WeekDay = RTC_WEEKDAY_SATURDAY;
 211:Core/Src/boards/NucleoL476/rtc-board.c ****         HAL_RTC_SetDate( &RtcHandle, &rtcInit.CalendarDate, RTC_FORMAT_BIN );
 212:Core/Src/boards/NucleoL476/rtc-board.c **** 
 213:Core/Src/boards/NucleoL476/rtc-board.c ****         // Set Time: 00:00:00
 214:Core/Src/boards/NucleoL476/rtc-board.c ****         rtcInit.CalendarTime.Hours = 0;
 215:Core/Src/boards/NucleoL476/rtc-board.c ****         rtcInit.CalendarTime.Minutes = 0;
 216:Core/Src/boards/NucleoL476/rtc-board.c ****         rtcInit.CalendarTime.Seconds = 0;
 217:Core/Src/boards/NucleoL476/rtc-board.c ****         rtcInit.CalendarTime.SecondFraction = 0;
 218:Core/Src/boards/NucleoL476/rtc-board.c ****         rtcInit.CalendarTime.TimeFormat = RTC_HOURFORMAT12_AM;
 219:Core/Src/boards/NucleoL476/rtc-board.c ****         rtcInit.CalendarTime.DayLightSaving = RTC_DAYLIGHTSAVING_NONE;
 220:Core/Src/boards/NucleoL476/rtc-board.c ****         rtcInit.CalendarTime.StoreOperation = RTC_STOREOPERATION_RESET;
 221:Core/Src/boards/NucleoL476/rtc-board.c ****         HAL_RTC_SetTime( &RtcHandle, &rtcInit.CalendarTime, RTC_FORMAT_BIN );
 222:Core/Src/boards/NucleoL476/rtc-board.c **** 
 223:Core/Src/boards/NucleoL476/rtc-board.c ****         // Enable Direct Read of the calendar registers (not through Shadow registers)
 224:Core/Src/boards/NucleoL476/rtc-board.c ****         HAL_RTCEx_EnableBypassShadow( &RtcHandle );
 225:Core/Src/boards/NucleoL476/rtc-board.c **** 
 226:Core/Src/boards/NucleoL476/rtc-board.c ****         HAL_NVIC_SetPriority( RTC_Alarm_IRQn, 1, 0 );
 227:Core/Src/boards/NucleoL476/rtc-board.c ****         HAL_NVIC_EnableIRQ( RTC_Alarm_IRQn );
 228:Core/Src/boards/NucleoL476/rtc-board.c ****         RtcInitialized = true;
 229:Core/Src/boards/NucleoL476/rtc-board.c ****     }
 230:Core/Src/boards/NucleoL476/rtc-board.c **** }
 231:Core/Src/boards/NucleoL476/rtc-board.c **** 
 232:Core/Src/boards/NucleoL476/rtc-board.c **** void RtcSetTimeout( uint32_t timeout )
 233:Core/Src/boards/NucleoL476/rtc-board.c **** {
 234:Core/Src/boards/NucleoL476/rtc-board.c ****     RtcStartWakeUpAlarm( RtcConvertMsToTick( timeout ) );
 235:Core/Src/boards/NucleoL476/rtc-board.c **** }
 236:Core/Src/boards/NucleoL476/rtc-board.c **** 
 237:Core/Src/boards/NucleoL476/rtc-board.c **** TimerTime_t RtcGetAdjustedTimeoutValue( uint32_t timeout )
 238:Core/Src/boards/NucleoL476/rtc-board.c **** {
 239:Core/Src/boards/NucleoL476/rtc-board.c ****     if( timeout > McuWakeUpTime )
 240:Core/Src/boards/NucleoL476/rtc-board.c ****     {   // we have waken up from a GPIO and we have lost "McuWakeUpTime" that we need to compensate
 241:Core/Src/boards/NucleoL476/rtc-board.c ****         if( NonScheduledWakeUp == true )
 242:Core/Src/boards/NucleoL476/rtc-board.c ****         {
 243:Core/Src/boards/NucleoL476/rtc-board.c ****             NonScheduledWakeUp = false;
 244:Core/Src/boards/NucleoL476/rtc-board.c ****             timeout -= McuWakeUpTime;
 245:Core/Src/boards/NucleoL476/rtc-board.c ****         }
 246:Core/Src/boards/NucleoL476/rtc-board.c ****     }
 247:Core/Src/boards/NucleoL476/rtc-board.c **** 
 248:Core/Src/boards/NucleoL476/rtc-board.c ****     if( timeout > McuWakeUpTime )
 249:Core/Src/boards/NucleoL476/rtc-board.c ****     {   // we don't go in Low Power mode for delay below 50ms (needed for LEDs)
 250:Core/Src/boards/NucleoL476/rtc-board.c ****         if( timeout < 50 ) // 50 ms
 251:Core/Src/boards/NucleoL476/rtc-board.c ****         {
 252:Core/Src/boards/NucleoL476/rtc-board.c ****             RtcTimerEventAllowsLowPower = false;
 253:Core/Src/boards/NucleoL476/rtc-board.c ****         }
 254:Core/Src/boards/NucleoL476/rtc-board.c ****         else
 255:Core/Src/boards/NucleoL476/rtc-board.c ****         {
 256:Core/Src/boards/NucleoL476/rtc-board.c ****             RtcTimerEventAllowsLowPower = true;
 257:Core/Src/boards/NucleoL476/rtc-board.c ****             timeout -= McuWakeUpTime;
 258:Core/Src/boards/NucleoL476/rtc-board.c ****         }
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccPg5CgU.s 			page 6


 259:Core/Src/boards/NucleoL476/rtc-board.c ****     }
 260:Core/Src/boards/NucleoL476/rtc-board.c ****     return  timeout;
 261:Core/Src/boards/NucleoL476/rtc-board.c **** }
 262:Core/Src/boards/NucleoL476/rtc-board.c **** 
 263:Core/Src/boards/NucleoL476/rtc-board.c **** TimerTime_t RtcGetTimerValue( void )
 264:Core/Src/boards/NucleoL476/rtc-board.c **** {
 265:Core/Src/boards/NucleoL476/rtc-board.c ****     TimerTime_t retVal = 0;
 266:Core/Src/boards/NucleoL476/rtc-board.c ****     retVal = RtcConvertCalendarTickToTimerTime( NULL );
 267:Core/Src/boards/NucleoL476/rtc-board.c ****     RtcConvertTickToMs( retVal );
 268:Core/Src/boards/NucleoL476/rtc-board.c **** 
 269:Core/Src/boards/NucleoL476/rtc-board.c ****     return( RtcConvertTickToMs( retVal ) );
 270:Core/Src/boards/NucleoL476/rtc-board.c **** }
 271:Core/Src/boards/NucleoL476/rtc-board.c **** 
 272:Core/Src/boards/NucleoL476/rtc-board.c **** TimerTime_t RtcGetElapsedAlarmTime( void )
 273:Core/Src/boards/NucleoL476/rtc-board.c **** {
 274:Core/Src/boards/NucleoL476/rtc-board.c ****     TimerTime_t retVal = 0;
 275:Core/Src/boards/NucleoL476/rtc-board.c ****     TimerTime_t currentTime = 0;
 276:Core/Src/boards/NucleoL476/rtc-board.c ****     TimerTime_t contextTime = 0;
 277:Core/Src/boards/NucleoL476/rtc-board.c **** 
 278:Core/Src/boards/NucleoL476/rtc-board.c ****     currentTime = RtcConvertCalendarTickToTimerTime( NULL );
 279:Core/Src/boards/NucleoL476/rtc-board.c ****     contextTime = RtcConvertCalendarTickToTimerTime( &RtcCalendarContext );
 280:Core/Src/boards/NucleoL476/rtc-board.c **** 
 281:Core/Src/boards/NucleoL476/rtc-board.c ****     if( currentTime < contextTime )
 282:Core/Src/boards/NucleoL476/rtc-board.c ****     {
 283:Core/Src/boards/NucleoL476/rtc-board.c ****         retVal = ( currentTime + ( 0xFFFFFFFF - contextTime ) );
 284:Core/Src/boards/NucleoL476/rtc-board.c ****     }
 285:Core/Src/boards/NucleoL476/rtc-board.c ****     else
 286:Core/Src/boards/NucleoL476/rtc-board.c ****     {
 287:Core/Src/boards/NucleoL476/rtc-board.c ****         retVal = ( currentTime - contextTime );
 288:Core/Src/boards/NucleoL476/rtc-board.c ****     }
 289:Core/Src/boards/NucleoL476/rtc-board.c ****     return( RtcConvertTickToMs( retVal ) );
 290:Core/Src/boards/NucleoL476/rtc-board.c **** }
 291:Core/Src/boards/NucleoL476/rtc-board.c **** 
 292:Core/Src/boards/NucleoL476/rtc-board.c **** TimerTime_t RtcComputeFutureEventTime( TimerTime_t futureEventInTime )
 293:Core/Src/boards/NucleoL476/rtc-board.c **** {
 294:Core/Src/boards/NucleoL476/rtc-board.c ****     return( RtcGetTimerValue( ) + futureEventInTime );
 295:Core/Src/boards/NucleoL476/rtc-board.c **** }
 296:Core/Src/boards/NucleoL476/rtc-board.c **** 
 297:Core/Src/boards/NucleoL476/rtc-board.c **** TimerTime_t RtcComputeElapsedTime( TimerTime_t eventInTime )
 298:Core/Src/boards/NucleoL476/rtc-board.c **** {
 299:Core/Src/boards/NucleoL476/rtc-board.c ****     TimerTime_t elapsedTime = 0;
 300:Core/Src/boards/NucleoL476/rtc-board.c **** 
 301:Core/Src/boards/NucleoL476/rtc-board.c ****     // Needed at boot, cannot compute with 0 or elapsed time will be equal to current time
 302:Core/Src/boards/NucleoL476/rtc-board.c ****     if( eventInTime == 0 )
 303:Core/Src/boards/NucleoL476/rtc-board.c ****     {
 304:Core/Src/boards/NucleoL476/rtc-board.c ****         return 0;
 305:Core/Src/boards/NucleoL476/rtc-board.c ****     }
 306:Core/Src/boards/NucleoL476/rtc-board.c **** 
 307:Core/Src/boards/NucleoL476/rtc-board.c ****     elapsedTime = RtcConvertCalendarTickToTimerTime( NULL );
 308:Core/Src/boards/NucleoL476/rtc-board.c **** 
 309:Core/Src/boards/NucleoL476/rtc-board.c ****     elapsedTime = RtcConvertTickToMs( elapsedTime );
 310:Core/Src/boards/NucleoL476/rtc-board.c **** 
 311:Core/Src/boards/NucleoL476/rtc-board.c ****     if( elapsedTime < eventInTime )
 312:Core/Src/boards/NucleoL476/rtc-board.c ****     { // roll over of the counter
 313:Core/Src/boards/NucleoL476/rtc-board.c ****         return( elapsedTime + ( 0xFFFFFFFF - eventInTime ) );
 314:Core/Src/boards/NucleoL476/rtc-board.c ****     }
 315:Core/Src/boards/NucleoL476/rtc-board.c ****     else
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccPg5CgU.s 			page 7


 316:Core/Src/boards/NucleoL476/rtc-board.c ****     {
 317:Core/Src/boards/NucleoL476/rtc-board.c ****         return( elapsedTime - eventInTime );
 318:Core/Src/boards/NucleoL476/rtc-board.c ****     }
 319:Core/Src/boards/NucleoL476/rtc-board.c **** }
 320:Core/Src/boards/NucleoL476/rtc-board.c **** 
 321:Core/Src/boards/NucleoL476/rtc-board.c **** void BlockLowPowerDuringTask ( bool status )
 322:Core/Src/boards/NucleoL476/rtc-board.c **** {
 323:Core/Src/boards/NucleoL476/rtc-board.c ****     if( status == true )
 324:Core/Src/boards/NucleoL476/rtc-board.c ****     {
 325:Core/Src/boards/NucleoL476/rtc-board.c ****         RtcRecoverMcuStatus( );
 326:Core/Src/boards/NucleoL476/rtc-board.c ****     }
 327:Core/Src/boards/NucleoL476/rtc-board.c ****     LowPowerDisableDuringTask = status;
 328:Core/Src/boards/NucleoL476/rtc-board.c **** }
 329:Core/Src/boards/NucleoL476/rtc-board.c **** 
 330:Core/Src/boards/NucleoL476/rtc-board.c **** void RtcEnterLowPowerStopMode( void )
 331:Core/Src/boards/NucleoL476/rtc-board.c **** {
 332:Core/Src/boards/NucleoL476/rtc-board.c ****     if( ( LowPowerDisableDuringTask == false ) && ( RtcTimerEventAllowsLowPower == true ) )
 333:Core/Src/boards/NucleoL476/rtc-board.c ****     {
 334:Core/Src/boards/NucleoL476/rtc-board.c ****         BoardDeInitMcu( );
 335:Core/Src/boards/NucleoL476/rtc-board.c **** 
 336:Core/Src/boards/NucleoL476/rtc-board.c ****         // Disable the Power Voltage Detector
 337:Core/Src/boards/NucleoL476/rtc-board.c ****         HAL_PWR_DisablePVD( );
 338:Core/Src/boards/NucleoL476/rtc-board.c **** 
 339:Core/Src/boards/NucleoL476/rtc-board.c ****         // Enable Ultra low power mode
 340:Core/Src/boards/NucleoL476/rtc-board.c ****         HAL_PWREx_EnterSTOP2Mode( PWR_STOPENTRY_WFI );
 341:Core/Src/boards/NucleoL476/rtc-board.c **** 
 342:Core/Src/boards/NucleoL476/rtc-board.c ****         // Enter Stop Mode
 343:Core/Src/boards/NucleoL476/rtc-board.c ****         HAL_PWR_EnterSTOPMode( PWR_LOWPOWERREGULATOR_ON, PWR_STOPENTRY_WFI );
 344:Core/Src/boards/NucleoL476/rtc-board.c ****     }
 345:Core/Src/boards/NucleoL476/rtc-board.c **** }
 346:Core/Src/boards/NucleoL476/rtc-board.c **** 
 347:Core/Src/boards/NucleoL476/rtc-board.c **** void RtcRecoverMcuStatus( void )
 348:Core/Src/boards/NucleoL476/rtc-board.c **** {
 349:Core/Src/boards/NucleoL476/rtc-board.c ****     // PWR_FLAG_WU indicates the Alarm has waken-up the MCU
 350:Core/Src/boards/NucleoL476/rtc-board.c ****     if( __HAL_PWR_GET_FLAG( PWR_FLAG_WU ) != RESET )
 351:Core/Src/boards/NucleoL476/rtc-board.c ****     {
 352:Core/Src/boards/NucleoL476/rtc-board.c ****         __HAL_PWR_CLEAR_FLAG( PWR_FLAG_WU );
 353:Core/Src/boards/NucleoL476/rtc-board.c ****     }
 354:Core/Src/boards/NucleoL476/rtc-board.c ****     else
 355:Core/Src/boards/NucleoL476/rtc-board.c ****     {
 356:Core/Src/boards/NucleoL476/rtc-board.c ****         NonScheduledWakeUp = true;
 357:Core/Src/boards/NucleoL476/rtc-board.c ****     }
 358:Core/Src/boards/NucleoL476/rtc-board.c ****     // check the clk source and set to full speed if we are coming from sleep mode
 359:Core/Src/boards/NucleoL476/rtc-board.c ****     if( ( __HAL_RCC_GET_SYSCLK_SOURCE( ) == RCC_SYSCLKSOURCE_STATUS_HSI ) ||
 360:Core/Src/boards/NucleoL476/rtc-board.c ****         ( __HAL_RCC_GET_SYSCLK_SOURCE( ) == RCC_SYSCLKSOURCE_STATUS_MSI ) )
 361:Core/Src/boards/NucleoL476/rtc-board.c ****     {
 362:Core/Src/boards/NucleoL476/rtc-board.c ****         BoardInitMcu( );
 363:Core/Src/boards/NucleoL476/rtc-board.c ****     }
 364:Core/Src/boards/NucleoL476/rtc-board.c **** }
 365:Core/Src/boards/NucleoL476/rtc-board.c **** 
 366:Core/Src/boards/NucleoL476/rtc-board.c **** static void RtcComputeWakeUpTime( void )
 367:Core/Src/boards/NucleoL476/rtc-board.c **** {
 368:Core/Src/boards/NucleoL476/rtc-board.c ****     uint32_t start = 0;
 369:Core/Src/boards/NucleoL476/rtc-board.c ****     uint32_t stop = 0;
 370:Core/Src/boards/NucleoL476/rtc-board.c ****     RTC_AlarmTypeDef  alarmRtc;
 371:Core/Src/boards/NucleoL476/rtc-board.c ****     RtcCalendar_t now;
 372:Core/Src/boards/NucleoL476/rtc-board.c **** 
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccPg5CgU.s 			page 8


 373:Core/Src/boards/NucleoL476/rtc-board.c ****     if( WakeUpTimeInitialized == false )
 374:Core/Src/boards/NucleoL476/rtc-board.c ****     {
 375:Core/Src/boards/NucleoL476/rtc-board.c ****         now = RtcGetCalendar( );
 376:Core/Src/boards/NucleoL476/rtc-board.c ****         HAL_RTC_GetAlarm( &RtcHandle, &alarmRtc, RTC_ALARM_A, RTC_FORMAT_BIN );
 377:Core/Src/boards/NucleoL476/rtc-board.c **** 
 378:Core/Src/boards/NucleoL476/rtc-board.c ****         start = PREDIV_S - alarmRtc.AlarmTime.SubSeconds;
 379:Core/Src/boards/NucleoL476/rtc-board.c ****         stop = PREDIV_S - now.CalendarTime.SubSeconds;
 380:Core/Src/boards/NucleoL476/rtc-board.c **** 
 381:Core/Src/boards/NucleoL476/rtc-board.c ****         McuWakeUpTime = RtcConvertTickToMs( stop - start );
 382:Core/Src/boards/NucleoL476/rtc-board.c **** 
 383:Core/Src/boards/NucleoL476/rtc-board.c ****         WakeUpTimeInitialized = true;
 384:Core/Src/boards/NucleoL476/rtc-board.c ****     }
 385:Core/Src/boards/NucleoL476/rtc-board.c **** }
 386:Core/Src/boards/NucleoL476/rtc-board.c **** 
 387:Core/Src/boards/NucleoL476/rtc-board.c **** static void RtcStartWakeUpAlarm( uint32_t timeoutValue )
 388:Core/Src/boards/NucleoL476/rtc-board.c **** {
 389:Core/Src/boards/NucleoL476/rtc-board.c ****     RtcCalendar_t now;
 390:Core/Src/boards/NucleoL476/rtc-board.c ****     RtcCalendar_t alarmTimer;
 391:Core/Src/boards/NucleoL476/rtc-board.c ****     RTC_AlarmTypeDef alarmStructure;
 392:Core/Src/boards/NucleoL476/rtc-board.c **** 
 393:Core/Src/boards/NucleoL476/rtc-board.c ****     HAL_RTC_DeactivateAlarm( &RtcHandle, RTC_ALARM_A );
 394:Core/Src/boards/NucleoL476/rtc-board.c **** 
 395:Core/Src/boards/NucleoL476/rtc-board.c ****     if( timeoutValue <= 3 )
 396:Core/Src/boards/NucleoL476/rtc-board.c ****     {
 397:Core/Src/boards/NucleoL476/rtc-board.c ****         timeoutValue = 3;
 398:Core/Src/boards/NucleoL476/rtc-board.c ****     }
 399:Core/Src/boards/NucleoL476/rtc-board.c **** 
 400:Core/Src/boards/NucleoL476/rtc-board.c ****     // Load the RTC calendar
 401:Core/Src/boards/NucleoL476/rtc-board.c ****     now = RtcGetCalendar( );
 402:Core/Src/boards/NucleoL476/rtc-board.c **** 
 403:Core/Src/boards/NucleoL476/rtc-board.c ****     // Save the calendar into RtcCalendarContext to be able to calculate the elapsed time
 404:Core/Src/boards/NucleoL476/rtc-board.c ****     RtcCalendarContext = now;
 405:Core/Src/boards/NucleoL476/rtc-board.c **** 
 406:Core/Src/boards/NucleoL476/rtc-board.c ****     // timeoutValue is in ms
 407:Core/Src/boards/NucleoL476/rtc-board.c ****     alarmTimer = RtcComputeTimerTimeToAlarmTick( timeoutValue, now );
 408:Core/Src/boards/NucleoL476/rtc-board.c **** 
 409:Core/Src/boards/NucleoL476/rtc-board.c ****     alarmStructure.Alarm = RTC_ALARM_A;
 410:Core/Src/boards/NucleoL476/rtc-board.c ****     alarmStructure.AlarmDateWeekDaySel = RTC_ALARMDATEWEEKDAYSEL_DATE;
 411:Core/Src/boards/NucleoL476/rtc-board.c ****     alarmStructure.AlarmMask = RTC_ALARMMASK_NONE;
 412:Core/Src/boards/NucleoL476/rtc-board.c ****     alarmStructure.AlarmSubSecondMask = RTC_ALARMSUBSECONDMASK_NONE;
 413:Core/Src/boards/NucleoL476/rtc-board.c ****     alarmStructure.AlarmTime.TimeFormat = RTC_HOURFORMAT12_AM;
 414:Core/Src/boards/NucleoL476/rtc-board.c **** 
 415:Core/Src/boards/NucleoL476/rtc-board.c ****     alarmStructure.AlarmTime.SubSeconds = alarmTimer.CalendarTime.SubSeconds;
 416:Core/Src/boards/NucleoL476/rtc-board.c ****     alarmStructure.AlarmTime.Seconds = alarmTimer.CalendarTime.Seconds;
 417:Core/Src/boards/NucleoL476/rtc-board.c ****     alarmStructure.AlarmTime.Minutes = alarmTimer.CalendarTime.Minutes;
 418:Core/Src/boards/NucleoL476/rtc-board.c ****     alarmStructure.AlarmTime.Hours = alarmTimer.CalendarTime.Hours;
 419:Core/Src/boards/NucleoL476/rtc-board.c ****     alarmStructure.AlarmDateWeekDay = alarmTimer.CalendarDate.Date;
 420:Core/Src/boards/NucleoL476/rtc-board.c **** 
 421:Core/Src/boards/NucleoL476/rtc-board.c ****     if( HAL_RTC_SetAlarm_IT( &RtcHandle, &alarmStructure, RTC_FORMAT_BIN ) != HAL_OK )
 422:Core/Src/boards/NucleoL476/rtc-board.c ****     {
 423:Core/Src/boards/NucleoL476/rtc-board.c ****         assert_param( FAIL );
 424:Core/Src/boards/NucleoL476/rtc-board.c ****     }
 425:Core/Src/boards/NucleoL476/rtc-board.c **** }
 426:Core/Src/boards/NucleoL476/rtc-board.c **** 
 427:Core/Src/boards/NucleoL476/rtc-board.c **** static RtcCalendar_t RtcComputeTimerTimeToAlarmTick( TimerTime_t timeCounter, RtcCalendar_t now )
 428:Core/Src/boards/NucleoL476/rtc-board.c **** {
  29              		.loc 1 428 1 view -0
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccPg5CgU.s 			page 9


  30              		.cfi_startproc
  31              		@ args = 24, pretend = 8, frame = 0
  32              		@ frame_needed = 0, uses_anonymous_args = 0
  33              		.loc 1 428 1 is_stmt 0 view .LVU1
  34 0000 82B0     		sub	sp, sp, #8
  35              	.LCFI0:
  36              		.cfi_def_cfa_offset 8
  37 0002 F0B5     		push	{r4, r5, r6, r7, lr}
  38              	.LCFI1:
  39              		.cfi_def_cfa_offset 28
  40              		.cfi_offset 4, -28
  41              		.cfi_offset 5, -24
  42              		.cfi_offset 6, -20
  43              		.cfi_offset 7, -16
  44              		.cfi_offset 14, -12
  45 0004 8646     		mov	lr, r0
  46 0006 8C46     		mov	ip, r1
  47 0008 05A9     		add	r1, sp, #20
  48 000a 81E80C00 		stm	r1, {r2, r3}
 429:Core/Src/boards/NucleoL476/rtc-board.c ****     RtcCalendar_t calendar = now;
  49              		.loc 1 429 5 is_stmt 1 view .LVU2
  50              		.loc 1 429 19 is_stmt 0 view .LVU3
  51 000e 0446     		mov	r4, r0
  52 0010 0D46     		mov	r5, r1
  53 0012 0FCD     		ldmia	r5!, {r0, r1, r2, r3}
  54              	.LVL1:
  55              		.loc 1 429 19 view .LVU4
  56 0014 0FC4     		stmia	r4!, {r0, r1, r2, r3}
  57              	.LVL2:
  58              		.loc 1 429 19 view .LVU5
  59 0016 95E80300 		ldm	r5, {r0, r1}
  60 001a 84E80300 		stm	r4, {r0, r1}
 430:Core/Src/boards/NucleoL476/rtc-board.c **** 
 431:Core/Src/boards/NucleoL476/rtc-board.c ****     TimerTime_t timeoutValue = 0;
  61              		.loc 1 431 5 is_stmt 1 view .LVU6
  62              	.LVL3:
 432:Core/Src/boards/NucleoL476/rtc-board.c **** 
 433:Core/Src/boards/NucleoL476/rtc-board.c ****     uint16_t milliseconds = 0;
  63              		.loc 1 433 5 view .LVU7
 434:Core/Src/boards/NucleoL476/rtc-board.c ****     uint16_t seconds = now.CalendarTime.Seconds;
  64              		.loc 1 434 5 view .LVU8
  65              		.loc 1 434 14 is_stmt 0 view .LVU9
  66 001e 9DF81A60 		ldrb	r6, [sp, #26]	@ zero_extendqisi2
  67              	.LVL4:
 435:Core/Src/boards/NucleoL476/rtc-board.c ****     uint16_t minutes = now.CalendarTime.Minutes;
  68              		.loc 1 435 5 is_stmt 1 view .LVU10
  69              		.loc 1 435 14 is_stmt 0 view .LVU11
  70 0022 9DF81900 		ldrb	r0, [sp, #25]	@ zero_extendqisi2
  71              	.LVL5:
 436:Core/Src/boards/NucleoL476/rtc-board.c ****     uint16_t hours = now.CalendarTime.Hours;
  72              		.loc 1 436 5 is_stmt 1 view .LVU12
  73              		.loc 1 436 14 is_stmt 0 view .LVU13
  74 0026 9DF81830 		ldrb	r3, [sp, #24]	@ zero_extendqisi2
  75              	.LVL6:
 437:Core/Src/boards/NucleoL476/rtc-board.c ****     uint16_t days = now.CalendarDate.Date;
  76              		.loc 1 437 5 is_stmt 1 view .LVU14
  77              		.loc 1 437 14 is_stmt 0 view .LVU15
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccPg5CgU.s 			page 10


  78 002a 9DF81650 		ldrb	r5, [sp, #22]	@ zero_extendqisi2
  79              	.LVL7:
 438:Core/Src/boards/NucleoL476/rtc-board.c **** 
 439:Core/Src/boards/NucleoL476/rtc-board.c ****     timeoutValue = timeCounter;
  80              		.loc 1 439 5 is_stmt 1 view .LVU16
 440:Core/Src/boards/NucleoL476/rtc-board.c **** 
 441:Core/Src/boards/NucleoL476/rtc-board.c ****     milliseconds = PREDIV_S - now.CalendarTime.SubSeconds;
  81              		.loc 1 441 5 view .LVU17
  82              		.loc 1 441 29 is_stmt 0 view .LVU18
  83 002e BDF81C20 		ldrh	r2, [sp, #28]
  84              		.loc 1 441 18 view .LVU19
  85 0032 C2F5FF62 		rsb	r2, r2, #2040
  86 0036 0732     		adds	r2, r2, #7
  87              	.LVL8:
 442:Core/Src/boards/NucleoL476/rtc-board.c ****     milliseconds += ( timeoutValue & PREDIV_S );
  88              		.loc 1 442 5 is_stmt 1 view .LVU20
  89              		.loc 1 442 36 is_stmt 0 view .LVU21
  90 0038 CCF30A01 		ubfx	r1, ip, #0, #11
  91              		.loc 1 442 18 view .LVU22
  92 003c 11FA82F2 		uxtah	r2, r1, r2
  93              	.LVL9:
  94              		.loc 1 442 18 view .LVU23
  95 0040 92B2     		uxth	r2, r2
  96              	.LVL10:
 443:Core/Src/boards/NucleoL476/rtc-board.c **** 
 444:Core/Src/boards/NucleoL476/rtc-board.c ****     /* convert timeout  to seconds */
 445:Core/Src/boards/NucleoL476/rtc-board.c ****     timeoutValue >>= N_PREDIV_S;  /* convert timeout  in seconds */
  97              		.loc 1 445 5 is_stmt 1 view .LVU24
  98              		.loc 1 445 18 is_stmt 0 view .LVU25
  99 0042 4FEADC21 		lsr	r1, ip, #11
 100              	.LVL11:
 446:Core/Src/boards/NucleoL476/rtc-board.c **** 
 447:Core/Src/boards/NucleoL476/rtc-board.c ****     // Convert milliseconds to RTC format and add to now
 448:Core/Src/boards/NucleoL476/rtc-board.c ****     while( timeoutValue >= SecondsInDay )
 101              		.loc 1 448 5 is_stmt 1 view .LVU26
 102              		.loc 1 448 10 is_stmt 0 view .LVU27
 103 0046 05E0     		b	.L2
 104              	.L3:
 449:Core/Src/boards/NucleoL476/rtc-board.c ****     {
 450:Core/Src/boards/NucleoL476/rtc-board.c ****         timeoutValue -= SecondsInDay;
 105              		.loc 1 450 9 is_stmt 1 view .LVU28
 106              		.loc 1 450 22 is_stmt 0 view .LVU29
 107 0048 A1F5A831 		sub	r1, r1, #86016
 108              	.LVL12:
 109              		.loc 1 450 22 view .LVU30
 110 004c A1F5C071 		sub	r1, r1, #384
 111              	.LVL13:
 451:Core/Src/boards/NucleoL476/rtc-board.c ****         days++;
 112              		.loc 1 451 9 is_stmt 1 view .LVU31
 113              		.loc 1 451 13 is_stmt 0 view .LVU32
 114 0050 6C1C     		adds	r4, r5, #1
 115 0052 A5B2     		uxth	r5, r4
 116              	.LVL14:
 117              	.L2:
 448:Core/Src/boards/NucleoL476/rtc-board.c ****     {
 118              		.loc 1 448 10 is_stmt 1 view .LVU33
 119 0054 354C     		ldr	r4, .L20
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccPg5CgU.s 			page 11


 120 0056 A142     		cmp	r1, r4
 121 0058 F6D8     		bhi	.L3
 448:Core/Src/boards/NucleoL476/rtc-board.c ****     {
 122              		.loc 1 448 10 is_stmt 0 view .LVU34
 123 005a 03E0     		b	.L4
 124              	.L5:
 452:Core/Src/boards/NucleoL476/rtc-board.c ****     }
 453:Core/Src/boards/NucleoL476/rtc-board.c **** 
 454:Core/Src/boards/NucleoL476/rtc-board.c ****     // Calculate hours
 455:Core/Src/boards/NucleoL476/rtc-board.c ****     while( timeoutValue >= SecondsInHour )
 456:Core/Src/boards/NucleoL476/rtc-board.c ****     {
 457:Core/Src/boards/NucleoL476/rtc-board.c ****         timeoutValue -= SecondsInHour;
 125              		.loc 1 457 9 is_stmt 1 view .LVU35
 126              		.loc 1 457 22 is_stmt 0 view .LVU36
 127 005c A1F56161 		sub	r1, r1, #3600
 128              	.LVL15:
 458:Core/Src/boards/NucleoL476/rtc-board.c ****         hours++;
 129              		.loc 1 458 9 is_stmt 1 view .LVU37
 130              		.loc 1 458 14 is_stmt 0 view .LVU38
 131 0060 0133     		adds	r3, r3, #1
 132              	.LVL16:
 133              		.loc 1 458 14 view .LVU39
 134 0062 9BB2     		uxth	r3, r3
 135              	.LVL17:
 136              	.L4:
 455:Core/Src/boards/NucleoL476/rtc-board.c ****     {
 137              		.loc 1 455 10 is_stmt 1 view .LVU40
 138 0064 B1F5616F 		cmp	r1, #3600
 139 0068 F8D2     		bcs	.L5
 455:Core/Src/boards/NucleoL476/rtc-board.c ****     {
 140              		.loc 1 455 10 is_stmt 0 view .LVU41
 141 006a 02E0     		b	.L6
 142              	.L7:
 459:Core/Src/boards/NucleoL476/rtc-board.c ****     }
 460:Core/Src/boards/NucleoL476/rtc-board.c **** 
 461:Core/Src/boards/NucleoL476/rtc-board.c ****     // Calculate minutes
 462:Core/Src/boards/NucleoL476/rtc-board.c ****     while( timeoutValue >= SecondsInMinute )
 463:Core/Src/boards/NucleoL476/rtc-board.c ****     {
 464:Core/Src/boards/NucleoL476/rtc-board.c ****         timeoutValue -= SecondsInMinute;
 143              		.loc 1 464 9 is_stmt 1 view .LVU42
 144              		.loc 1 464 22 is_stmt 0 view .LVU43
 145 006c 3C39     		subs	r1, r1, #60
 146              	.LVL18:
 465:Core/Src/boards/NucleoL476/rtc-board.c ****         minutes++;
 147              		.loc 1 465 9 is_stmt 1 view .LVU44
 148              		.loc 1 465 16 is_stmt 0 view .LVU45
 149 006e 0130     		adds	r0, r0, #1
 150              	.LVL19:
 151              		.loc 1 465 16 view .LVU46
 152 0070 80B2     		uxth	r0, r0
 153              	.LVL20:
 154              	.L6:
 462:Core/Src/boards/NucleoL476/rtc-board.c ****     {
 155              		.loc 1 462 10 is_stmt 1 view .LVU47
 156 0072 3B29     		cmp	r1, #59
 157 0074 FAD8     		bhi	.L7
 466:Core/Src/boards/NucleoL476/rtc-board.c ****     }
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccPg5CgU.s 			page 12


 467:Core/Src/boards/NucleoL476/rtc-board.c **** 
 468:Core/Src/boards/NucleoL476/rtc-board.c ****     // Calculate seconds
 469:Core/Src/boards/NucleoL476/rtc-board.c ****     seconds += timeoutValue;
 158              		.loc 1 469 5 view .LVU48
 159              		.loc 1 469 13 is_stmt 0 view .LVU49
 160 0076 3144     		add	r1, r1, r6
 161              	.LVL21:
 162              		.loc 1 469 13 view .LVU50
 163 0078 89B2     		uxth	r1, r1
 164              	.LVL22:
 470:Core/Src/boards/NucleoL476/rtc-board.c **** 
 471:Core/Src/boards/NucleoL476/rtc-board.c ****     // Correct for modulo
 472:Core/Src/boards/NucleoL476/rtc-board.c ****     while( milliseconds >= ( PREDIV_S + 1 ) )
 165              		.loc 1 472 5 is_stmt 1 view .LVU51
 166              		.loc 1 472 10 is_stmt 0 view .LVU52
 167 007a 04E0     		b	.L8
 168              	.L9:
 473:Core/Src/boards/NucleoL476/rtc-board.c ****     {
 474:Core/Src/boards/NucleoL476/rtc-board.c ****         milliseconds -= ( PREDIV_S + 1 );
 169              		.loc 1 474 9 is_stmt 1 view .LVU53
 170              		.loc 1 474 22 is_stmt 0 view .LVU54
 171 007c A2F50062 		sub	r2, r2, #2048
 172              	.LVL23:
 173              		.loc 1 474 22 view .LVU55
 174 0080 92B2     		uxth	r2, r2
 175              	.LVL24:
 475:Core/Src/boards/NucleoL476/rtc-board.c ****         seconds++;
 176              		.loc 1 475 9 is_stmt 1 view .LVU56
 177              		.loc 1 475 16 is_stmt 0 view .LVU57
 178 0082 0131     		adds	r1, r1, #1
 179              	.LVL25:
 180              		.loc 1 475 16 view .LVU58
 181 0084 89B2     		uxth	r1, r1
 182              	.LVL26:
 183              	.L8:
 472:Core/Src/boards/NucleoL476/rtc-board.c ****     {
 184              		.loc 1 472 10 is_stmt 1 view .LVU59
 185 0086 B2F5006F 		cmp	r2, #2048
 186 008a F7D2     		bcs	.L9
 472:Core/Src/boards/NucleoL476/rtc-board.c ****     {
 187              		.loc 1 472 10 is_stmt 0 view .LVU60
 188 008c 03E0     		b	.L10
 189              	.L11:
 476:Core/Src/boards/NucleoL476/rtc-board.c ****     }
 477:Core/Src/boards/NucleoL476/rtc-board.c **** 
 478:Core/Src/boards/NucleoL476/rtc-board.c ****     while( seconds >= SecondsInMinute )
 479:Core/Src/boards/NucleoL476/rtc-board.c ****     {
 480:Core/Src/boards/NucleoL476/rtc-board.c ****         seconds -= SecondsInMinute;
 190              		.loc 1 480 9 is_stmt 1 view .LVU61
 191              		.loc 1 480 17 is_stmt 0 view .LVU62
 192 008e 3C39     		subs	r1, r1, #60
 193              	.LVL27:
 194              		.loc 1 480 17 view .LVU63
 195 0090 89B2     		uxth	r1, r1
 196              	.LVL28:
 481:Core/Src/boards/NucleoL476/rtc-board.c ****         minutes++;
 197              		.loc 1 481 9 is_stmt 1 view .LVU64
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccPg5CgU.s 			page 13


 198              		.loc 1 481 16 is_stmt 0 view .LVU65
 199 0092 0130     		adds	r0, r0, #1
 200              	.LVL29:
 201              		.loc 1 481 16 view .LVU66
 202 0094 80B2     		uxth	r0, r0
 203              	.LVL30:
 204              	.L10:
 478:Core/Src/boards/NucleoL476/rtc-board.c ****     {
 205              		.loc 1 478 10 is_stmt 1 view .LVU67
 206 0096 3B29     		cmp	r1, #59
 207 0098 F9D8     		bhi	.L11
 478:Core/Src/boards/NucleoL476/rtc-board.c ****     {
 208              		.loc 1 478 10 is_stmt 0 view .LVU68
 209 009a 03E0     		b	.L12
 210              	.L13:
 482:Core/Src/boards/NucleoL476/rtc-board.c ****     }
 483:Core/Src/boards/NucleoL476/rtc-board.c **** 
 484:Core/Src/boards/NucleoL476/rtc-board.c ****     while( minutes >= 60 )
 485:Core/Src/boards/NucleoL476/rtc-board.c ****     {
 486:Core/Src/boards/NucleoL476/rtc-board.c ****         minutes -= 60;
 211              		.loc 1 486 9 is_stmt 1 view .LVU69
 212              		.loc 1 486 17 is_stmt 0 view .LVU70
 213 009c 3C38     		subs	r0, r0, #60
 214              	.LVL31:
 215              		.loc 1 486 17 view .LVU71
 216 009e 80B2     		uxth	r0, r0
 217              	.LVL32:
 487:Core/Src/boards/NucleoL476/rtc-board.c ****         hours++;
 218              		.loc 1 487 9 is_stmt 1 view .LVU72
 219              		.loc 1 487 14 is_stmt 0 view .LVU73
 220 00a0 0133     		adds	r3, r3, #1
 221              	.LVL33:
 222              		.loc 1 487 14 view .LVU74
 223 00a2 9BB2     		uxth	r3, r3
 224              	.LVL34:
 225              	.L12:
 484:Core/Src/boards/NucleoL476/rtc-board.c ****     {
 226              		.loc 1 484 10 is_stmt 1 view .LVU75
 227 00a4 3B28     		cmp	r0, #59
 228 00a6 F9D8     		bhi	.L13
 484:Core/Src/boards/NucleoL476/rtc-board.c ****     {
 229              		.loc 1 484 10 is_stmt 0 view .LVU76
 230 00a8 03E0     		b	.L14
 231              	.L15:
 488:Core/Src/boards/NucleoL476/rtc-board.c ****     }
 489:Core/Src/boards/NucleoL476/rtc-board.c **** 
 490:Core/Src/boards/NucleoL476/rtc-board.c ****     while( hours >= HoursInDay )
 491:Core/Src/boards/NucleoL476/rtc-board.c ****     {
 492:Core/Src/boards/NucleoL476/rtc-board.c ****         hours -= HoursInDay;
 232              		.loc 1 492 9 is_stmt 1 view .LVU77
 233              		.loc 1 492 15 is_stmt 0 view .LVU78
 234 00aa 183B     		subs	r3, r3, #24
 235              	.LVL35:
 236              		.loc 1 492 15 view .LVU79
 237 00ac 9BB2     		uxth	r3, r3
 238              	.LVL36:
 493:Core/Src/boards/NucleoL476/rtc-board.c ****         days++;
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccPg5CgU.s 			page 14


 239              		.loc 1 493 9 is_stmt 1 view .LVU80
 240              		.loc 1 493 13 is_stmt 0 view .LVU81
 241 00ae 6C1C     		adds	r4, r5, #1
 242 00b0 A5B2     		uxth	r5, r4
 243              	.LVL37:
 244              	.L14:
 490:Core/Src/boards/NucleoL476/rtc-board.c ****     {
 245              		.loc 1 490 10 is_stmt 1 view .LVU82
 246 00b2 172B     		cmp	r3, #23
 247 00b4 F9D8     		bhi	.L15
 494:Core/Src/boards/NucleoL476/rtc-board.c ****     }
 495:Core/Src/boards/NucleoL476/rtc-board.c **** 
 496:Core/Src/boards/NucleoL476/rtc-board.c ****     if( ( now.CalendarDate.Year == 0 ) || ( now.CalendarDate.Year % 4 ) == 0 )
 248              		.loc 1 496 5 view .LVU83
 249              		.loc 1 496 27 is_stmt 0 view .LVU84
 250 00b6 9DF81740 		ldrb	r4, [sp, #23]	@ zero_extendqisi2
 251              		.loc 1 496 7 view .LVU85
 252 00ba 14B1     		cbz	r4, .L16
 253              		.loc 1 496 40 discriminator 1 view .LVU86
 254 00bc 14F0030F 		tst	r4, #3
 255 00c0 22D1     		bne	.L17
 256              	.L16:
 497:Core/Src/boards/NucleoL476/rtc-board.c ****     {
 498:Core/Src/boards/NucleoL476/rtc-board.c ****         if( days > DaysInMonthLeapYear[now.CalendarDate.Month - 1] )
 257              		.loc 1 498 9 is_stmt 1 view .LVU87
 258              		.loc 1 498 56 is_stmt 0 view .LVU88
 259 00c2 9DF81560 		ldrb	r6, [sp, #21]	@ zero_extendqisi2
 260              		.loc 1 498 63 view .LVU89
 261 00c6 741E     		subs	r4, r6, #1
 262              		.loc 1 498 39 view .LVU90
 263 00c8 194F     		ldr	r7, .L20+4
 264 00ca 3C5D     		ldrb	r4, [r7, r4]	@ zero_extendqisi2
 265 00cc 1FFA84FC 		uxth	ip, r4
 266              	.LVL38:
 267              		.loc 1 498 11 view .LVU91
 268 00d0 AC45     		cmp	ip, r5
 269 00d2 07D2     		bcs	.L18
 499:Core/Src/boards/NucleoL476/rtc-board.c ****         {
 500:Core/Src/boards/NucleoL476/rtc-board.c ****             days = days % DaysInMonthLeapYear[now.CalendarDate.Month - 1];
 270              		.loc 1 500 13 is_stmt 1 view .LVU92
 271              		.loc 1 500 25 is_stmt 0 view .LVU93
 272 00d4 95FBF4FC 		sdiv	ip, r5, r4
 273 00d8 04FB1C54 		mls	r4, r4, ip, r5
 274              		.loc 1 500 18 view .LVU94
 275 00dc A5B2     		uxth	r5, r4
 276              	.LVL39:
 501:Core/Src/boards/NucleoL476/rtc-board.c ****             calendar.CalendarDate.Month++;
 277              		.loc 1 501 13 is_stmt 1 view .LVU95
 278              		.loc 1 501 40 is_stmt 0 view .LVU96
 279 00de 0136     		adds	r6, r6, #1
 280 00e0 8EF80160 		strb	r6, [lr, #1]
 281              	.L18:
 502:Core/Src/boards/NucleoL476/rtc-board.c ****         }
 503:Core/Src/boards/NucleoL476/rtc-board.c ****     }
 504:Core/Src/boards/NucleoL476/rtc-board.c ****     else
 505:Core/Src/boards/NucleoL476/rtc-board.c ****     {
 506:Core/Src/boards/NucleoL476/rtc-board.c ****         if( days > DaysInMonth[now.CalendarDate.Month - 1] )
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccPg5CgU.s 			page 15


 507:Core/Src/boards/NucleoL476/rtc-board.c ****         {
 508:Core/Src/boards/NucleoL476/rtc-board.c ****             days = days % DaysInMonth[now.CalendarDate.Month - 1];
 509:Core/Src/boards/NucleoL476/rtc-board.c ****             calendar.CalendarDate.Month++;
 510:Core/Src/boards/NucleoL476/rtc-board.c ****         }
 511:Core/Src/boards/NucleoL476/rtc-board.c ****     }
 512:Core/Src/boards/NucleoL476/rtc-board.c **** 
 513:Core/Src/boards/NucleoL476/rtc-board.c ****     calendar.CalendarTime.SubSeconds = PREDIV_S - milliseconds;
 282              		.loc 1 513 5 is_stmt 1 view .LVU97
 283              		.loc 1 513 49 is_stmt 0 view .LVU98
 284 00e4 C2F5FF62 		rsb	r2, r2, #2040
 285              	.LVL40:
 286              		.loc 1 513 49 view .LVU99
 287 00e8 0732     		adds	r2, r2, #7
 288              		.loc 1 513 38 view .LVU100
 289 00ea CEF80820 		str	r2, [lr, #8]
 514:Core/Src/boards/NucleoL476/rtc-board.c ****     calendar.CalendarTime.Seconds = seconds;
 290              		.loc 1 514 5 is_stmt 1 view .LVU101
 291              		.loc 1 514 35 is_stmt 0 view .LVU102
 292 00ee 8EF80610 		strb	r1, [lr, #6]
 515:Core/Src/boards/NucleoL476/rtc-board.c ****     calendar.CalendarTime.Minutes = minutes;
 293              		.loc 1 515 5 is_stmt 1 view .LVU103
 294              		.loc 1 515 35 is_stmt 0 view .LVU104
 295 00f2 8EF80500 		strb	r0, [lr, #5]
 516:Core/Src/boards/NucleoL476/rtc-board.c ****     calendar.CalendarTime.Hours = hours;
 296              		.loc 1 516 5 is_stmt 1 view .LVU105
 297              		.loc 1 516 33 is_stmt 0 view .LVU106
 298 00f6 8EF80430 		strb	r3, [lr, #4]
 517:Core/Src/boards/NucleoL476/rtc-board.c ****     calendar.CalendarDate.Date = days;
 299              		.loc 1 517 5 is_stmt 1 view .LVU107
 300              		.loc 1 517 32 is_stmt 0 view .LVU108
 301 00fa 8EF80250 		strb	r5, [lr, #2]
 518:Core/Src/boards/NucleoL476/rtc-board.c **** 
 519:Core/Src/boards/NucleoL476/rtc-board.c ****     return calendar;
 302              		.loc 1 519 5 is_stmt 1 view .LVU109
 520:Core/Src/boards/NucleoL476/rtc-board.c **** }
 303              		.loc 1 520 1 is_stmt 0 view .LVU110
 304 00fe 7046     		mov	r0, lr
 305              	.LVL41:
 306              		.loc 1 520 1 view .LVU111
 307 0100 BDE8F040 		pop	{r4, r5, r6, r7, lr}
 308              	.LCFI2:
 309              		.cfi_remember_state
 310              		.cfi_restore 14
 311              		.cfi_restore 7
 312              		.cfi_restore 6
 313              		.cfi_restore 5
 314              		.cfi_restore 4
 315              		.cfi_def_cfa_offset 8
 316              	.LVL42:
 317              		.loc 1 520 1 view .LVU112
 318 0104 02B0     		add	sp, sp, #8
 319              	.LCFI3:
 320              		.cfi_def_cfa_offset 0
 321 0106 7047     		bx	lr
 322              	.LVL43:
 323              	.L17:
 324              	.LCFI4:
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccPg5CgU.s 			page 16


 325              		.cfi_restore_state
 506:Core/Src/boards/NucleoL476/rtc-board.c ****         {
 326              		.loc 1 506 9 is_stmt 1 view .LVU113
 506:Core/Src/boards/NucleoL476/rtc-board.c ****         {
 327              		.loc 1 506 48 is_stmt 0 view .LVU114
 328 0108 9DF81560 		ldrb	r6, [sp, #21]	@ zero_extendqisi2
 506:Core/Src/boards/NucleoL476/rtc-board.c ****         {
 329              		.loc 1 506 55 view .LVU115
 330 010c 741E     		subs	r4, r6, #1
 506:Core/Src/boards/NucleoL476/rtc-board.c ****         {
 331              		.loc 1 506 31 view .LVU116
 332 010e 094F     		ldr	r7, .L20+8
 333 0110 3C5D     		ldrb	r4, [r7, r4]	@ zero_extendqisi2
 334 0112 A7B2     		uxth	r7, r4
 506:Core/Src/boards/NucleoL476/rtc-board.c ****         {
 335              		.loc 1 506 11 view .LVU117
 336 0114 AF42     		cmp	r7, r5
 337 0116 E5D2     		bcs	.L18
 508:Core/Src/boards/NucleoL476/rtc-board.c ****             calendar.CalendarDate.Month++;
 338              		.loc 1 508 13 is_stmt 1 view .LVU118
 508:Core/Src/boards/NucleoL476/rtc-board.c ****             calendar.CalendarDate.Month++;
 339              		.loc 1 508 25 is_stmt 0 view .LVU119
 340 0118 95FBF4F7 		sdiv	r7, r5, r4
 341 011c 04FB1754 		mls	r4, r4, r7, r5
 508:Core/Src/boards/NucleoL476/rtc-board.c ****             calendar.CalendarDate.Month++;
 342              		.loc 1 508 18 view .LVU120
 343 0120 A5B2     		uxth	r5, r4
 344              	.LVL44:
 509:Core/Src/boards/NucleoL476/rtc-board.c ****         }
 345              		.loc 1 509 13 is_stmt 1 view .LVU121
 509:Core/Src/boards/NucleoL476/rtc-board.c ****         }
 346              		.loc 1 509 40 is_stmt 0 view .LVU122
 347 0122 0136     		adds	r6, r6, #1
 348 0124 8EF80160 		strb	r6, [lr, #1]
 349 0128 DCE7     		b	.L18
 350              	.L21:
 351 012a 00BF     		.align	2
 352              	.L20:
 353 012c 7F510100 		.word	86399
 354 0130 00000000 		.word	.LANCHOR0
 355 0134 00000000 		.word	.LANCHOR1
 356              		.cfi_endproc
 357              	.LFE147:
 359              		.global	__aeabi_ui2d
 360              		.global	__aeabi_dmul
 361              		.global	__aeabi_ddiv
 362              		.global	__aeabi_d2uiz
 363              		.section	.text.RtcConvertMsToTick,"ax",%progbits
 364              		.align	1
 365              		.syntax unified
 366              		.thumb
 367              		.thumb_func
 368              		.fpu fpv4-sp-d16
 370              	RtcConvertMsToTick:
 371              	.LVL45:
 372              	.LFB150:
 521:Core/Src/boards/NucleoL476/rtc-board.c **** 
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccPg5CgU.s 			page 17


 522:Core/Src/boards/NucleoL476/rtc-board.c **** //
 523:Core/Src/boards/NucleoL476/rtc-board.c **** // REMARK: Removed function static attribute in order to suppress
 524:Core/Src/boards/NucleoL476/rtc-board.c **** //         "#177-D function was declared but never referenced" warning.
 525:Core/Src/boards/NucleoL476/rtc-board.c **** // static RtcCalendar_t RtcConvertTimerTimeToCalendarTick( TimerTime_t timeCounter )
 526:Core/Src/boards/NucleoL476/rtc-board.c **** //
 527:Core/Src/boards/NucleoL476/rtc-board.c **** RtcCalendar_t RtcConvertTimerTimeToCalendarTick( TimerTime_t timeCounter )
 528:Core/Src/boards/NucleoL476/rtc-board.c **** {
 529:Core/Src/boards/NucleoL476/rtc-board.c ****     RtcCalendar_t calendar = { { 0 }, { 0 } };
 530:Core/Src/boards/NucleoL476/rtc-board.c **** 
 531:Core/Src/boards/NucleoL476/rtc-board.c ****     TimerTime_t timeoutValue = 0;
 532:Core/Src/boards/NucleoL476/rtc-board.c **** 
 533:Core/Src/boards/NucleoL476/rtc-board.c ****     uint16_t milliseconds = 0;
 534:Core/Src/boards/NucleoL476/rtc-board.c ****     uint16_t seconds = 0;
 535:Core/Src/boards/NucleoL476/rtc-board.c ****     uint16_t minutes = 0;
 536:Core/Src/boards/NucleoL476/rtc-board.c ****     uint16_t hours = 0;
 537:Core/Src/boards/NucleoL476/rtc-board.c ****     uint16_t days = 0;
 538:Core/Src/boards/NucleoL476/rtc-board.c ****     uint8_t months = 1; // Start at 1, month 0 does not exist
 539:Core/Src/boards/NucleoL476/rtc-board.c ****     uint16_t years = 0;
 540:Core/Src/boards/NucleoL476/rtc-board.c **** 
 541:Core/Src/boards/NucleoL476/rtc-board.c ****     timeoutValue = timeCounter;
 542:Core/Src/boards/NucleoL476/rtc-board.c **** 
 543:Core/Src/boards/NucleoL476/rtc-board.c ****     milliseconds += ( timeoutValue & PREDIV_S);
 544:Core/Src/boards/NucleoL476/rtc-board.c **** 
 545:Core/Src/boards/NucleoL476/rtc-board.c ****     /* convert timeout  to seconds */
 546:Core/Src/boards/NucleoL476/rtc-board.c ****     timeoutValue >>= N_PREDIV_S; // convert timeout  in seconds
 547:Core/Src/boards/NucleoL476/rtc-board.c **** 
 548:Core/Src/boards/NucleoL476/rtc-board.c ****     // Convert milliseconds to RTC format and add to now
 549:Core/Src/boards/NucleoL476/rtc-board.c ****     while( timeoutValue >= SecondsInDay )
 550:Core/Src/boards/NucleoL476/rtc-board.c ****     {
 551:Core/Src/boards/NucleoL476/rtc-board.c ****         timeoutValue -= SecondsInDay;
 552:Core/Src/boards/NucleoL476/rtc-board.c ****         days++;
 553:Core/Src/boards/NucleoL476/rtc-board.c ****     }
 554:Core/Src/boards/NucleoL476/rtc-board.c **** 
 555:Core/Src/boards/NucleoL476/rtc-board.c ****     // Calculate hours
 556:Core/Src/boards/NucleoL476/rtc-board.c ****     while( timeoutValue >= SecondsInHour )
 557:Core/Src/boards/NucleoL476/rtc-board.c ****     {
 558:Core/Src/boards/NucleoL476/rtc-board.c ****         timeoutValue -= SecondsInHour;
 559:Core/Src/boards/NucleoL476/rtc-board.c ****         hours++;
 560:Core/Src/boards/NucleoL476/rtc-board.c ****     }
 561:Core/Src/boards/NucleoL476/rtc-board.c **** 
 562:Core/Src/boards/NucleoL476/rtc-board.c ****     // Calculate minutes
 563:Core/Src/boards/NucleoL476/rtc-board.c ****     while( timeoutValue >= SecondsInMinute )
 564:Core/Src/boards/NucleoL476/rtc-board.c ****     {
 565:Core/Src/boards/NucleoL476/rtc-board.c ****         timeoutValue -= SecondsInMinute;
 566:Core/Src/boards/NucleoL476/rtc-board.c ****         minutes++;
 567:Core/Src/boards/NucleoL476/rtc-board.c ****     }
 568:Core/Src/boards/NucleoL476/rtc-board.c **** 
 569:Core/Src/boards/NucleoL476/rtc-board.c ****     // Calculate seconds
 570:Core/Src/boards/NucleoL476/rtc-board.c ****     seconds += timeoutValue;
 571:Core/Src/boards/NucleoL476/rtc-board.c **** 
 572:Core/Src/boards/NucleoL476/rtc-board.c ****     // Correct for modulo
 573:Core/Src/boards/NucleoL476/rtc-board.c ****     while( milliseconds >= ( PREDIV_S + 1 ) )
 574:Core/Src/boards/NucleoL476/rtc-board.c ****     {
 575:Core/Src/boards/NucleoL476/rtc-board.c ****         milliseconds -= ( PREDIV_S + 1 );
 576:Core/Src/boards/NucleoL476/rtc-board.c ****         seconds++;
 577:Core/Src/boards/NucleoL476/rtc-board.c ****     }
 578:Core/Src/boards/NucleoL476/rtc-board.c **** 
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccPg5CgU.s 			page 18


 579:Core/Src/boards/NucleoL476/rtc-board.c ****     while( seconds >= SecondsInMinute )
 580:Core/Src/boards/NucleoL476/rtc-board.c ****     {
 581:Core/Src/boards/NucleoL476/rtc-board.c ****         seconds -= SecondsInMinute;
 582:Core/Src/boards/NucleoL476/rtc-board.c ****         minutes++;
 583:Core/Src/boards/NucleoL476/rtc-board.c ****     }
 584:Core/Src/boards/NucleoL476/rtc-board.c **** 
 585:Core/Src/boards/NucleoL476/rtc-board.c ****     while( minutes >= 60 )
 586:Core/Src/boards/NucleoL476/rtc-board.c ****     {
 587:Core/Src/boards/NucleoL476/rtc-board.c ****         minutes -= 60;
 588:Core/Src/boards/NucleoL476/rtc-board.c ****         hours++;
 589:Core/Src/boards/NucleoL476/rtc-board.c ****     }
 590:Core/Src/boards/NucleoL476/rtc-board.c **** 
 591:Core/Src/boards/NucleoL476/rtc-board.c ****     while( hours >= HoursInDay )
 592:Core/Src/boards/NucleoL476/rtc-board.c ****     {
 593:Core/Src/boards/NucleoL476/rtc-board.c ****         hours -= HoursInDay;
 594:Core/Src/boards/NucleoL476/rtc-board.c ****         days++;
 595:Core/Src/boards/NucleoL476/rtc-board.c ****     }
 596:Core/Src/boards/NucleoL476/rtc-board.c **** 
 597:Core/Src/boards/NucleoL476/rtc-board.c ****     while( days > DaysInMonthLeapYear[months - 1] )
 598:Core/Src/boards/NucleoL476/rtc-board.c ****     {
 599:Core/Src/boards/NucleoL476/rtc-board.c ****         days -= DaysInMonthLeapYear[months - 1];
 600:Core/Src/boards/NucleoL476/rtc-board.c ****         months++;
 601:Core/Src/boards/NucleoL476/rtc-board.c ****     }
 602:Core/Src/boards/NucleoL476/rtc-board.c **** 
 603:Core/Src/boards/NucleoL476/rtc-board.c ****     calendar.CalendarTime.SubSeconds = PREDIV_S - milliseconds;
 604:Core/Src/boards/NucleoL476/rtc-board.c ****     calendar.CalendarTime.Seconds = seconds;
 605:Core/Src/boards/NucleoL476/rtc-board.c ****     calendar.CalendarTime.Minutes = minutes;
 606:Core/Src/boards/NucleoL476/rtc-board.c ****     calendar.CalendarTime.Hours = hours;
 607:Core/Src/boards/NucleoL476/rtc-board.c ****     calendar.CalendarDate.Date = days;
 608:Core/Src/boards/NucleoL476/rtc-board.c ****     calendar.CalendarDate.Month = months;
 609:Core/Src/boards/NucleoL476/rtc-board.c ****     calendar.CalendarDate.Year = years; // on 32-bit, years will never go up
 610:Core/Src/boards/NucleoL476/rtc-board.c **** 
 611:Core/Src/boards/NucleoL476/rtc-board.c ****     return calendar;
 612:Core/Src/boards/NucleoL476/rtc-board.c **** }
 613:Core/Src/boards/NucleoL476/rtc-board.c **** 
 614:Core/Src/boards/NucleoL476/rtc-board.c **** static TimerTime_t RtcConvertCalendarTickToTimerTime( RtcCalendar_t *calendar )
 615:Core/Src/boards/NucleoL476/rtc-board.c **** {
 616:Core/Src/boards/NucleoL476/rtc-board.c ****     TimerTime_t timeCounter = 0;
 617:Core/Src/boards/NucleoL476/rtc-board.c ****     RtcCalendar_t now;
 618:Core/Src/boards/NucleoL476/rtc-board.c ****     uint32_t timeCounterTemp = 0;
 619:Core/Src/boards/NucleoL476/rtc-board.c **** 
 620:Core/Src/boards/NucleoL476/rtc-board.c ****     // Passing a NULL pointer will compute from "now" else,
 621:Core/Src/boards/NucleoL476/rtc-board.c ****     // compute from the given calendar value
 622:Core/Src/boards/NucleoL476/rtc-board.c ****     if( calendar == NULL )
 623:Core/Src/boards/NucleoL476/rtc-board.c ****     {
 624:Core/Src/boards/NucleoL476/rtc-board.c ****         now = RtcGetCalendar( );
 625:Core/Src/boards/NucleoL476/rtc-board.c ****     }
 626:Core/Src/boards/NucleoL476/rtc-board.c ****     else
 627:Core/Src/boards/NucleoL476/rtc-board.c ****     {
 628:Core/Src/boards/NucleoL476/rtc-board.c ****         now = *calendar;
 629:Core/Src/boards/NucleoL476/rtc-board.c ****     }
 630:Core/Src/boards/NucleoL476/rtc-board.c **** 
 631:Core/Src/boards/NucleoL476/rtc-board.c ****     // Years (calculation valid up to year 2099)
 632:Core/Src/boards/NucleoL476/rtc-board.c ****     for( int16_t i = 0; i < now.CalendarDate.Year ; i++ )
 633:Core/Src/boards/NucleoL476/rtc-board.c ****     {
 634:Core/Src/boards/NucleoL476/rtc-board.c ****         if( ( i == 0 ) || ( i % 4 ) == 0 )
 635:Core/Src/boards/NucleoL476/rtc-board.c ****         {
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccPg5CgU.s 			page 19


 636:Core/Src/boards/NucleoL476/rtc-board.c ****             timeCounterTemp += ( uint32_t )SecondsInLeapYear;
 637:Core/Src/boards/NucleoL476/rtc-board.c ****         }
 638:Core/Src/boards/NucleoL476/rtc-board.c ****         else
 639:Core/Src/boards/NucleoL476/rtc-board.c ****         {
 640:Core/Src/boards/NucleoL476/rtc-board.c ****             timeCounterTemp += ( uint32_t )SecondsInYear;
 641:Core/Src/boards/NucleoL476/rtc-board.c ****         }
 642:Core/Src/boards/NucleoL476/rtc-board.c ****     }
 643:Core/Src/boards/NucleoL476/rtc-board.c **** 
 644:Core/Src/boards/NucleoL476/rtc-board.c ****     // Months (calculation valid up to year 2099)*/
 645:Core/Src/boards/NucleoL476/rtc-board.c ****     if( ( now.CalendarDate.Year == 0 ) || ( now.CalendarDate.Year % 4 ) == 0 )
 646:Core/Src/boards/NucleoL476/rtc-board.c ****     {
 647:Core/Src/boards/NucleoL476/rtc-board.c ****         for( uint8_t i = 0; i < ( now.CalendarDate.Month - 1 ); i++ )
 648:Core/Src/boards/NucleoL476/rtc-board.c ****         {
 649:Core/Src/boards/NucleoL476/rtc-board.c ****             timeCounterTemp += ( uint32_t )( DaysInMonthLeapYear[i] * SecondsInDay );
 650:Core/Src/boards/NucleoL476/rtc-board.c ****         }
 651:Core/Src/boards/NucleoL476/rtc-board.c ****     }
 652:Core/Src/boards/NucleoL476/rtc-board.c ****     else
 653:Core/Src/boards/NucleoL476/rtc-board.c ****     {
 654:Core/Src/boards/NucleoL476/rtc-board.c ****         for( uint8_t i = 0;  i < ( now.CalendarDate.Month - 1 ); i++ )
 655:Core/Src/boards/NucleoL476/rtc-board.c ****         {
 656:Core/Src/boards/NucleoL476/rtc-board.c ****             timeCounterTemp += ( uint32_t )( DaysInMonth[i] * SecondsInDay );
 657:Core/Src/boards/NucleoL476/rtc-board.c ****         }
 658:Core/Src/boards/NucleoL476/rtc-board.c ****     }
 659:Core/Src/boards/NucleoL476/rtc-board.c **** 
 660:Core/Src/boards/NucleoL476/rtc-board.c ****     timeCounterTemp += ( uint32_t )( ( uint32_t )now.CalendarTime.Seconds +
 661:Core/Src/boards/NucleoL476/rtc-board.c ****                      ( ( uint32_t )now.CalendarTime.Minutes * SecondsInMinute ) +
 662:Core/Src/boards/NucleoL476/rtc-board.c ****                      ( ( uint32_t )now.CalendarTime.Hours * SecondsInHour ) +
 663:Core/Src/boards/NucleoL476/rtc-board.c ****                      ( ( uint32_t )( now.CalendarDate.Date * SecondsInDay ) ) );
 664:Core/Src/boards/NucleoL476/rtc-board.c **** 
 665:Core/Src/boards/NucleoL476/rtc-board.c ****     timeCounter = ( timeCounterTemp << N_PREDIV_S ) + ( PREDIV_S - now.CalendarTime.SubSeconds);
 666:Core/Src/boards/NucleoL476/rtc-board.c **** 
 667:Core/Src/boards/NucleoL476/rtc-board.c ****     return ( timeCounter );
 668:Core/Src/boards/NucleoL476/rtc-board.c **** }
 669:Core/Src/boards/NucleoL476/rtc-board.c **** 
 670:Core/Src/boards/NucleoL476/rtc-board.c **** TimerTime_t RtcConvertMsToTick( TimerTime_t timeoutValue )
 671:Core/Src/boards/NucleoL476/rtc-board.c **** {
 373              		.loc 1 671 1 is_stmt 1 view -0
 374              		.cfi_startproc
 375              		@ args = 0, pretend = 0, frame = 0
 376              		@ frame_needed = 0, uses_anonymous_args = 0
 377              		.loc 1 671 1 is_stmt 0 view .LVU124
 378 0000 08B5     		push	{r3, lr}
 379              	.LCFI5:
 380              		.cfi_def_cfa_offset 8
 381              		.cfi_offset 3, -8
 382              		.cfi_offset 14, -4
 672:Core/Src/boards/NucleoL476/rtc-board.c ****     double retVal = 0;
 383              		.loc 1 672 5 is_stmt 1 view .LVU125
 384              	.LVL46:
 673:Core/Src/boards/NucleoL476/rtc-board.c ****     retVal = round( ( ( double )timeoutValue * CONV_DENOM ) / CONV_NUMER );
 385              		.loc 1 673 5 view .LVU126
 386              		.loc 1 673 23 is_stmt 0 view .LVU127
 387 0002 FFF7FEFF 		bl	__aeabi_ui2d
 388              	.LVL47:
 389              		.loc 1 673 46 view .LVU128
 390 0006 0022     		movs	r2, #0
 391 0008 074B     		ldr	r3, .L24
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccPg5CgU.s 			page 20


 392 000a FFF7FEFF 		bl	__aeabi_dmul
 393              	.LVL48:
 394              		.loc 1 673 14 view .LVU129
 395 000e 0022     		movs	r2, #0
 396 0010 064B     		ldr	r3, .L24+4
 397 0012 FFF7FEFF 		bl	__aeabi_ddiv
 398              	.LVL49:
 399 0016 41EC100B 		vmov	d0, r0, r1
 400 001a FFF7FEFF 		bl	round
 401              	.LVL50:
 402 001e 51EC100B 		vmov	r0, r1, d0
 403              	.LVL51:
 674:Core/Src/boards/NucleoL476/rtc-board.c ****     return( ( TimerTime_t )retVal );
 404              		.loc 1 674 5 is_stmt 1 view .LVU130
 405              		.loc 1 674 13 is_stmt 0 view .LVU131
 406 0022 FFF7FEFF 		bl	__aeabi_d2uiz
 407              	.LVL52:
 675:Core/Src/boards/NucleoL476/rtc-board.c **** }
 408              		.loc 1 675 1 view .LVU132
 409 0026 08BD     		pop	{r3, pc}
 410              	.L25:
 411              		.align	2
 412              	.L24:
 413 0028 00007040 		.word	1081081856
 414 002c 00405F40 		.word	1079984128
 415              		.cfi_endproc
 416              	.LFE150:
 418              		.section	.text.RtcConvertTickToMs,"ax",%progbits
 419              		.align	1
 420              		.syntax unified
 421              		.thumb
 422              		.thumb_func
 423              		.fpu fpv4-sp-d16
 425              	RtcConvertTickToMs:
 426              	.LVL53:
 427              	.LFB151:
 676:Core/Src/boards/NucleoL476/rtc-board.c **** 
 677:Core/Src/boards/NucleoL476/rtc-board.c **** TimerTime_t RtcConvertTickToMs( TimerTime_t timeoutValue )
 678:Core/Src/boards/NucleoL476/rtc-board.c **** {
 428              		.loc 1 678 1 is_stmt 1 view -0
 429              		.cfi_startproc
 430              		@ args = 0, pretend = 0, frame = 0
 431              		@ frame_needed = 0, uses_anonymous_args = 0
 432              		.loc 1 678 1 is_stmt 0 view .LVU134
 433 0000 08B5     		push	{r3, lr}
 434              	.LCFI6:
 435              		.cfi_def_cfa_offset 8
 436              		.cfi_offset 3, -8
 437              		.cfi_offset 14, -4
 679:Core/Src/boards/NucleoL476/rtc-board.c ****     double retVal = 0.0;
 438              		.loc 1 679 5 is_stmt 1 view .LVU135
 439              	.LVL54:
 680:Core/Src/boards/NucleoL476/rtc-board.c ****     retVal = round( ( ( double )timeoutValue * CONV_NUMER ) / CONV_DENOM );
 440              		.loc 1 680 5 view .LVU136
 441              		.loc 1 680 23 is_stmt 0 view .LVU137
 442 0002 FFF7FEFF 		bl	__aeabi_ui2d
 443              	.LVL55:
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccPg5CgU.s 			page 21


 444              		.loc 1 680 46 view .LVU138
 445 0006 0022     		movs	r2, #0
 446 0008 074B     		ldr	r3, .L28
 447 000a FFF7FEFF 		bl	__aeabi_dmul
 448              	.LVL56:
 449              		.loc 1 680 14 view .LVU139
 450 000e 0022     		movs	r2, #0
 451 0010 064B     		ldr	r3, .L28+4
 452 0012 FFF7FEFF 		bl	__aeabi_dmul
 453              	.LVL57:
 454 0016 41EC100B 		vmov	d0, r0, r1
 455 001a FFF7FEFF 		bl	round
 456              	.LVL58:
 457 001e 51EC100B 		vmov	r0, r1, d0
 458              	.LVL59:
 681:Core/Src/boards/NucleoL476/rtc-board.c ****     return( ( TimerTime_t )retVal );
 459              		.loc 1 681 5 is_stmt 1 view .LVU140
 460              		.loc 1 681 13 is_stmt 0 view .LVU141
 461 0022 FFF7FEFF 		bl	__aeabi_d2uiz
 462              	.LVL60:
 682:Core/Src/boards/NucleoL476/rtc-board.c **** }
 463              		.loc 1 682 1 view .LVU142
 464 0026 08BD     		pop	{r3, pc}
 465              	.L29:
 466              		.align	2
 467              	.L28:
 468 0028 00405F40 		.word	1079984128
 469 002c 0000703F 		.word	1064304640
 470              		.cfi_endproc
 471              	.LFE151:
 473              		.section	.text.RtcGetCalendar,"ax",%progbits
 474              		.align	1
 475              		.syntax unified
 476              		.thumb
 477              		.thumb_func
 478              		.fpu fpv4-sp-d16
 480              	RtcGetCalendar:
 481              	.LVL61:
 482              	.LFB152:
 683:Core/Src/boards/NucleoL476/rtc-board.c **** 
 684:Core/Src/boards/NucleoL476/rtc-board.c **** static RtcCalendar_t RtcGetCalendar( void )
 685:Core/Src/boards/NucleoL476/rtc-board.c **** {
 483              		.loc 1 685 1 is_stmt 1 view -0
 484              		.cfi_startproc
 485              		@ args = 0, pretend = 0, frame = 24
 486              		@ frame_needed = 0, uses_anonymous_args = 0
 487              		.loc 1 685 1 is_stmt 0 view .LVU144
 488 0000 70B5     		push	{r4, r5, r6, lr}
 489              	.LCFI7:
 490              		.cfi_def_cfa_offset 16
 491              		.cfi_offset 4, -16
 492              		.cfi_offset 5, -12
 493              		.cfi_offset 6, -8
 494              		.cfi_offset 14, -4
 495 0002 86B0     		sub	sp, sp, #24
 496              	.LCFI8:
 497              		.cfi_def_cfa_offset 40
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccPg5CgU.s 			page 22


 498 0004 0646     		mov	r6, r0
 686:Core/Src/boards/NucleoL476/rtc-board.c ****     uint32_t first_read = 0;
 499              		.loc 1 686 5 is_stmt 1 view .LVU145
 500              	.LVL62:
 687:Core/Src/boards/NucleoL476/rtc-board.c ****     uint32_t second_read = 0;
 501              		.loc 1 687 5 view .LVU146
 688:Core/Src/boards/NucleoL476/rtc-board.c ****     RtcCalendar_t now;
 502              		.loc 1 688 5 view .LVU147
 689:Core/Src/boards/NucleoL476/rtc-board.c **** 
 690:Core/Src/boards/NucleoL476/rtc-board.c ****     // Get Time and Date
 691:Core/Src/boards/NucleoL476/rtc-board.c ****     HAL_RTC_GetTime( &RtcHandle, &now.CalendarTime, RTC_FORMAT_BIN );
 503              		.loc 1 691 5 view .LVU148
 504 0006 134C     		ldr	r4, .L34
 505 0008 0022     		movs	r2, #0
 506 000a 01A9     		add	r1, sp, #4
 507 000c 2046     		mov	r0, r4
 508              	.LVL63:
 509              		.loc 1 691 5 is_stmt 0 view .LVU149
 510 000e FFF7FEFF 		bl	HAL_RTC_GetTime
 511              	.LVL64:
 692:Core/Src/boards/NucleoL476/rtc-board.c ****     first_read = now.CalendarTime.SubSeconds;
 512              		.loc 1 692 5 is_stmt 1 view .LVU150
 513              		.loc 1 692 16 is_stmt 0 view .LVU151
 514 0012 029D     		ldr	r5, [sp, #8]
 515              	.LVL65:
 693:Core/Src/boards/NucleoL476/rtc-board.c ****     HAL_RTC_GetTime( &RtcHandle, &now.CalendarTime, RTC_FORMAT_BIN );
 516              		.loc 1 693 5 is_stmt 1 view .LVU152
 517 0014 0022     		movs	r2, #0
 518 0016 01A9     		add	r1, sp, #4
 519 0018 2046     		mov	r0, r4
 520 001a FFF7FEFF 		bl	HAL_RTC_GetTime
 521              	.LVL66:
 694:Core/Src/boards/NucleoL476/rtc-board.c ****     second_read = now.CalendarTime.SubSeconds;
 522              		.loc 1 694 5 view .LVU153
 523              		.loc 1 694 17 is_stmt 0 view .LVU154
 524 001e 029C     		ldr	r4, [sp, #8]
 525              	.LVL67:
 695:Core/Src/boards/NucleoL476/rtc-board.c **** 
 696:Core/Src/boards/NucleoL476/rtc-board.c ****     // make sure it is correct due to asynchronous nature of RTC
 697:Core/Src/boards/NucleoL476/rtc-board.c ****     while( first_read != second_read )
 526              		.loc 1 697 5 is_stmt 1 view .LVU155
 527              		.loc 1 697 10 is_stmt 0 view .LVU156
 528 0020 06E0     		b	.L31
 529              	.L32:
 698:Core/Src/boards/NucleoL476/rtc-board.c ****     {
 699:Core/Src/boards/NucleoL476/rtc-board.c ****         first_read = second_read;
 530              		.loc 1 699 9 is_stmt 1 view .LVU157
 531              	.LVL68:
 700:Core/Src/boards/NucleoL476/rtc-board.c ****         HAL_RTC_GetTime( &RtcHandle, &now.CalendarTime, RTC_FORMAT_BIN );
 532              		.loc 1 700 9 view .LVU158
 533 0022 0022     		movs	r2, #0
 534 0024 01A9     		add	r1, sp, #4
 535 0026 0B48     		ldr	r0, .L34
 536 0028 FFF7FEFF 		bl	HAL_RTC_GetTime
 537              	.LVL69:
 701:Core/Src/boards/NucleoL476/rtc-board.c ****         second_read = now.CalendarTime.SubSeconds;
 538              		.loc 1 701 9 view .LVU159
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccPg5CgU.s 			page 23


 699:Core/Src/boards/NucleoL476/rtc-board.c ****         HAL_RTC_GetTime( &RtcHandle, &now.CalendarTime, RTC_FORMAT_BIN );
 539              		.loc 1 699 20 is_stmt 0 view .LVU160
 540 002c 2546     		mov	r5, r4
 541              		.loc 1 701 21 view .LVU161
 542 002e 029C     		ldr	r4, [sp, #8]
 543              	.LVL70:
 544              	.L31:
 697:Core/Src/boards/NucleoL476/rtc-board.c ****     {
 545              		.loc 1 697 10 is_stmt 1 view .LVU162
 546 0030 A542     		cmp	r5, r4
 547 0032 F6D1     		bne	.L32
 702:Core/Src/boards/NucleoL476/rtc-board.c ****     }
 703:Core/Src/boards/NucleoL476/rtc-board.c ****     HAL_RTC_GetDate( &RtcHandle, &now.CalendarDate, RTC_FORMAT_BIN );
 548              		.loc 1 703 5 view .LVU163
 549 0034 0022     		movs	r2, #0
 550 0036 6946     		mov	r1, sp
 551 0038 0648     		ldr	r0, .L34
 552 003a FFF7FEFF 		bl	HAL_RTC_GetDate
 553              	.LVL71:
 704:Core/Src/boards/NucleoL476/rtc-board.c ****     return( now );
 554              		.loc 1 704 5 view .LVU164
 555              		.loc 1 704 11 is_stmt 0 view .LVU165
 556 003e 3546     		mov	r5, r6
 557              	.LVL72:
 558              		.loc 1 704 11 view .LVU166
 559 0040 6C46     		mov	r4, sp
 560              	.LVL73:
 561              		.loc 1 704 11 view .LVU167
 562 0042 0FCC     		ldmia	r4!, {r0, r1, r2, r3}
 563 0044 0FC5     		stmia	r5!, {r0, r1, r2, r3}
 564 0046 94E80300 		ldm	r4, {r0, r1}
 565 004a 85E80300 		stm	r5, {r0, r1}
 705:Core/Src/boards/NucleoL476/rtc-board.c **** }
 566              		.loc 1 705 1 view .LVU168
 567 004e 3046     		mov	r0, r6
 568 0050 06B0     		add	sp, sp, #24
 569              	.LCFI9:
 570              		.cfi_def_cfa_offset 16
 571              		@ sp needed
 572 0052 70BD     		pop	{r4, r5, r6, pc}
 573              	.LVL74:
 574              	.L35:
 575              		.loc 1 705 1 view .LVU169
 576              		.align	2
 577              	.L34:
 578 0054 00000000 		.word	.LANCHOR2
 579              		.cfi_endproc
 580              	.LFE152:
 582              		.section	.rodata.RtcStartWakeUpAlarm.str1.4,"aMS",%progbits,1
 583              		.align	2
 584              	.LC0:
 585 0000 436F7265 		.ascii	"Core/Src/boards/NucleoL476/rtc-board.c\000"
 585      2F537263 
 585      2F626F61 
 585      7264732F 
 585      4E75636C 
 586              		.section	.text.RtcStartWakeUpAlarm,"ax",%progbits
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccPg5CgU.s 			page 24


 587              		.align	1
 588              		.syntax unified
 589              		.thumb
 590              		.thumb_func
 591              		.fpu fpv4-sp-d16
 593              	RtcStartWakeUpAlarm:
 594              	.LVL75:
 595              	.LFB146:
 388:Core/Src/boards/NucleoL476/rtc-board.c ****     RtcCalendar_t now;
 596              		.loc 1 388 1 is_stmt 1 view -0
 597              		.cfi_startproc
 598              		@ args = 0, pretend = 0, frame = 96
 599              		@ frame_needed = 0, uses_anonymous_args = 0
 388:Core/Src/boards/NucleoL476/rtc-board.c ****     RtcCalendar_t now;
 600              		.loc 1 388 1 is_stmt 0 view .LVU171
 601 0000 70B5     		push	{r4, r5, r6, lr}
 602              	.LCFI10:
 603              		.cfi_def_cfa_offset 16
 604              		.cfi_offset 4, -16
 605              		.cfi_offset 5, -12
 606              		.cfi_offset 6, -8
 607              		.cfi_offset 14, -4
 608 0002 9CB0     		sub	sp, sp, #112
 609              	.LCFI11:
 610              		.cfi_def_cfa_offset 128
 611 0004 0546     		mov	r5, r0
 389:Core/Src/boards/NucleoL476/rtc-board.c ****     RtcCalendar_t alarmTimer;
 612              		.loc 1 389 5 is_stmt 1 view .LVU172
 390:Core/Src/boards/NucleoL476/rtc-board.c ****     RTC_AlarmTypeDef alarmStructure;
 613              		.loc 1 390 5 view .LVU173
 391:Core/Src/boards/NucleoL476/rtc-board.c **** 
 614              		.loc 1 391 5 view .LVU174
 393:Core/Src/boards/NucleoL476/rtc-board.c **** 
 615              		.loc 1 393 5 view .LVU175
 616 0006 4FF48071 		mov	r1, #256
 617 000a 2448     		ldr	r0, .L42
 618              	.LVL76:
 393:Core/Src/boards/NucleoL476/rtc-board.c **** 
 619              		.loc 1 393 5 is_stmt 0 view .LVU176
 620 000c FFF7FEFF 		bl	HAL_RTC_DeactivateAlarm
 621              	.LVL77:
 395:Core/Src/boards/NucleoL476/rtc-board.c ****     {
 622              		.loc 1 395 5 is_stmt 1 view .LVU177
 395:Core/Src/boards/NucleoL476/rtc-board.c ****     {
 623              		.loc 1 395 7 is_stmt 0 view .LVU178
 624 0010 032D     		cmp	r5, #3
 625 0012 00D8     		bhi	.L37
 397:Core/Src/boards/NucleoL476/rtc-board.c ****     }
 626              		.loc 1 397 22 view .LVU179
 627 0014 0325     		movs	r5, #3
 628              	.LVL78:
 629              	.L37:
 401:Core/Src/boards/NucleoL476/rtc-board.c **** 
 630              		.loc 1 401 5 is_stmt 1 view .LVU180
 401:Core/Src/boards/NucleoL476/rtc-board.c **** 
 631              		.loc 1 401 11 is_stmt 0 view .LVU181
 632 0016 16AE     		add	r6, sp, #88
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccPg5CgU.s 			page 25


 633 0018 3046     		mov	r0, r6
 634 001a FFF7FEFF 		bl	RtcGetCalendar
 635              	.LVL79:
 404:Core/Src/boards/NucleoL476/rtc-board.c **** 
 636              		.loc 1 404 5 is_stmt 1 view .LVU182
 404:Core/Src/boards/NucleoL476/rtc-board.c **** 
 637              		.loc 1 404 24 is_stmt 0 view .LVU183
 638 001e 204C     		ldr	r4, .L42+4
 639 0020 B446     		mov	ip, r6
 640 0022 BCE80F00 		ldmia	ip!, {r0, r1, r2, r3}
 641 0026 0FC4     		stmia	r4!, {r0, r1, r2, r3}
 642 0028 9CE80300 		ldm	ip, {r0, r1}
 643 002c 84E80300 		stm	r4, {r0, r1}
 407:Core/Src/boards/NucleoL476/rtc-board.c **** 
 644              		.loc 1 407 5 is_stmt 1 view .LVU184
 407:Core/Src/boards/NucleoL476/rtc-board.c **** 
 645              		.loc 1 407 18 is_stmt 0 view .LVU185
 646 0030 1CAB     		add	r3, sp, #112
 647 0032 13E90F00 		ldmdb	r3, {r0, r1, r2, r3}
 648 0036 8DE80F00 		stm	sp, {r0, r1, r2, r3}
 649 003a 96E80C00 		ldm	r6, {r2, r3}
 650 003e 2946     		mov	r1, r5
 651 0040 10A8     		add	r0, sp, #64
 652 0042 FFF7FEFF 		bl	RtcComputeTimerTimeToAlarmTick
 653              	.LVL80:
 409:Core/Src/boards/NucleoL476/rtc-board.c ****     alarmStructure.AlarmDateWeekDaySel = RTC_ALARMDATEWEEKDAYSEL_DATE;
 654              		.loc 1 409 5 is_stmt 1 view .LVU186
 409:Core/Src/boards/NucleoL476/rtc-board.c ****     alarmStructure.AlarmDateWeekDaySel = RTC_ALARMDATEWEEKDAYSEL_DATE;
 655              		.loc 1 409 26 is_stmt 0 view .LVU187
 656 0046 4FF48073 		mov	r3, #256
 657 004a 0F93     		str	r3, [sp, #60]
 410:Core/Src/boards/NucleoL476/rtc-board.c ****     alarmStructure.AlarmMask = RTC_ALARMMASK_NONE;
 658              		.loc 1 410 5 is_stmt 1 view .LVU188
 410:Core/Src/boards/NucleoL476/rtc-board.c ****     alarmStructure.AlarmMask = RTC_ALARMMASK_NONE;
 659              		.loc 1 410 40 is_stmt 0 view .LVU189
 660 004c 0022     		movs	r2, #0
 661 004e 0D92     		str	r2, [sp, #52]
 411:Core/Src/boards/NucleoL476/rtc-board.c ****     alarmStructure.AlarmSubSecondMask = RTC_ALARMSUBSECONDMASK_NONE;
 662              		.loc 1 411 5 is_stmt 1 view .LVU190
 411:Core/Src/boards/NucleoL476/rtc-board.c ****     alarmStructure.AlarmSubSecondMask = RTC_ALARMSUBSECONDMASK_NONE;
 663              		.loc 1 411 30 is_stmt 0 view .LVU191
 664 0050 0A92     		str	r2, [sp, #40]
 412:Core/Src/boards/NucleoL476/rtc-board.c ****     alarmStructure.AlarmTime.TimeFormat = RTC_HOURFORMAT12_AM;
 665              		.loc 1 412 5 is_stmt 1 view .LVU192
 412:Core/Src/boards/NucleoL476/rtc-board.c ****     alarmStructure.AlarmTime.TimeFormat = RTC_HOURFORMAT12_AM;
 666              		.loc 1 412 39 is_stmt 0 view .LVU193
 667 0052 4FF07063 		mov	r3, #251658240
 668 0056 0C93     		str	r3, [sp, #48]
 413:Core/Src/boards/NucleoL476/rtc-board.c **** 
 669              		.loc 1 413 5 is_stmt 1 view .LVU194
 413:Core/Src/boards/NucleoL476/rtc-board.c **** 
 670              		.loc 1 413 41 is_stmt 0 view .LVU195
 671 0058 8DF81720 		strb	r2, [sp, #23]
 415:Core/Src/boards/NucleoL476/rtc-board.c ****     alarmStructure.AlarmTime.Seconds = alarmTimer.CalendarTime.Seconds;
 672              		.loc 1 415 5 is_stmt 1 view .LVU196
 415:Core/Src/boards/NucleoL476/rtc-board.c ****     alarmStructure.AlarmTime.Seconds = alarmTimer.CalendarTime.Seconds;
 673              		.loc 1 415 66 is_stmt 0 view .LVU197
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccPg5CgU.s 			page 26


 674 005c 129B     		ldr	r3, [sp, #72]
 415:Core/Src/boards/NucleoL476/rtc-board.c ****     alarmStructure.AlarmTime.Seconds = alarmTimer.CalendarTime.Seconds;
 675              		.loc 1 415 41 view .LVU198
 676 005e 0693     		str	r3, [sp, #24]
 416:Core/Src/boards/NucleoL476/rtc-board.c ****     alarmStructure.AlarmTime.Minutes = alarmTimer.CalendarTime.Minutes;
 677              		.loc 1 416 5 is_stmt 1 view .LVU199
 416:Core/Src/boards/NucleoL476/rtc-board.c ****     alarmStructure.AlarmTime.Minutes = alarmTimer.CalendarTime.Minutes;
 678              		.loc 1 416 63 is_stmt 0 view .LVU200
 679 0060 9DF84630 		ldrb	r3, [sp, #70]	@ zero_extendqisi2
 416:Core/Src/boards/NucleoL476/rtc-board.c ****     alarmStructure.AlarmTime.Minutes = alarmTimer.CalendarTime.Minutes;
 680              		.loc 1 416 38 view .LVU201
 681 0064 8DF81630 		strb	r3, [sp, #22]
 417:Core/Src/boards/NucleoL476/rtc-board.c ****     alarmStructure.AlarmTime.Hours = alarmTimer.CalendarTime.Hours;
 682              		.loc 1 417 5 is_stmt 1 view .LVU202
 417:Core/Src/boards/NucleoL476/rtc-board.c ****     alarmStructure.AlarmTime.Hours = alarmTimer.CalendarTime.Hours;
 683              		.loc 1 417 63 is_stmt 0 view .LVU203
 684 0068 9DF84530 		ldrb	r3, [sp, #69]	@ zero_extendqisi2
 417:Core/Src/boards/NucleoL476/rtc-board.c ****     alarmStructure.AlarmTime.Hours = alarmTimer.CalendarTime.Hours;
 685              		.loc 1 417 38 view .LVU204
 686 006c 8DF81530 		strb	r3, [sp, #21]
 418:Core/Src/boards/NucleoL476/rtc-board.c ****     alarmStructure.AlarmDateWeekDay = alarmTimer.CalendarDate.Date;
 687              		.loc 1 418 5 is_stmt 1 view .LVU205
 418:Core/Src/boards/NucleoL476/rtc-board.c ****     alarmStructure.AlarmDateWeekDay = alarmTimer.CalendarDate.Date;
 688              		.loc 1 418 61 is_stmt 0 view .LVU206
 689 0070 9DF84430 		ldrb	r3, [sp, #68]	@ zero_extendqisi2
 418:Core/Src/boards/NucleoL476/rtc-board.c ****     alarmStructure.AlarmDateWeekDay = alarmTimer.CalendarDate.Date;
 690              		.loc 1 418 36 view .LVU207
 691 0074 8DF81430 		strb	r3, [sp, #20]
 419:Core/Src/boards/NucleoL476/rtc-board.c **** 
 692              		.loc 1 419 5 is_stmt 1 view .LVU208
 419:Core/Src/boards/NucleoL476/rtc-board.c **** 
 693              		.loc 1 419 62 is_stmt 0 view .LVU209
 694 0078 9DF84230 		ldrb	r3, [sp, #66]	@ zero_extendqisi2
 419:Core/Src/boards/NucleoL476/rtc-board.c **** 
 695              		.loc 1 419 37 view .LVU210
 696 007c 8DF83830 		strb	r3, [sp, #56]
 421:Core/Src/boards/NucleoL476/rtc-board.c ****     {
 697              		.loc 1 421 5 is_stmt 1 view .LVU211
 421:Core/Src/boards/NucleoL476/rtc-board.c ****     {
 698              		.loc 1 421 9 is_stmt 0 view .LVU212
 699 0080 05A9     		add	r1, sp, #20
 700 0082 0648     		ldr	r0, .L42
 701 0084 FFF7FEFF 		bl	HAL_RTC_SetAlarm_IT
 702              	.LVL81:
 421:Core/Src/boards/NucleoL476/rtc-board.c ****     {
 703              		.loc 1 421 7 view .LVU213
 704 0088 08B9     		cbnz	r0, .L41
 705              	.L36:
 425:Core/Src/boards/NucleoL476/rtc-board.c **** 
 706              		.loc 1 425 1 view .LVU214
 707 008a 1CB0     		add	sp, sp, #112
 708              	.LCFI12:
 709              		.cfi_remember_state
 710              		.cfi_def_cfa_offset 16
 711              		@ sp needed
 712 008c 70BD     		pop	{r4, r5, r6, pc}
 713              	.LVL82:
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccPg5CgU.s 			page 27


 714              	.L41:
 715              	.LCFI13:
 716              		.cfi_restore_state
 423:Core/Src/boards/NucleoL476/rtc-board.c ****     }
 717              		.loc 1 423 9 is_stmt 1 view .LVU215
 718 008e 40F2A711 		movw	r1, #423
 719 0092 0448     		ldr	r0, .L42+8
 720 0094 FFF7FEFF 		bl	assert_failed
 721              	.LVL83:
 425:Core/Src/boards/NucleoL476/rtc-board.c **** 
 722              		.loc 1 425 1 is_stmt 0 view .LVU216
 723 0098 F7E7     		b	.L36
 724              	.L43:
 725 009a 00BF     		.align	2
 726              	.L42:
 727 009c 00000000 		.word	.LANCHOR2
 728 00a0 00000000 		.word	.LANCHOR3
 729 00a4 00000000 		.word	.LC0
 730              		.cfi_endproc
 731              	.LFE146:
 733              		.section	.text.RtcConvertCalendarTickToTimerTime,"ax",%progbits
 734              		.align	1
 735              		.syntax unified
 736              		.thumb
 737              		.thumb_func
 738              		.fpu fpv4-sp-d16
 740              	RtcConvertCalendarTickToTimerTime:
 741              	.LVL84:
 742              	.LFB149:
 615:Core/Src/boards/NucleoL476/rtc-board.c ****     TimerTime_t timeCounter = 0;
 743              		.loc 1 615 1 is_stmt 1 view -0
 744              		.cfi_startproc
 745              		@ args = 0, pretend = 0, frame = 24
 746              		@ frame_needed = 0, uses_anonymous_args = 0
 615:Core/Src/boards/NucleoL476/rtc-board.c ****     TimerTime_t timeCounter = 0;
 747              		.loc 1 615 1 is_stmt 0 view .LVU218
 748 0000 00B5     		push	{lr}
 749              	.LCFI14:
 750              		.cfi_def_cfa_offset 4
 751              		.cfi_offset 14, -4
 752 0002 87B0     		sub	sp, sp, #28
 753              	.LCFI15:
 754              		.cfi_def_cfa_offset 32
 616:Core/Src/boards/NucleoL476/rtc-board.c ****     RtcCalendar_t now;
 755              		.loc 1 616 5 is_stmt 1 view .LVU219
 756              	.LVL85:
 617:Core/Src/boards/NucleoL476/rtc-board.c ****     uint32_t timeCounterTemp = 0;
 757              		.loc 1 617 5 view .LVU220
 618:Core/Src/boards/NucleoL476/rtc-board.c **** 
 758              		.loc 1 618 5 view .LVU221
 622:Core/Src/boards/NucleoL476/rtc-board.c ****     {
 759              		.loc 1 622 5 view .LVU222
 622:Core/Src/boards/NucleoL476/rtc-board.c ****     {
 760              		.loc 1 622 7 is_stmt 0 view .LVU223
 761 0004 60B1     		cbz	r0, .L59
 762 0006 8446     		mov	ip, r0
 628:Core/Src/boards/NucleoL476/rtc-board.c ****     }
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccPg5CgU.s 			page 28


 763              		.loc 1 628 9 is_stmt 1 view .LVU224
 628:Core/Src/boards/NucleoL476/rtc-board.c ****     }
 764              		.loc 1 628 13 is_stmt 0 view .LVU225
 765 0008 EE46     		mov	lr, sp
 766 000a BCE80F00 		ldmia	ip!, {r0, r1, r2, r3}
 767              	.LVL86:
 628:Core/Src/boards/NucleoL476/rtc-board.c ****     }
 768              		.loc 1 628 13 view .LVU226
 769 000e AEE80F00 		stmia	lr!, {r0, r1, r2, r3}
 770 0012 9CE80300 		ldm	ip, {r0, r1}
 771 0016 8EE80300 		stm	lr, {r0, r1}
 772              	.LVL87:
 773              	.L46:
 632:Core/Src/boards/NucleoL476/rtc-board.c ****     {
 774              		.loc 1 632 5 is_stmt 1 view .LVU227
 775              	.LBB2:
 632:Core/Src/boards/NucleoL476/rtc-board.c ****     {
 776              		.loc 1 632 10 view .LVU228
 632:Core/Src/boards/NucleoL476/rtc-board.c ****     {
 777              		.loc 1 632 18 is_stmt 0 view .LVU229
 778 001a 0022     		movs	r2, #0
 779              	.LBE2:
 618:Core/Src/boards/NucleoL476/rtc-board.c **** 
 780              		.loc 1 618 14 view .LVU230
 781 001c 1046     		mov	r0, r2
 782              	.LBB3:
 632:Core/Src/boards/NucleoL476/rtc-board.c ****     {
 783              		.loc 1 632 5 view .LVU231
 784 001e 09E0     		b	.L47
 785              	.LVL88:
 786              	.L59:
 632:Core/Src/boards/NucleoL476/rtc-board.c ****     {
 787              		.loc 1 632 5 view .LVU232
 788              	.LBE3:
 624:Core/Src/boards/NucleoL476/rtc-board.c ****     }
 789              		.loc 1 624 9 is_stmt 1 view .LVU233
 624:Core/Src/boards/NucleoL476/rtc-board.c ****     }
 790              		.loc 1 624 15 is_stmt 0 view .LVU234
 791 0020 6846     		mov	r0, sp
 792              	.LVL89:
 624:Core/Src/boards/NucleoL476/rtc-board.c ****     }
 793              		.loc 1 624 15 view .LVU235
 794 0022 FFF7FEFF 		bl	RtcGetCalendar
 795              	.LVL90:
 796 0026 F8E7     		b	.L46
 797              	.LVL91:
 798              	.L48:
 799              	.LBB4:
 636:Core/Src/boards/NucleoL476/rtc-board.c ****         }
 800              		.loc 1 636 13 is_stmt 1 view .LVU236
 636:Core/Src/boards/NucleoL476/rtc-board.c ****         }
 801              		.loc 1 636 29 is_stmt 0 view .LVU237
 802 0028 00F1F170 		add	r0, r0, #31588352
 803              	.LVL92:
 636:Core/Src/boards/NucleoL476/rtc-board.c ****         }
 804              		.loc 1 636 29 view .LVU238
 805 002c 00F50540 		add	r0, r0, #34048
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccPg5CgU.s 			page 29


 806              	.LVL93:
 807              	.L50:
 632:Core/Src/boards/NucleoL476/rtc-board.c ****     {
 808              		.loc 1 632 53 is_stmt 1 discriminator 2 view .LVU239
 632:Core/Src/boards/NucleoL476/rtc-board.c ****     {
 809              		.loc 1 632 54 is_stmt 0 discriminator 2 view .LVU240
 810 0030 0132     		adds	r2, r2, #1
 811              	.LVL94:
 632:Core/Src/boards/NucleoL476/rtc-board.c ****     {
 812              		.loc 1 632 54 discriminator 2 view .LVU241
 813 0032 12B2     		sxth	r2, r2
 814              	.LVL95:
 815              	.L47:
 632:Core/Src/boards/NucleoL476/rtc-board.c ****     {
 816              		.loc 1 632 25 is_stmt 1 discriminator 1 view .LVU242
 632:Core/Src/boards/NucleoL476/rtc-board.c ****     {
 817              		.loc 1 632 45 is_stmt 0 discriminator 1 view .LVU243
 818 0034 9DF80330 		ldrb	r3, [sp, #3]	@ zero_extendqisi2
 632:Core/Src/boards/NucleoL476/rtc-board.c ****     {
 819              		.loc 1 632 5 discriminator 1 view .LVU244
 820 0038 9A42     		cmp	r2, r3
 821 003a 0BDA     		bge	.L60
 634:Core/Src/boards/NucleoL476/rtc-board.c ****         {
 822              		.loc 1 634 9 is_stmt 1 view .LVU245
 634:Core/Src/boards/NucleoL476/rtc-board.c ****         {
 823              		.loc 1 634 11 is_stmt 0 view .LVU246
 824 003c 002A     		cmp	r2, #0
 825 003e F3D0     		beq	.L48
 634:Core/Src/boards/NucleoL476/rtc-board.c ****         {
 826              		.loc 1 634 24 discriminator 1 view .LVU247
 827 0040 12F0030F 		tst	r2, #3
 828 0044 F0D0     		beq	.L48
 640:Core/Src/boards/NucleoL476/rtc-board.c ****         }
 829              		.loc 1 640 13 is_stmt 1 view .LVU248
 640:Core/Src/boards/NucleoL476/rtc-board.c ****         }
 830              		.loc 1 640 29 is_stmt 0 view .LVU249
 831 0046 00F1F070 		add	r0, r0, #31457280
 832              	.LVL96:
 640:Core/Src/boards/NucleoL476/rtc-board.c ****         }
 833              		.loc 1 640 29 view .LVU250
 834 004a 00F59930 		add	r0, r0, #78336
 835              	.LVL97:
 640:Core/Src/boards/NucleoL476/rtc-board.c ****         }
 836              		.loc 1 640 29 view .LVU251
 837 004e 00F5C070 		add	r0, r0, #384
 838              	.LVL98:
 640:Core/Src/boards/NucleoL476/rtc-board.c ****         }
 839              		.loc 1 640 29 view .LVU252
 840 0052 EDE7     		b	.L50
 841              	.L60:
 640:Core/Src/boards/NucleoL476/rtc-board.c ****         }
 842              		.loc 1 640 29 view .LVU253
 843              	.LBE4:
 645:Core/Src/boards/NucleoL476/rtc-board.c ****     {
 844              		.loc 1 645 5 is_stmt 1 view .LVU254
 645:Core/Src/boards/NucleoL476/rtc-board.c ****     {
 845              		.loc 1 645 7 is_stmt 0 view .LVU255
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccPg5CgU.s 			page 30


 846 0054 5BB1     		cbz	r3, .L54
 645:Core/Src/boards/NucleoL476/rtc-board.c ****     {
 847              		.loc 1 645 40 discriminator 1 view .LVU256
 848 0056 13F00303 		ands	r3, r3, #3
 849 005a 08D0     		beq	.L54
 850              	.LBB5:
 654:Core/Src/boards/NucleoL476/rtc-board.c ****         {
 851              		.loc 1 654 22 view .LVU257
 852 005c 0023     		movs	r3, #0
 853 005e 2EE0     		b	.L53
 854              	.LVL99:
 855              	.L55:
 654:Core/Src/boards/NucleoL476/rtc-board.c ****         {
 856              		.loc 1 654 22 view .LVU258
 857              	.LBE5:
 858              	.LBB6:
 649:Core/Src/boards/NucleoL476/rtc-board.c ****         }
 859              		.loc 1 649 13 is_stmt 1 discriminator 3 view .LVU259
 649:Core/Src/boards/NucleoL476/rtc-board.c ****         }
 860              		.loc 1 649 65 is_stmt 0 discriminator 3 view .LVU260
 861 0060 1A4A     		ldr	r2, .L61
 862 0062 D25C     		ldrb	r2, [r2, r3]	@ zero_extendqisi2
 649:Core/Src/boards/NucleoL476/rtc-board.c ****         }
 863              		.loc 1 649 29 discriminator 3 view .LVU261
 864 0064 1A49     		ldr	r1, .L61+4
 865 0066 01FB0200 		mla	r0, r1, r2, r0
 866              	.LVL100:
 647:Core/Src/boards/NucleoL476/rtc-board.c ****         {
 867              		.loc 1 647 65 is_stmt 1 discriminator 3 view .LVU262
 647:Core/Src/boards/NucleoL476/rtc-board.c ****         {
 868              		.loc 1 647 66 is_stmt 0 discriminator 3 view .LVU263
 869 006a 0133     		adds	r3, r3, #1
 870              	.LVL101:
 647:Core/Src/boards/NucleoL476/rtc-board.c ****         {
 871              		.loc 1 647 66 discriminator 3 view .LVU264
 872 006c DBB2     		uxtb	r3, r3
 873              	.LVL102:
 874              	.L54:
 647:Core/Src/boards/NucleoL476/rtc-board.c ****         {
 875              		.loc 1 647 29 is_stmt 1 discriminator 1 view .LVU265
 647:Core/Src/boards/NucleoL476/rtc-board.c ****         {
 876              		.loc 1 647 51 is_stmt 0 discriminator 1 view .LVU266
 877 006e 9DF80120 		ldrb	r2, [sp, #1]	@ zero_extendqisi2
 647:Core/Src/boards/NucleoL476/rtc-board.c ****         {
 878              		.loc 1 647 58 discriminator 1 view .LVU267
 879 0072 013A     		subs	r2, r2, #1
 647:Core/Src/boards/NucleoL476/rtc-board.c ****         {
 880              		.loc 1 647 9 discriminator 1 view .LVU268
 881 0074 9342     		cmp	r3, r2
 882 0076 F3DB     		blt	.L55
 883              	.LVL103:
 884              	.L56:
 647:Core/Src/boards/NucleoL476/rtc-board.c ****         {
 885              		.loc 1 647 9 discriminator 1 view .LVU269
 886              	.LBE6:
 660:Core/Src/boards/NucleoL476/rtc-board.c ****                      ( ( uint32_t )now.CalendarTime.Minutes * SecondsInMinute ) +
 887              		.loc 1 660 5 is_stmt 1 view .LVU270
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccPg5CgU.s 			page 31


 660:Core/Src/boards/NucleoL476/rtc-board.c ****                      ( ( uint32_t )now.CalendarTime.Minutes * SecondsInMinute ) +
 888              		.loc 1 660 66 is_stmt 0 view .LVU271
 889 0078 9DF80620 		ldrb	r2, [sp, #6]	@ zero_extendqisi2
 662:Core/Src/boards/NucleoL476/rtc-board.c ****                      ( ( uint32_t )( now.CalendarDate.Date * SecondsInDay ) ) );
 890              		.loc 1 662 52 view .LVU272
 891 007c 9DF80410 		ldrb	r1, [sp, #4]	@ zero_extendqisi2
 661:Core/Src/boards/NucleoL476/rtc-board.c ****                      ( ( uint32_t )now.CalendarTime.Hours * SecondsInHour ) +
 892              		.loc 1 661 52 view .LVU273
 893 0080 9DF80530 		ldrb	r3, [sp, #5]	@ zero_extendqisi2
 661:Core/Src/boards/NucleoL476/rtc-board.c ****                      ( ( uint32_t )now.CalendarTime.Hours * SecondsInHour ) +
 894              		.loc 1 661 61 view .LVU274
 895 0084 C3EB0313 		rsb	r3, r3, r3, lsl #4
 896 0088 9B00     		lsls	r3, r3, #2
 661:Core/Src/boards/NucleoL476/rtc-board.c ****                      ( ( uint32_t )now.CalendarTime.Hours * SecondsInHour ) +
 897              		.loc 1 661 81 view .LVU275
 898 008a 4FF4616C 		mov	ip, #3600
 899 008e 0CFB0133 		mla	r3, ip, r1, r3
 900 0092 1344     		add	r3, r3, r2
 663:Core/Src/boards/NucleoL476/rtc-board.c **** 
 901              		.loc 1 663 54 view .LVU276
 902 0094 9DF80220 		ldrb	r2, [sp, #2]	@ zero_extendqisi2
 660:Core/Src/boards/NucleoL476/rtc-board.c ****                      ( ( uint32_t )now.CalendarTime.Minutes * SecondsInMinute ) +
 903              		.loc 1 660 24 view .LVU277
 904 0098 0D49     		ldr	r1, .L61+4
 905 009a 01FB0233 		mla	r3, r1, r2, r3
 660:Core/Src/boards/NucleoL476/rtc-board.c ****                      ( ( uint32_t )now.CalendarTime.Minutes * SecondsInMinute ) +
 906              		.loc 1 660 21 view .LVU278
 907 009e 1844     		add	r0, r0, r3
 908              	.LVL104:
 665:Core/Src/boards/NucleoL476/rtc-board.c **** 
 909              		.loc 1 665 5 is_stmt 1 view .LVU279
 665:Core/Src/boards/NucleoL476/rtc-board.c **** 
 910              		.loc 1 665 84 is_stmt 0 view .LVU280
 911 00a0 029B     		ldr	r3, [sp, #8]
 665:Core/Src/boards/NucleoL476/rtc-board.c **** 
 912              		.loc 1 665 53 view .LVU281
 913 00a2 C3EBC020 		rsb	r0, r3, r0, lsl #11
 914              	.LVL105:
 667:Core/Src/boards/NucleoL476/rtc-board.c **** }
 915              		.loc 1 667 5 is_stmt 1 view .LVU282
 668:Core/Src/boards/NucleoL476/rtc-board.c **** 
 916              		.loc 1 668 1 is_stmt 0 view .LVU283
 917 00a6 00F2FF70 		addw	r0, r0, #2047
 918              	.LVL106:
 668:Core/Src/boards/NucleoL476/rtc-board.c **** 
 919              		.loc 1 668 1 view .LVU284
 920 00aa 07B0     		add	sp, sp, #28
 921              	.LCFI16:
 922              		.cfi_remember_state
 923              		.cfi_def_cfa_offset 4
 924              		@ sp needed
 925 00ac 5DF804FB 		ldr	pc, [sp], #4
 926              	.LVL107:
 927              	.L57:
 928              	.LCFI17:
 929              		.cfi_restore_state
 930              	.LBB7:
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccPg5CgU.s 			page 32


 656:Core/Src/boards/NucleoL476/rtc-board.c ****         }
 931              		.loc 1 656 13 is_stmt 1 discriminator 3 view .LVU285
 656:Core/Src/boards/NucleoL476/rtc-board.c ****         }
 932              		.loc 1 656 57 is_stmt 0 discriminator 3 view .LVU286
 933 00b0 084A     		ldr	r2, .L61+8
 934 00b2 D25C     		ldrb	r2, [r2, r3]	@ zero_extendqisi2
 656:Core/Src/boards/NucleoL476/rtc-board.c ****         }
 935              		.loc 1 656 29 discriminator 3 view .LVU287
 936 00b4 0649     		ldr	r1, .L61+4
 937 00b6 01FB0200 		mla	r0, r1, r2, r0
 938              	.LVL108:
 654:Core/Src/boards/NucleoL476/rtc-board.c ****         {
 939              		.loc 1 654 66 is_stmt 1 discriminator 3 view .LVU288
 654:Core/Src/boards/NucleoL476/rtc-board.c ****         {
 940              		.loc 1 654 67 is_stmt 0 discriminator 3 view .LVU289
 941 00ba 0133     		adds	r3, r3, #1
 942              	.LVL109:
 654:Core/Src/boards/NucleoL476/rtc-board.c ****         {
 943              		.loc 1 654 67 discriminator 3 view .LVU290
 944 00bc DBB2     		uxtb	r3, r3
 945              	.LVL110:
 946              	.L53:
 654:Core/Src/boards/NucleoL476/rtc-board.c ****         {
 947              		.loc 1 654 30 is_stmt 1 discriminator 1 view .LVU291
 654:Core/Src/boards/NucleoL476/rtc-board.c ****         {
 948              		.loc 1 654 52 is_stmt 0 discriminator 1 view .LVU292
 949 00be 9DF80120 		ldrb	r2, [sp, #1]	@ zero_extendqisi2
 654:Core/Src/boards/NucleoL476/rtc-board.c ****         {
 950              		.loc 1 654 59 discriminator 1 view .LVU293
 951 00c2 013A     		subs	r2, r2, #1
 654:Core/Src/boards/NucleoL476/rtc-board.c ****         {
 952              		.loc 1 654 9 discriminator 1 view .LVU294
 953 00c4 9342     		cmp	r3, r2
 954 00c6 F3DB     		blt	.L57
 654:Core/Src/boards/NucleoL476/rtc-board.c ****         {
 955              		.loc 1 654 9 discriminator 1 view .LVU295
 956 00c8 D6E7     		b	.L56
 957              	.L62:
 958 00ca 00BF     		.align	2
 959              	.L61:
 960 00cc 00000000 		.word	.LANCHOR0
 961 00d0 80510100 		.word	86400
 962 00d4 00000000 		.word	.LANCHOR1
 963              	.LBE7:
 964              		.cfi_endproc
 965              	.LFE149:
 967              		.section	.text.RtcInit,"ax",%progbits
 968              		.align	1
 969              		.global	RtcInit
 970              		.syntax unified
 971              		.thumb
 972              		.thumb_func
 973              		.fpu fpv4-sp-d16
 975              	RtcInit:
 976              	.LFB135:
 188:Core/Src/boards/NucleoL476/rtc-board.c ****     RtcCalendar_t rtcInit;
 977              		.loc 1 188 1 is_stmt 1 view -0
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccPg5CgU.s 			page 33


 978              		.cfi_startproc
 979              		@ args = 0, pretend = 0, frame = 24
 980              		@ frame_needed = 0, uses_anonymous_args = 0
 189:Core/Src/boards/NucleoL476/rtc-board.c **** 
 981              		.loc 1 189 5 view .LVU297
 191:Core/Src/boards/NucleoL476/rtc-board.c ****     {
 982              		.loc 1 191 5 view .LVU298
 191:Core/Src/boards/NucleoL476/rtc-board.c ****     {
 983              		.loc 1 191 24 is_stmt 0 view .LVU299
 984 0000 254B     		ldr	r3, .L70
 985 0002 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 191:Core/Src/boards/NucleoL476/rtc-board.c ****     {
 986              		.loc 1 191 7 view .LVU300
 987 0004 03B1     		cbz	r3, .L69
 988 0006 7047     		bx	lr
 989              	.L69:
 188:Core/Src/boards/NucleoL476/rtc-board.c ****     RtcCalendar_t rtcInit;
 990              		.loc 1 188 1 view .LVU301
 991 0008 70B5     		push	{r4, r5, r6, lr}
 992              	.LCFI18:
 993              		.cfi_def_cfa_offset 16
 994              		.cfi_offset 4, -16
 995              		.cfi_offset 5, -12
 996              		.cfi_offset 6, -8
 997              		.cfi_offset 14, -4
 998 000a 86B0     		sub	sp, sp, #24
 999              	.LCFI19:
 1000              		.cfi_def_cfa_offset 40
 193:Core/Src/boards/NucleoL476/rtc-board.c **** 
 1001              		.loc 1 193 9 is_stmt 1 view .LVU302
 1002 000c 234A     		ldr	r2, .L70+4
 1003 000e D2F89030 		ldr	r3, [r2, #144]
 1004 0012 43F40043 		orr	r3, r3, #32768
 1005 0016 C2F89030 		str	r3, [r2, #144]
 195:Core/Src/boards/NucleoL476/rtc-board.c ****         RtcHandle.Init.HourFormat = RTC_HOURFORMAT_24;
 1006              		.loc 1 195 9 view .LVU303
 195:Core/Src/boards/NucleoL476/rtc-board.c ****         RtcHandle.Init.HourFormat = RTC_HOURFORMAT_24;
 1007              		.loc 1 195 28 is_stmt 0 view .LVU304
 1008 001a 214D     		ldr	r5, .L70+8
 1009 001c 214B     		ldr	r3, .L70+12
 1010 001e 2B60     		str	r3, [r5]
 196:Core/Src/boards/NucleoL476/rtc-board.c ****         RtcHandle.Init.AsynchPrediv = PREDIV_A; // RTC_ASYNCH_PREDIV;
 1011              		.loc 1 196 9 is_stmt 1 view .LVU305
 196:Core/Src/boards/NucleoL476/rtc-board.c ****         RtcHandle.Init.AsynchPrediv = PREDIV_A; // RTC_ASYNCH_PREDIV;
 1012              		.loc 1 196 35 is_stmt 0 view .LVU306
 1013 0020 0024     		movs	r4, #0
 1014 0022 6C60     		str	r4, [r5, #4]
 197:Core/Src/boards/NucleoL476/rtc-board.c ****         RtcHandle.Init.SynchPrediv = PREDIV_S;  // RTC_SYNCH_PREDIV;
 1015              		.loc 1 197 9 is_stmt 1 view .LVU307
 197:Core/Src/boards/NucleoL476/rtc-board.c ****         RtcHandle.Init.SynchPrediv = PREDIV_S;  // RTC_SYNCH_PREDIV;
 1016              		.loc 1 197 37 is_stmt 0 view .LVU308
 1017 0024 0F23     		movs	r3, #15
 1018 0026 AB60     		str	r3, [r5, #8]
 198:Core/Src/boards/NucleoL476/rtc-board.c **** 
 1019              		.loc 1 198 9 is_stmt 1 view .LVU309
 198:Core/Src/boards/NucleoL476/rtc-board.c **** 
 1020              		.loc 1 198 36 is_stmt 0 view .LVU310
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccPg5CgU.s 			page 34


 1021 0028 40F2FF73 		movw	r3, #2047
 1022 002c EB60     		str	r3, [r5, #12]
 200:Core/Src/boards/NucleoL476/rtc-board.c ****         RtcHandle.Init.OutPutRemap = RTC_OUTPUT_REMAP_NONE;
 1023              		.loc 1 200 9 is_stmt 1 view .LVU311
 200:Core/Src/boards/NucleoL476/rtc-board.c ****         RtcHandle.Init.OutPutRemap = RTC_OUTPUT_REMAP_NONE;
 1024              		.loc 1 200 31 is_stmt 0 view .LVU312
 1025 002e 2C61     		str	r4, [r5, #16]
 201:Core/Src/boards/NucleoL476/rtc-board.c ****         RtcHandle.Init.OutPutPolarity = RTC_OUTPUT_POLARITY_HIGH;
 1026              		.loc 1 201 9 is_stmt 1 view .LVU313
 201:Core/Src/boards/NucleoL476/rtc-board.c ****         RtcHandle.Init.OutPutPolarity = RTC_OUTPUT_POLARITY_HIGH;
 1027              		.loc 1 201 36 is_stmt 0 view .LVU314
 1028 0030 6C61     		str	r4, [r5, #20]
 202:Core/Src/boards/NucleoL476/rtc-board.c ****         RtcHandle.Init.OutPutType = RTC_OUTPUT_TYPE_OPENDRAIN;
 1029              		.loc 1 202 9 is_stmt 1 view .LVU315
 202:Core/Src/boards/NucleoL476/rtc-board.c ****         RtcHandle.Init.OutPutType = RTC_OUTPUT_TYPE_OPENDRAIN;
 1030              		.loc 1 202 39 is_stmt 0 view .LVU316
 1031 0032 AC61     		str	r4, [r5, #24]
 203:Core/Src/boards/NucleoL476/rtc-board.c ****         HAL_RTC_Init( &RtcHandle );
 1032              		.loc 1 203 9 is_stmt 1 view .LVU317
 203:Core/Src/boards/NucleoL476/rtc-board.c ****         HAL_RTC_Init( &RtcHandle );
 1033              		.loc 1 203 35 is_stmt 0 view .LVU318
 1034 0034 EC61     		str	r4, [r5, #28]
 204:Core/Src/boards/NucleoL476/rtc-board.c **** 
 1035              		.loc 1 204 9 is_stmt 1 view .LVU319
 1036 0036 2846     		mov	r0, r5
 1037 0038 FFF7FEFF 		bl	HAL_RTC_Init
 1038              	.LVL111:
 207:Core/Src/boards/NucleoL476/rtc-board.c ****         rtcInit.CalendarDate.Month = RTC_MONTH_JANUARY;
 1039              		.loc 1 207 9 view .LVU320
 207:Core/Src/boards/NucleoL476/rtc-board.c ****         rtcInit.CalendarDate.Month = RTC_MONTH_JANUARY;
 1040              		.loc 1 207 35 is_stmt 0 view .LVU321
 1041 003c 8DF80340 		strb	r4, [sp, #3]
 208:Core/Src/boards/NucleoL476/rtc-board.c ****         rtcInit.CalendarDate.Date = 1;
 1042              		.loc 1 208 9 is_stmt 1 view .LVU322
 208:Core/Src/boards/NucleoL476/rtc-board.c ****         rtcInit.CalendarDate.Date = 1;
 1043              		.loc 1 208 36 is_stmt 0 view .LVU323
 1044 0040 0126     		movs	r6, #1
 1045 0042 8DF80160 		strb	r6, [sp, #1]
 209:Core/Src/boards/NucleoL476/rtc-board.c ****         rtcInit.CalendarDate.WeekDay = RTC_WEEKDAY_SATURDAY;
 1046              		.loc 1 209 9 is_stmt 1 view .LVU324
 209:Core/Src/boards/NucleoL476/rtc-board.c ****         rtcInit.CalendarDate.WeekDay = RTC_WEEKDAY_SATURDAY;
 1047              		.loc 1 209 35 is_stmt 0 view .LVU325
 1048 0046 8DF80260 		strb	r6, [sp, #2]
 210:Core/Src/boards/NucleoL476/rtc-board.c ****         HAL_RTC_SetDate( &RtcHandle, &rtcInit.CalendarDate, RTC_FORMAT_BIN );
 1049              		.loc 1 210 9 is_stmt 1 view .LVU326
 210:Core/Src/boards/NucleoL476/rtc-board.c ****         HAL_RTC_SetDate( &RtcHandle, &rtcInit.CalendarDate, RTC_FORMAT_BIN );
 1050              		.loc 1 210 38 is_stmt 0 view .LVU327
 1051 004a 0623     		movs	r3, #6
 1052 004c 8DF80030 		strb	r3, [sp]
 211:Core/Src/boards/NucleoL476/rtc-board.c **** 
 1053              		.loc 1 211 9 is_stmt 1 view .LVU328
 1054 0050 2246     		mov	r2, r4
 1055 0052 6946     		mov	r1, sp
 1056 0054 2846     		mov	r0, r5
 1057 0056 FFF7FEFF 		bl	HAL_RTC_SetDate
 1058              	.LVL112:
 214:Core/Src/boards/NucleoL476/rtc-board.c ****         rtcInit.CalendarTime.Minutes = 0;
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccPg5CgU.s 			page 35


 1059              		.loc 1 214 9 view .LVU329
 214:Core/Src/boards/NucleoL476/rtc-board.c ****         rtcInit.CalendarTime.Minutes = 0;
 1060              		.loc 1 214 36 is_stmt 0 view .LVU330
 1061 005a 8DF80440 		strb	r4, [sp, #4]
 215:Core/Src/boards/NucleoL476/rtc-board.c ****         rtcInit.CalendarTime.Seconds = 0;
 1062              		.loc 1 215 9 is_stmt 1 view .LVU331
 215:Core/Src/boards/NucleoL476/rtc-board.c ****         rtcInit.CalendarTime.Seconds = 0;
 1063              		.loc 1 215 38 is_stmt 0 view .LVU332
 1064 005e 8DF80540 		strb	r4, [sp, #5]
 216:Core/Src/boards/NucleoL476/rtc-board.c ****         rtcInit.CalendarTime.SecondFraction = 0;
 1065              		.loc 1 216 9 is_stmt 1 view .LVU333
 216:Core/Src/boards/NucleoL476/rtc-board.c ****         rtcInit.CalendarTime.SecondFraction = 0;
 1066              		.loc 1 216 38 is_stmt 0 view .LVU334
 1067 0062 8DF80640 		strb	r4, [sp, #6]
 217:Core/Src/boards/NucleoL476/rtc-board.c ****         rtcInit.CalendarTime.TimeFormat = RTC_HOURFORMAT12_AM;
 1068              		.loc 1 217 9 is_stmt 1 view .LVU335
 217:Core/Src/boards/NucleoL476/rtc-board.c ****         rtcInit.CalendarTime.TimeFormat = RTC_HOURFORMAT12_AM;
 1069              		.loc 1 217 45 is_stmt 0 view .LVU336
 1070 0066 0394     		str	r4, [sp, #12]
 218:Core/Src/boards/NucleoL476/rtc-board.c ****         rtcInit.CalendarTime.DayLightSaving = RTC_DAYLIGHTSAVING_NONE;
 1071              		.loc 1 218 9 is_stmt 1 view .LVU337
 218:Core/Src/boards/NucleoL476/rtc-board.c ****         rtcInit.CalendarTime.DayLightSaving = RTC_DAYLIGHTSAVING_NONE;
 1072              		.loc 1 218 41 is_stmt 0 view .LVU338
 1073 0068 8DF80740 		strb	r4, [sp, #7]
 219:Core/Src/boards/NucleoL476/rtc-board.c ****         rtcInit.CalendarTime.StoreOperation = RTC_STOREOPERATION_RESET;
 1074              		.loc 1 219 9 is_stmt 1 view .LVU339
 219:Core/Src/boards/NucleoL476/rtc-board.c ****         rtcInit.CalendarTime.StoreOperation = RTC_STOREOPERATION_RESET;
 1075              		.loc 1 219 45 is_stmt 0 view .LVU340
 1076 006c 0494     		str	r4, [sp, #16]
 220:Core/Src/boards/NucleoL476/rtc-board.c ****         HAL_RTC_SetTime( &RtcHandle, &rtcInit.CalendarTime, RTC_FORMAT_BIN );
 1077              		.loc 1 220 9 is_stmt 1 view .LVU341
 220:Core/Src/boards/NucleoL476/rtc-board.c ****         HAL_RTC_SetTime( &RtcHandle, &rtcInit.CalendarTime, RTC_FORMAT_BIN );
 1078              		.loc 1 220 45 is_stmt 0 view .LVU342
 1079 006e 0594     		str	r4, [sp, #20]
 221:Core/Src/boards/NucleoL476/rtc-board.c **** 
 1080              		.loc 1 221 9 is_stmt 1 view .LVU343
 1081 0070 2246     		mov	r2, r4
 1082 0072 01A9     		add	r1, sp, #4
 1083 0074 2846     		mov	r0, r5
 1084 0076 FFF7FEFF 		bl	HAL_RTC_SetTime
 1085              	.LVL113:
 224:Core/Src/boards/NucleoL476/rtc-board.c **** 
 1086              		.loc 1 224 9 view .LVU344
 1087 007a 2846     		mov	r0, r5
 1088 007c FFF7FEFF 		bl	HAL_RTCEx_EnableBypassShadow
 1089              	.LVL114:
 226:Core/Src/boards/NucleoL476/rtc-board.c ****         HAL_NVIC_EnableIRQ( RTC_Alarm_IRQn );
 1090              		.loc 1 226 9 view .LVU345
 1091 0080 2246     		mov	r2, r4
 1092 0082 3146     		mov	r1, r6
 1093 0084 2920     		movs	r0, #41
 1094 0086 FFF7FEFF 		bl	HAL_NVIC_SetPriority
 1095              	.LVL115:
 227:Core/Src/boards/NucleoL476/rtc-board.c ****         RtcInitialized = true;
 1096              		.loc 1 227 9 view .LVU346
 1097 008a 2920     		movs	r0, #41
 1098 008c FFF7FEFF 		bl	HAL_NVIC_EnableIRQ
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccPg5CgU.s 			page 36


 1099              	.LVL116:
 228:Core/Src/boards/NucleoL476/rtc-board.c ****     }
 1100              		.loc 1 228 9 view .LVU347
 228:Core/Src/boards/NucleoL476/rtc-board.c ****     }
 1101              		.loc 1 228 24 is_stmt 0 view .LVU348
 1102 0090 014B     		ldr	r3, .L70
 1103 0092 1E70     		strb	r6, [r3]
 230:Core/Src/boards/NucleoL476/rtc-board.c **** 
 1104              		.loc 1 230 1 view .LVU349
 1105 0094 06B0     		add	sp, sp, #24
 1106              	.LCFI20:
 1107              		.cfi_def_cfa_offset 16
 1108              		@ sp needed
 1109 0096 70BD     		pop	{r4, r5, r6, pc}
 1110              	.L71:
 1111              		.align	2
 1112              	.L70:
 1113 0098 00000000 		.word	.LANCHOR4
 1114 009c 00100240 		.word	1073876992
 1115 00a0 00000000 		.word	.LANCHOR2
 1116 00a4 00280040 		.word	1073752064
 1117              		.cfi_endproc
 1118              	.LFE135:
 1120              		.section	.text.RtcSetTimeout,"ax",%progbits
 1121              		.align	1
 1122              		.global	RtcSetTimeout
 1123              		.syntax unified
 1124              		.thumb
 1125              		.thumb_func
 1126              		.fpu fpv4-sp-d16
 1128              	RtcSetTimeout:
 1129              	.LVL117:
 1130              	.LFB136:
 233:Core/Src/boards/NucleoL476/rtc-board.c ****     RtcStartWakeUpAlarm( RtcConvertMsToTick( timeout ) );
 1131              		.loc 1 233 1 is_stmt 1 view -0
 1132              		.cfi_startproc
 1133              		@ args = 0, pretend = 0, frame = 0
 1134              		@ frame_needed = 0, uses_anonymous_args = 0
 233:Core/Src/boards/NucleoL476/rtc-board.c ****     RtcStartWakeUpAlarm( RtcConvertMsToTick( timeout ) );
 1135              		.loc 1 233 1 is_stmt 0 view .LVU351
 1136 0000 08B5     		push	{r3, lr}
 1137              	.LCFI21:
 1138              		.cfi_def_cfa_offset 8
 1139              		.cfi_offset 3, -8
 1140              		.cfi_offset 14, -4
 234:Core/Src/boards/NucleoL476/rtc-board.c **** }
 1141              		.loc 1 234 5 is_stmt 1 view .LVU352
 1142 0002 FFF7FEFF 		bl	RtcConvertMsToTick
 1143              	.LVL118:
 234:Core/Src/boards/NucleoL476/rtc-board.c **** }
 1144              		.loc 1 234 5 is_stmt 0 view .LVU353
 1145 0006 FFF7FEFF 		bl	RtcStartWakeUpAlarm
 1146              	.LVL119:
 235:Core/Src/boards/NucleoL476/rtc-board.c **** 
 1147              		.loc 1 235 1 view .LVU354
 1148 000a 08BD     		pop	{r3, pc}
 1149              		.cfi_endproc
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccPg5CgU.s 			page 37


 1150              	.LFE136:
 1152              		.section	.text.RtcGetAdjustedTimeoutValue,"ax",%progbits
 1153              		.align	1
 1154              		.global	RtcGetAdjustedTimeoutValue
 1155              		.syntax unified
 1156              		.thumb
 1157              		.thumb_func
 1158              		.fpu fpv4-sp-d16
 1160              	RtcGetAdjustedTimeoutValue:
 1161              	.LVL120:
 1162              	.LFB137:
 238:Core/Src/boards/NucleoL476/rtc-board.c ****     if( timeout > McuWakeUpTime )
 1163              		.loc 1 238 1 is_stmt 1 view -0
 1164              		.cfi_startproc
 1165              		@ args = 0, pretend = 0, frame = 0
 1166              		@ frame_needed = 0, uses_anonymous_args = 0
 1167              		@ link register save eliminated.
 239:Core/Src/boards/NucleoL476/rtc-board.c ****     {   // we have waken up from a GPIO and we have lost "McuWakeUpTime" that we need to compensate
 1168              		.loc 1 239 5 view .LVU356
 239:Core/Src/boards/NucleoL476/rtc-board.c ****     {   // we have waken up from a GPIO and we have lost "McuWakeUpTime" that we need to compensate
 1169              		.loc 1 239 17 is_stmt 0 view .LVU357
 1170 0000 0E4B     		ldr	r3, .L78
 1171 0002 1B68     		ldr	r3, [r3]
 239:Core/Src/boards/NucleoL476/rtc-board.c ****     {   // we have waken up from a GPIO and we have lost "McuWakeUpTime" that we need to compensate
 1172              		.loc 1 239 7 view .LVU358
 1173 0004 8342     		cmp	r3, r0
 1174 0006 08D2     		bcs	.L75
 241:Core/Src/boards/NucleoL476/rtc-board.c ****         {
 1175              		.loc 1 241 9 is_stmt 1 view .LVU359
 241:Core/Src/boards/NucleoL476/rtc-board.c ****         {
 1176              		.loc 1 241 32 is_stmt 0 view .LVU360
 1177 0008 0D4B     		ldr	r3, .L78+4
 1178 000a 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 241:Core/Src/boards/NucleoL476/rtc-board.c ****         {
 1179              		.loc 1 241 11 view .LVU361
 1180 000c 2BB1     		cbz	r3, .L75
 243:Core/Src/boards/NucleoL476/rtc-board.c ****             timeout -= McuWakeUpTime;
 1181              		.loc 1 243 13 is_stmt 1 view .LVU362
 243:Core/Src/boards/NucleoL476/rtc-board.c ****             timeout -= McuWakeUpTime;
 1182              		.loc 1 243 32 is_stmt 0 view .LVU363
 1183 000e 0C4B     		ldr	r3, .L78+4
 1184 0010 0022     		movs	r2, #0
 1185 0012 1A70     		strb	r2, [r3]
 244:Core/Src/boards/NucleoL476/rtc-board.c ****         }
 1186              		.loc 1 244 13 is_stmt 1 view .LVU364
 1187 0014 094B     		ldr	r3, .L78
 1188 0016 1B68     		ldr	r3, [r3]
 244:Core/Src/boards/NucleoL476/rtc-board.c ****         }
 1189              		.loc 1 244 21 is_stmt 0 view .LVU365
 1190 0018 C01A     		subs	r0, r0, r3
 1191              	.LVL121:
 1192              	.L75:
 248:Core/Src/boards/NucleoL476/rtc-board.c ****     {   // we don't go in Low Power mode for delay below 50ms (needed for LEDs)
 1193              		.loc 1 248 5 is_stmt 1 view .LVU366
 248:Core/Src/boards/NucleoL476/rtc-board.c ****     {   // we don't go in Low Power mode for delay below 50ms (needed for LEDs)
 1194              		.loc 1 248 17 is_stmt 0 view .LVU367
 1195 001a 084B     		ldr	r3, .L78
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccPg5CgU.s 			page 38


 1196 001c 1B68     		ldr	r3, [r3]
 248:Core/Src/boards/NucleoL476/rtc-board.c ****     {   // we don't go in Low Power mode for delay below 50ms (needed for LEDs)
 1197              		.loc 1 248 7 view .LVU368
 1198 001e 8342     		cmp	r3, r0
 1199 0020 0BD2     		bcs	.L76
 250:Core/Src/boards/NucleoL476/rtc-board.c ****         {
 1200              		.loc 1 250 9 is_stmt 1 view .LVU369
 250:Core/Src/boards/NucleoL476/rtc-board.c ****         {
 1201              		.loc 1 250 11 is_stmt 0 view .LVU370
 1202 0022 3128     		cmp	r0, #49
 1203 0024 03D8     		bhi	.L77
 252:Core/Src/boards/NucleoL476/rtc-board.c ****         }
 1204              		.loc 1 252 13 is_stmt 1 view .LVU371
 252:Core/Src/boards/NucleoL476/rtc-board.c ****         }
 1205              		.loc 1 252 41 is_stmt 0 view .LVU372
 1206 0026 074B     		ldr	r3, .L78+8
 1207 0028 0022     		movs	r2, #0
 1208 002a 1A70     		strb	r2, [r3]
 1209 002c 7047     		bx	lr
 1210              	.L77:
 256:Core/Src/boards/NucleoL476/rtc-board.c ****             timeout -= McuWakeUpTime;
 1211              		.loc 1 256 13 is_stmt 1 view .LVU373
 256:Core/Src/boards/NucleoL476/rtc-board.c ****             timeout -= McuWakeUpTime;
 1212              		.loc 1 256 41 is_stmt 0 view .LVU374
 1213 002e 054B     		ldr	r3, .L78+8
 1214 0030 0122     		movs	r2, #1
 1215 0032 1A70     		strb	r2, [r3]
 257:Core/Src/boards/NucleoL476/rtc-board.c ****         }
 1216              		.loc 1 257 13 is_stmt 1 view .LVU375
 1217 0034 014B     		ldr	r3, .L78
 1218 0036 1B68     		ldr	r3, [r3]
 257:Core/Src/boards/NucleoL476/rtc-board.c ****         }
 1219              		.loc 1 257 21 is_stmt 0 view .LVU376
 1220 0038 C01A     		subs	r0, r0, r3
 1221              	.LVL122:
 1222              	.L76:
 260:Core/Src/boards/NucleoL476/rtc-board.c **** }
 1223              		.loc 1 260 5 is_stmt 1 view .LVU377
 261:Core/Src/boards/NucleoL476/rtc-board.c **** 
 1224              		.loc 1 261 1 is_stmt 0 view .LVU378
 1225 003a 7047     		bx	lr
 1226              	.L79:
 1227              		.align	2
 1228              	.L78:
 1229 003c 00000000 		.word	.LANCHOR5
 1230 0040 00000000 		.word	.LANCHOR6
 1231 0044 00000000 		.word	.LANCHOR7
 1232              		.cfi_endproc
 1233              	.LFE137:
 1235              		.section	.text.RtcGetTimerValue,"ax",%progbits
 1236              		.align	1
 1237              		.global	RtcGetTimerValue
 1238              		.syntax unified
 1239              		.thumb
 1240              		.thumb_func
 1241              		.fpu fpv4-sp-d16
 1243              	RtcGetTimerValue:
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccPg5CgU.s 			page 39


 1244              	.LFB138:
 264:Core/Src/boards/NucleoL476/rtc-board.c ****     TimerTime_t retVal = 0;
 1245              		.loc 1 264 1 is_stmt 1 view -0
 1246              		.cfi_startproc
 1247              		@ args = 0, pretend = 0, frame = 0
 1248              		@ frame_needed = 0, uses_anonymous_args = 0
 1249 0000 08B5     		push	{r3, lr}
 1250              	.LCFI22:
 1251              		.cfi_def_cfa_offset 8
 1252              		.cfi_offset 3, -8
 1253              		.cfi_offset 14, -4
 265:Core/Src/boards/NucleoL476/rtc-board.c ****     retVal = RtcConvertCalendarTickToTimerTime( NULL );
 1254              		.loc 1 265 5 view .LVU380
 1255              	.LVL123:
 266:Core/Src/boards/NucleoL476/rtc-board.c ****     RtcConvertTickToMs( retVal );
 1256              		.loc 1 266 5 view .LVU381
 266:Core/Src/boards/NucleoL476/rtc-board.c ****     RtcConvertTickToMs( retVal );
 1257              		.loc 1 266 14 is_stmt 0 view .LVU382
 1258 0002 0020     		movs	r0, #0
 1259 0004 FFF7FEFF 		bl	RtcConvertCalendarTickToTimerTime
 1260              	.LVL124:
 267:Core/Src/boards/NucleoL476/rtc-board.c **** 
 1261              		.loc 1 267 5 is_stmt 1 view .LVU383
 269:Core/Src/boards/NucleoL476/rtc-board.c **** }
 1262              		.loc 1 269 5 view .LVU384
 269:Core/Src/boards/NucleoL476/rtc-board.c **** }
 1263              		.loc 1 269 13 is_stmt 0 view .LVU385
 1264 0008 FFF7FEFF 		bl	RtcConvertTickToMs
 1265              	.LVL125:
 270:Core/Src/boards/NucleoL476/rtc-board.c **** 
 1266              		.loc 1 270 1 view .LVU386
 1267 000c 08BD     		pop	{r3, pc}
 1268              		.cfi_endproc
 1269              	.LFE138:
 1271              		.section	.text.RtcGetElapsedAlarmTime,"ax",%progbits
 1272              		.align	1
 1273              		.global	RtcGetElapsedAlarmTime
 1274              		.syntax unified
 1275              		.thumb
 1276              		.thumb_func
 1277              		.fpu fpv4-sp-d16
 1279              	RtcGetElapsedAlarmTime:
 1280              	.LFB139:
 273:Core/Src/boards/NucleoL476/rtc-board.c ****     TimerTime_t retVal = 0;
 1281              		.loc 1 273 1 is_stmt 1 view -0
 1282              		.cfi_startproc
 1283              		@ args = 0, pretend = 0, frame = 0
 1284              		@ frame_needed = 0, uses_anonymous_args = 0
 1285 0000 10B5     		push	{r4, lr}
 1286              	.LCFI23:
 1287              		.cfi_def_cfa_offset 8
 1288              		.cfi_offset 4, -8
 1289              		.cfi_offset 14, -4
 274:Core/Src/boards/NucleoL476/rtc-board.c ****     TimerTime_t currentTime = 0;
 1290              		.loc 1 274 5 view .LVU388
 1291              	.LVL126:
 275:Core/Src/boards/NucleoL476/rtc-board.c ****     TimerTime_t contextTime = 0;
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccPg5CgU.s 			page 40


 1292              		.loc 1 275 5 view .LVU389
 276:Core/Src/boards/NucleoL476/rtc-board.c **** 
 1293              		.loc 1 276 5 view .LVU390
 278:Core/Src/boards/NucleoL476/rtc-board.c ****     contextTime = RtcConvertCalendarTickToTimerTime( &RtcCalendarContext );
 1294              		.loc 1 278 5 view .LVU391
 278:Core/Src/boards/NucleoL476/rtc-board.c ****     contextTime = RtcConvertCalendarTickToTimerTime( &RtcCalendarContext );
 1295              		.loc 1 278 19 is_stmt 0 view .LVU392
 1296 0002 0020     		movs	r0, #0
 1297 0004 FFF7FEFF 		bl	RtcConvertCalendarTickToTimerTime
 1298              	.LVL127:
 1299 0008 0446     		mov	r4, r0
 1300              	.LVL128:
 279:Core/Src/boards/NucleoL476/rtc-board.c **** 
 1301              		.loc 1 279 5 is_stmt 1 view .LVU393
 279:Core/Src/boards/NucleoL476/rtc-board.c **** 
 1302              		.loc 1 279 19 is_stmt 0 view .LVU394
 1303 000a 0648     		ldr	r0, .L86
 1304              	.LVL129:
 279:Core/Src/boards/NucleoL476/rtc-board.c **** 
 1305              		.loc 1 279 19 view .LVU395
 1306 000c FFF7FEFF 		bl	RtcConvertCalendarTickToTimerTime
 1307              	.LVL130:
 281:Core/Src/boards/NucleoL476/rtc-board.c ****     {
 1308              		.loc 1 281 5 is_stmt 1 view .LVU396
 281:Core/Src/boards/NucleoL476/rtc-board.c ****     {
 1309              		.loc 1 281 7 is_stmt 0 view .LVU397
 1310 0010 8442     		cmp	r4, r0
 1311 0012 04D2     		bcs	.L83
 283:Core/Src/boards/NucleoL476/rtc-board.c ****     }
 1312              		.loc 1 283 9 is_stmt 1 view .LVU398
 283:Core/Src/boards/NucleoL476/rtc-board.c ****     }
 1313              		.loc 1 283 32 is_stmt 0 view .LVU399
 1314 0014 241A     		subs	r4, r4, r0
 1315              	.LVL131:
 283:Core/Src/boards/NucleoL476/rtc-board.c ****     }
 1316              		.loc 1 283 16 view .LVU400
 1317 0016 601E     		subs	r0, r4, #1
 1318              	.LVL132:
 1319              	.L84:
 289:Core/Src/boards/NucleoL476/rtc-board.c **** }
 1320              		.loc 1 289 5 is_stmt 1 view .LVU401
 289:Core/Src/boards/NucleoL476/rtc-board.c **** }
 1321              		.loc 1 289 13 is_stmt 0 view .LVU402
 1322 0018 FFF7FEFF 		bl	RtcConvertTickToMs
 1323              	.LVL133:
 290:Core/Src/boards/NucleoL476/rtc-board.c **** 
 1324              		.loc 1 290 1 view .LVU403
 1325 001c 10BD     		pop	{r4, pc}
 1326              	.LVL134:
 1327              	.L83:
 287:Core/Src/boards/NucleoL476/rtc-board.c ****     }
 1328              		.loc 1 287 9 is_stmt 1 view .LVU404
 287:Core/Src/boards/NucleoL476/rtc-board.c ****     }
 1329              		.loc 1 287 16 is_stmt 0 view .LVU405
 1330 001e 201A     		subs	r0, r4, r0
 1331              	.LVL135:
 287:Core/Src/boards/NucleoL476/rtc-board.c ****     }
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccPg5CgU.s 			page 41


 1332              		.loc 1 287 16 view .LVU406
 1333 0020 FAE7     		b	.L84
 1334              	.L87:
 1335 0022 00BF     		.align	2
 1336              	.L86:
 1337 0024 00000000 		.word	.LANCHOR3
 1338              		.cfi_endproc
 1339              	.LFE139:
 1341              		.section	.text.RtcComputeFutureEventTime,"ax",%progbits
 1342              		.align	1
 1343              		.global	RtcComputeFutureEventTime
 1344              		.syntax unified
 1345              		.thumb
 1346              		.thumb_func
 1347              		.fpu fpv4-sp-d16
 1349              	RtcComputeFutureEventTime:
 1350              	.LVL136:
 1351              	.LFB140:
 293:Core/Src/boards/NucleoL476/rtc-board.c ****     return( RtcGetTimerValue( ) + futureEventInTime );
 1352              		.loc 1 293 1 is_stmt 1 view -0
 1353              		.cfi_startproc
 1354              		@ args = 0, pretend = 0, frame = 0
 1355              		@ frame_needed = 0, uses_anonymous_args = 0
 293:Core/Src/boards/NucleoL476/rtc-board.c ****     return( RtcGetTimerValue( ) + futureEventInTime );
 1356              		.loc 1 293 1 is_stmt 0 view .LVU408
 1357 0000 10B5     		push	{r4, lr}
 1358              	.LCFI24:
 1359              		.cfi_def_cfa_offset 8
 1360              		.cfi_offset 4, -8
 1361              		.cfi_offset 14, -4
 1362 0002 0446     		mov	r4, r0
 294:Core/Src/boards/NucleoL476/rtc-board.c **** }
 1363              		.loc 1 294 5 is_stmt 1 view .LVU409
 294:Core/Src/boards/NucleoL476/rtc-board.c **** }
 1364              		.loc 1 294 13 is_stmt 0 view .LVU410
 1365 0004 FFF7FEFF 		bl	RtcGetTimerValue
 1366              	.LVL137:
 295:Core/Src/boards/NucleoL476/rtc-board.c **** 
 1367              		.loc 1 295 1 view .LVU411
 1368 0008 2044     		add	r0, r0, r4
 1369 000a 10BD     		pop	{r4, pc}
 295:Core/Src/boards/NucleoL476/rtc-board.c **** 
 1370              		.loc 1 295 1 view .LVU412
 1371              		.cfi_endproc
 1372              	.LFE140:
 1374              		.section	.text.RtcComputeElapsedTime,"ax",%progbits
 1375              		.align	1
 1376              		.global	RtcComputeElapsedTime
 1377              		.syntax unified
 1378              		.thumb
 1379              		.thumb_func
 1380              		.fpu fpv4-sp-d16
 1382              	RtcComputeElapsedTime:
 1383              	.LVL138:
 1384              	.LFB141:
 298:Core/Src/boards/NucleoL476/rtc-board.c ****     TimerTime_t elapsedTime = 0;
 1385              		.loc 1 298 1 is_stmt 1 view -0
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccPg5CgU.s 			page 42


 1386              		.cfi_startproc
 1387              		@ args = 0, pretend = 0, frame = 0
 1388              		@ frame_needed = 0, uses_anonymous_args = 0
 298:Core/Src/boards/NucleoL476/rtc-board.c ****     TimerTime_t elapsedTime = 0;
 1389              		.loc 1 298 1 is_stmt 0 view .LVU414
 1390 0000 10B5     		push	{r4, lr}
 1391              	.LCFI25:
 1392              		.cfi_def_cfa_offset 8
 1393              		.cfi_offset 4, -8
 1394              		.cfi_offset 14, -4
 299:Core/Src/boards/NucleoL476/rtc-board.c **** 
 1395              		.loc 1 299 5 is_stmt 1 view .LVU415
 1396              	.LVL139:
 302:Core/Src/boards/NucleoL476/rtc-board.c ****     {
 1397              		.loc 1 302 5 view .LVU416
 302:Core/Src/boards/NucleoL476/rtc-board.c ****     {
 1398              		.loc 1 302 7 is_stmt 0 view .LVU417
 1399 0002 0446     		mov	r4, r0
 1400 0004 08B9     		cbnz	r0, .L94
 1401              	.LVL140:
 1402              	.L91:
 319:Core/Src/boards/NucleoL476/rtc-board.c **** 
 1403              		.loc 1 319 1 view .LVU418
 1404 0006 2046     		mov	r0, r4
 1405 0008 10BD     		pop	{r4, pc}
 1406              	.LVL141:
 1407              	.L94:
 307:Core/Src/boards/NucleoL476/rtc-board.c **** 
 1408              		.loc 1 307 5 is_stmt 1 view .LVU419
 307:Core/Src/boards/NucleoL476/rtc-board.c **** 
 1409              		.loc 1 307 19 is_stmt 0 view .LVU420
 1410 000a 0020     		movs	r0, #0
 1411              	.LVL142:
 307:Core/Src/boards/NucleoL476/rtc-board.c **** 
 1412              		.loc 1 307 19 view .LVU421
 1413 000c FFF7FEFF 		bl	RtcConvertCalendarTickToTimerTime
 1414              	.LVL143:
 309:Core/Src/boards/NucleoL476/rtc-board.c **** 
 1415              		.loc 1 309 5 is_stmt 1 view .LVU422
 309:Core/Src/boards/NucleoL476/rtc-board.c **** 
 1416              		.loc 1 309 19 is_stmt 0 view .LVU423
 1417 0010 FFF7FEFF 		bl	RtcConvertTickToMs
 1418              	.LVL144:
 311:Core/Src/boards/NucleoL476/rtc-board.c ****     { // roll over of the counter
 1419              		.loc 1 311 5 is_stmt 1 view .LVU424
 311:Core/Src/boards/NucleoL476/rtc-board.c ****     { // roll over of the counter
 1420              		.loc 1 311 7 is_stmt 0 view .LVU425
 1421 0014 8442     		cmp	r4, r0
 1422 0016 02D9     		bls	.L92
 313:Core/Src/boards/NucleoL476/rtc-board.c ****     }
 1423              		.loc 1 313 9 is_stmt 1 view .LVU426
 313:Core/Src/boards/NucleoL476/rtc-board.c ****     }
 1424              		.loc 1 313 29 is_stmt 0 view .LVU427
 1425 0018 041B     		subs	r4, r0, r4
 1426              	.LVL145:
 313:Core/Src/boards/NucleoL476/rtc-board.c ****     }
 1427              		.loc 1 313 29 view .LVU428
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccPg5CgU.s 			page 43


 1428 001a 013C     		subs	r4, r4, #1
 1429 001c F3E7     		b	.L91
 1430              	.LVL146:
 1431              	.L92:
 317:Core/Src/boards/NucleoL476/rtc-board.c ****     }
 1432              		.loc 1 317 9 is_stmt 1 view .LVU429
 317:Core/Src/boards/NucleoL476/rtc-board.c ****     }
 1433              		.loc 1 317 29 is_stmt 0 view .LVU430
 1434 001e 041B     		subs	r4, r0, r4
 1435              	.LVL147:
 317:Core/Src/boards/NucleoL476/rtc-board.c ****     }
 1436              		.loc 1 317 29 view .LVU431
 1437 0020 F1E7     		b	.L91
 1438              		.cfi_endproc
 1439              	.LFE141:
 1441              		.section	.text.RtcEnterLowPowerStopMode,"ax",%progbits
 1442              		.align	1
 1443              		.global	RtcEnterLowPowerStopMode
 1444              		.syntax unified
 1445              		.thumb
 1446              		.thumb_func
 1447              		.fpu fpv4-sp-d16
 1449              	RtcEnterLowPowerStopMode:
 1450              	.LFB143:
 331:Core/Src/boards/NucleoL476/rtc-board.c ****     if( ( LowPowerDisableDuringTask == false ) && ( RtcTimerEventAllowsLowPower == true ) )
 1451              		.loc 1 331 1 is_stmt 1 view -0
 1452              		.cfi_startproc
 1453              		@ args = 0, pretend = 0, frame = 0
 1454              		@ frame_needed = 0, uses_anonymous_args = 0
 1455 0000 08B5     		push	{r3, lr}
 1456              	.LCFI26:
 1457              		.cfi_def_cfa_offset 8
 1458              		.cfi_offset 3, -8
 1459              		.cfi_offset 14, -4
 332:Core/Src/boards/NucleoL476/rtc-board.c ****     {
 1460              		.loc 1 332 5 view .LVU433
 332:Core/Src/boards/NucleoL476/rtc-board.c ****     {
 1461              		.loc 1 332 37 is_stmt 0 view .LVU434
 1462 0002 0A4B     		ldr	r3, .L99
 1463 0004 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 332:Core/Src/boards/NucleoL476/rtc-board.c ****     {
 1464              		.loc 1 332 7 view .LVU435
 1465 0006 13B9     		cbnz	r3, .L95
 332:Core/Src/boards/NucleoL476/rtc-board.c ****     {
 1466              		.loc 1 332 81 discriminator 1 view .LVU436
 1467 0008 094B     		ldr	r3, .L99+4
 1468 000a 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 332:Core/Src/boards/NucleoL476/rtc-board.c ****     {
 1469              		.loc 1 332 48 discriminator 1 view .LVU437
 1470 000c 03B9     		cbnz	r3, .L98
 1471              	.L95:
 345:Core/Src/boards/NucleoL476/rtc-board.c **** 
 1472              		.loc 1 345 1 view .LVU438
 1473 000e 08BD     		pop	{r3, pc}
 1474              	.L98:
 334:Core/Src/boards/NucleoL476/rtc-board.c **** 
 1475              		.loc 1 334 9 is_stmt 1 view .LVU439
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccPg5CgU.s 			page 44


 1476 0010 FFF7FEFF 		bl	BoardDeInitMcu
 1477              	.LVL148:
 337:Core/Src/boards/NucleoL476/rtc-board.c **** 
 1478              		.loc 1 337 9 view .LVU440
 1479 0014 FFF7FEFF 		bl	HAL_PWR_DisablePVD
 1480              	.LVL149:
 340:Core/Src/boards/NucleoL476/rtc-board.c **** 
 1481              		.loc 1 340 9 view .LVU441
 1482 0018 0120     		movs	r0, #1
 1483 001a FFF7FEFF 		bl	HAL_PWREx_EnterSTOP2Mode
 1484              	.LVL150:
 343:Core/Src/boards/NucleoL476/rtc-board.c ****     }
 1485              		.loc 1 343 9 view .LVU442
 1486 001e 0121     		movs	r1, #1
 1487 0020 4FF48040 		mov	r0, #16384
 1488 0024 FFF7FEFF 		bl	HAL_PWR_EnterSTOPMode
 1489              	.LVL151:
 345:Core/Src/boards/NucleoL476/rtc-board.c **** 
 1490              		.loc 1 345 1 is_stmt 0 view .LVU443
 1491 0028 F1E7     		b	.L95
 1492              	.L100:
 1493 002a 00BF     		.align	2
 1494              	.L99:
 1495 002c 00000000 		.word	.LANCHOR8
 1496 0030 00000000 		.word	.LANCHOR7
 1497              		.cfi_endproc
 1498              	.LFE143:
 1500              		.section	.text.RtcRecoverMcuStatus,"ax",%progbits
 1501              		.align	1
 1502              		.global	RtcRecoverMcuStatus
 1503              		.syntax unified
 1504              		.thumb
 1505              		.thumb_func
 1506              		.fpu fpv4-sp-d16
 1508              	RtcRecoverMcuStatus:
 1509              	.LFB144:
 348:Core/Src/boards/NucleoL476/rtc-board.c ****     // PWR_FLAG_WU indicates the Alarm has waken-up the MCU
 1510              		.loc 1 348 1 is_stmt 1 view -0
 1511              		.cfi_startproc
 1512              		@ args = 0, pretend = 0, frame = 0
 1513              		@ frame_needed = 0, uses_anonymous_args = 0
 1514 0000 08B5     		push	{r3, lr}
 1515              	.LCFI27:
 1516              		.cfi_def_cfa_offset 8
 1517              		.cfi_offset 3, -8
 1518              		.cfi_offset 14, -4
 350:Core/Src/boards/NucleoL476/rtc-board.c ****     {
 1519              		.loc 1 350 5 view .LVU445
 350:Core/Src/boards/NucleoL476/rtc-board.c ****     {
 1520              		.loc 1 350 9 is_stmt 0 view .LVU446
 1521 0002 0C4B     		ldr	r3, .L108
 1522 0004 5B69     		ldr	r3, [r3, #20]
 350:Core/Src/boards/NucleoL476/rtc-board.c ****     {
 1523              		.loc 1 350 7 view .LVU447
 1524 0006 002B     		cmp	r3, #0
 1525 0008 10DB     		blt	.L107
 356:Core/Src/boards/NucleoL476/rtc-board.c ****     }
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccPg5CgU.s 			page 45


 1526              		.loc 1 356 9 is_stmt 1 view .LVU448
 356:Core/Src/boards/NucleoL476/rtc-board.c ****     }
 1527              		.loc 1 356 28 is_stmt 0 view .LVU449
 1528 000a 0B4B     		ldr	r3, .L108+4
 1529 000c 0122     		movs	r2, #1
 1530 000e 1A70     		strb	r2, [r3]
 1531              	.L103:
 359:Core/Src/boards/NucleoL476/rtc-board.c ****         ( __HAL_RCC_GET_SYSCLK_SOURCE( ) == RCC_SYSCLKSOURCE_STATUS_MSI ) )
 1532              		.loc 1 359 5 is_stmt 1 view .LVU450
 359:Core/Src/boards/NucleoL476/rtc-board.c ****         ( __HAL_RCC_GET_SYSCLK_SOURCE( ) == RCC_SYSCLKSOURCE_STATUS_MSI ) )
 1533              		.loc 1 359 11 is_stmt 0 view .LVU451
 1534 0010 0A4B     		ldr	r3, .L108+8
 1535 0012 9B68     		ldr	r3, [r3, #8]
 1536 0014 03F00C03 		and	r3, r3, #12
 359:Core/Src/boards/NucleoL476/rtc-board.c ****         ( __HAL_RCC_GET_SYSCLK_SOURCE( ) == RCC_SYSCLKSOURCE_STATUS_MSI ) )
 1537              		.loc 1 359 7 view .LVU452
 1538 0018 042B     		cmp	r3, #4
 1539 001a 04D0     		beq	.L104
 360:Core/Src/boards/NucleoL476/rtc-board.c ****     {
 1540              		.loc 1 360 11 discriminator 1 view .LVU453
 1541 001c 074B     		ldr	r3, .L108+8
 1542 001e 9B68     		ldr	r3, [r3, #8]
 359:Core/Src/boards/NucleoL476/rtc-board.c ****         ( __HAL_RCC_GET_SYSCLK_SOURCE( ) == RCC_SYSCLKSOURCE_STATUS_MSI ) )
 1543              		.loc 1 359 75 discriminator 1 view .LVU454
 1544 0020 13F00C0F 		tst	r3, #12
 1545 0024 01D1     		bne	.L101
 1546              	.L104:
 362:Core/Src/boards/NucleoL476/rtc-board.c ****     }
 1547              		.loc 1 362 9 is_stmt 1 view .LVU455
 1548 0026 FFF7FEFF 		bl	BoardInitMcu
 1549              	.LVL152:
 1550              	.L101:
 364:Core/Src/boards/NucleoL476/rtc-board.c **** 
 1551              		.loc 1 364 1 is_stmt 0 view .LVU456
 1552 002a 08BD     		pop	{r3, pc}
 1553              	.L107:
 352:Core/Src/boards/NucleoL476/rtc-board.c ****     }
 1554              		.loc 1 352 9 is_stmt 1 view .LVU457
 1555 002c 014B     		ldr	r3, .L108
 1556 002e 1F22     		movs	r2, #31
 1557 0030 9A61     		str	r2, [r3, #24]
 1558 0032 EDE7     		b	.L103
 1559              	.L109:
 1560              		.align	2
 1561              	.L108:
 1562 0034 00700040 		.word	1073770496
 1563 0038 00000000 		.word	.LANCHOR6
 1564 003c 00100240 		.word	1073876992
 1565              		.cfi_endproc
 1566              	.LFE144:
 1568              		.section	.text.BlockLowPowerDuringTask,"ax",%progbits
 1569              		.align	1
 1570              		.global	BlockLowPowerDuringTask
 1571              		.syntax unified
 1572              		.thumb
 1573              		.thumb_func
 1574              		.fpu fpv4-sp-d16
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccPg5CgU.s 			page 46


 1576              	BlockLowPowerDuringTask:
 1577              	.LVL153:
 1578              	.LFB142:
 322:Core/Src/boards/NucleoL476/rtc-board.c ****     if( status == true )
 1579              		.loc 1 322 1 view -0
 1580              		.cfi_startproc
 1581              		@ args = 0, pretend = 0, frame = 0
 1582              		@ frame_needed = 0, uses_anonymous_args = 0
 322:Core/Src/boards/NucleoL476/rtc-board.c ****     if( status == true )
 1583              		.loc 1 322 1 is_stmt 0 view .LVU459
 1584 0000 10B5     		push	{r4, lr}
 1585              	.LCFI28:
 1586              		.cfi_def_cfa_offset 8
 1587              		.cfi_offset 4, -8
 1588              		.cfi_offset 14, -4
 323:Core/Src/boards/NucleoL476/rtc-board.c ****     {
 1589              		.loc 1 323 5 is_stmt 1 view .LVU460
 323:Core/Src/boards/NucleoL476/rtc-board.c ****     {
 1590              		.loc 1 323 7 is_stmt 0 view .LVU461
 1591 0002 0446     		mov	r4, r0
 1592 0004 10B9     		cbnz	r0, .L113
 1593              	.LVL154:
 1594              	.L111:
 327:Core/Src/boards/NucleoL476/rtc-board.c **** }
 1595              		.loc 1 327 5 is_stmt 1 view .LVU462
 327:Core/Src/boards/NucleoL476/rtc-board.c **** }
 1596              		.loc 1 327 31 is_stmt 0 view .LVU463
 1597 0006 034B     		ldr	r3, .L114
 1598 0008 1C70     		strb	r4, [r3]
 328:Core/Src/boards/NucleoL476/rtc-board.c **** 
 1599              		.loc 1 328 1 view .LVU464
 1600 000a 10BD     		pop	{r4, pc}
 1601              	.LVL155:
 1602              	.L113:
 325:Core/Src/boards/NucleoL476/rtc-board.c ****     }
 1603              		.loc 1 325 9 is_stmt 1 view .LVU465
 1604 000c FFF7FEFF 		bl	RtcRecoverMcuStatus
 1605              	.LVL156:
 325:Core/Src/boards/NucleoL476/rtc-board.c ****     }
 1606              		.loc 1 325 9 is_stmt 0 view .LVU466
 1607 0010 F9E7     		b	.L111
 1608              	.L115:
 1609 0012 00BF     		.align	2
 1610              	.L114:
 1611 0014 00000000 		.word	.LANCHOR8
 1612              		.cfi_endproc
 1613              	.LFE142:
 1615              		.section	.text.RtcConvertTimerTimeToCalendarTick,"ax",%progbits
 1616              		.align	1
 1617              		.global	RtcConvertTimerTimeToCalendarTick
 1618              		.syntax unified
 1619              		.thumb
 1620              		.thumb_func
 1621              		.fpu fpv4-sp-d16
 1623              	RtcConvertTimerTimeToCalendarTick:
 1624              	.LVL157:
 1625              	.LFB148:
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccPg5CgU.s 			page 47


 528:Core/Src/boards/NucleoL476/rtc-board.c ****     RtcCalendar_t calendar = { { 0 }, { 0 } };
 1626              		.loc 1 528 1 is_stmt 1 view -0
 1627              		.cfi_startproc
 1628              		@ args = 0, pretend = 0, frame = 0
 1629              		@ frame_needed = 0, uses_anonymous_args = 0
 528:Core/Src/boards/NucleoL476/rtc-board.c ****     RtcCalendar_t calendar = { { 0 }, { 0 } };
 1630              		.loc 1 528 1 is_stmt 0 view .LVU468
 1631 0000 70B5     		push	{r4, r5, r6, lr}
 1632              	.LCFI29:
 1633              		.cfi_def_cfa_offset 16
 1634              		.cfi_offset 4, -16
 1635              		.cfi_offset 5, -12
 1636              		.cfi_offset 6, -8
 1637              		.cfi_offset 14, -4
 529:Core/Src/boards/NucleoL476/rtc-board.c **** 
 1638              		.loc 1 529 5 is_stmt 1 view .LVU469
 529:Core/Src/boards/NucleoL476/rtc-board.c **** 
 1639              		.loc 1 529 19 is_stmt 0 view .LVU470
 1640 0002 0023     		movs	r3, #0
 1641 0004 0360     		str	r3, [r0]
 1642 0006 4360     		str	r3, [r0, #4]
 1643 0008 8360     		str	r3, [r0, #8]
 1644 000a C360     		str	r3, [r0, #12]
 1645 000c 0361     		str	r3, [r0, #16]
 1646 000e 4361     		str	r3, [r0, #20]
 531:Core/Src/boards/NucleoL476/rtc-board.c **** 
 1647              		.loc 1 531 5 is_stmt 1 view .LVU471
 1648              	.LVL158:
 533:Core/Src/boards/NucleoL476/rtc-board.c ****     uint16_t seconds = 0;
 1649              		.loc 1 533 5 view .LVU472
 534:Core/Src/boards/NucleoL476/rtc-board.c ****     uint16_t minutes = 0;
 1650              		.loc 1 534 5 view .LVU473
 535:Core/Src/boards/NucleoL476/rtc-board.c ****     uint16_t hours = 0;
 1651              		.loc 1 535 5 view .LVU474
 536:Core/Src/boards/NucleoL476/rtc-board.c ****     uint16_t days = 0;
 1652              		.loc 1 536 5 view .LVU475
 537:Core/Src/boards/NucleoL476/rtc-board.c ****     uint8_t months = 1; // Start at 1, month 0 does not exist
 1653              		.loc 1 537 5 view .LVU476
 538:Core/Src/boards/NucleoL476/rtc-board.c ****     uint16_t years = 0;
 1654              		.loc 1 538 5 view .LVU477
 539:Core/Src/boards/NucleoL476/rtc-board.c **** 
 1655              		.loc 1 539 5 view .LVU478
 541:Core/Src/boards/NucleoL476/rtc-board.c **** 
 1656              		.loc 1 541 5 view .LVU479
 543:Core/Src/boards/NucleoL476/rtc-board.c **** 
 1657              		.loc 1 543 5 view .LVU480
 543:Core/Src/boards/NucleoL476/rtc-board.c **** 
 1658              		.loc 1 543 36 is_stmt 0 view .LVU481
 1659 0010 C1F30A0E 		ubfx	lr, r1, #0, #11
 1660              	.LVL159:
 546:Core/Src/boards/NucleoL476/rtc-board.c **** 
 1661              		.loc 1 546 5 is_stmt 1 view .LVU482
 546:Core/Src/boards/NucleoL476/rtc-board.c **** 
 1662              		.loc 1 546 18 is_stmt 0 view .LVU483
 1663 0014 C90A     		lsrs	r1, r1, #11
 1664              	.LVL160:
 549:Core/Src/boards/NucleoL476/rtc-board.c ****     {
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccPg5CgU.s 			page 48


 1665              		.loc 1 549 5 is_stmt 1 view .LVU484
 537:Core/Src/boards/NucleoL476/rtc-board.c ****     uint8_t months = 1; // Start at 1, month 0 does not exist
 1666              		.loc 1 537 14 is_stmt 0 view .LVU485
 1667 0016 9C46     		mov	ip, r3
 549:Core/Src/boards/NucleoL476/rtc-board.c ****     {
 1668              		.loc 1 549 10 view .LVU486
 1669 0018 07E0     		b	.L117
 1670              	.LVL161:
 1671              	.L118:
 551:Core/Src/boards/NucleoL476/rtc-board.c ****         days++;
 1672              		.loc 1 551 9 is_stmt 1 view .LVU487
 551:Core/Src/boards/NucleoL476/rtc-board.c ****         days++;
 1673              		.loc 1 551 22 is_stmt 0 view .LVU488
 1674 001a A1F5A831 		sub	r1, r1, #86016
 1675              	.LVL162:
 551:Core/Src/boards/NucleoL476/rtc-board.c ****         days++;
 1676              		.loc 1 551 22 view .LVU489
 1677 001e A1F5C071 		sub	r1, r1, #384
 1678              	.LVL163:
 552:Core/Src/boards/NucleoL476/rtc-board.c ****     }
 1679              		.loc 1 552 9 is_stmt 1 view .LVU490
 552:Core/Src/boards/NucleoL476/rtc-board.c ****     }
 1680              		.loc 1 552 13 is_stmt 0 view .LVU491
 1681 0022 0CF1010C 		add	ip, ip, #1
 1682              	.LVL164:
 552:Core/Src/boards/NucleoL476/rtc-board.c ****     }
 1683              		.loc 1 552 13 view .LVU492
 1684 0026 1FFA8CFC 		uxth	ip, ip
 1685              	.LVL165:
 1686              	.L117:
 549:Core/Src/boards/NucleoL476/rtc-board.c ****     {
 1687              		.loc 1 549 10 is_stmt 1 view .LVU493
 1688 002a 264B     		ldr	r3, .L134
 1689 002c 9942     		cmp	r1, r3
 1690 002e F4D8     		bhi	.L118
 536:Core/Src/boards/NucleoL476/rtc-board.c ****     uint16_t days = 0;
 1691              		.loc 1 536 14 is_stmt 0 view .LVU494
 1692 0030 0023     		movs	r3, #0
 1693 0032 03E0     		b	.L119
 1694              	.LVL166:
 1695              	.L120:
 558:Core/Src/boards/NucleoL476/rtc-board.c ****         hours++;
 1696              		.loc 1 558 9 is_stmt 1 view .LVU495
 558:Core/Src/boards/NucleoL476/rtc-board.c ****         hours++;
 1697              		.loc 1 558 22 is_stmt 0 view .LVU496
 1698 0034 A1F56161 		sub	r1, r1, #3600
 1699              	.LVL167:
 559:Core/Src/boards/NucleoL476/rtc-board.c ****     }
 1700              		.loc 1 559 9 is_stmt 1 view .LVU497
 559:Core/Src/boards/NucleoL476/rtc-board.c ****     }
 1701              		.loc 1 559 14 is_stmt 0 view .LVU498
 1702 0038 0133     		adds	r3, r3, #1
 1703              	.LVL168:
 559:Core/Src/boards/NucleoL476/rtc-board.c ****     }
 1704              		.loc 1 559 14 view .LVU499
 1705 003a 9BB2     		uxth	r3, r3
 1706              	.LVL169:
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccPg5CgU.s 			page 49


 1707              	.L119:
 556:Core/Src/boards/NucleoL476/rtc-board.c ****     {
 1708              		.loc 1 556 10 is_stmt 1 view .LVU500
 1709 003c B1F5616F 		cmp	r1, #3600
 1710 0040 F8D2     		bcs	.L120
 535:Core/Src/boards/NucleoL476/rtc-board.c ****     uint16_t hours = 0;
 1711              		.loc 1 535 14 is_stmt 0 view .LVU501
 1712 0042 0022     		movs	r2, #0
 1713 0044 02E0     		b	.L121
 1714              	.LVL170:
 1715              	.L122:
 565:Core/Src/boards/NucleoL476/rtc-board.c ****         minutes++;
 1716              		.loc 1 565 9 is_stmt 1 view .LVU502
 565:Core/Src/boards/NucleoL476/rtc-board.c ****         minutes++;
 1717              		.loc 1 565 22 is_stmt 0 view .LVU503
 1718 0046 3C39     		subs	r1, r1, #60
 1719              	.LVL171:
 566:Core/Src/boards/NucleoL476/rtc-board.c ****     }
 1720              		.loc 1 566 9 is_stmt 1 view .LVU504
 566:Core/Src/boards/NucleoL476/rtc-board.c ****     }
 1721              		.loc 1 566 16 is_stmt 0 view .LVU505
 1722 0048 0132     		adds	r2, r2, #1
 1723              	.LVL172:
 566:Core/Src/boards/NucleoL476/rtc-board.c ****     }
 1724              		.loc 1 566 16 view .LVU506
 1725 004a 92B2     		uxth	r2, r2
 1726              	.LVL173:
 1727              	.L121:
 563:Core/Src/boards/NucleoL476/rtc-board.c ****     {
 1728              		.loc 1 563 10 is_stmt 1 view .LVU507
 1729 004c 3B29     		cmp	r1, #59
 1730 004e FAD8     		bhi	.L122
 570:Core/Src/boards/NucleoL476/rtc-board.c **** 
 1731              		.loc 1 570 5 view .LVU508
 570:Core/Src/boards/NucleoL476/rtc-board.c **** 
 1732              		.loc 1 570 13 is_stmt 0 view .LVU509
 1733 0050 89B2     		uxth	r1, r1
 1734              	.LVL174:
 573:Core/Src/boards/NucleoL476/rtc-board.c ****     {
 1735              		.loc 1 573 5 is_stmt 1 view .LVU510
 573:Core/Src/boards/NucleoL476/rtc-board.c ****     {
 1736              		.loc 1 573 10 is_stmt 0 view .LVU511
 1737 0052 05E0     		b	.L123
 1738              	.L124:
 575:Core/Src/boards/NucleoL476/rtc-board.c ****         seconds++;
 1739              		.loc 1 575 9 is_stmt 1 view .LVU512
 575:Core/Src/boards/NucleoL476/rtc-board.c ****         seconds++;
 1740              		.loc 1 575 22 is_stmt 0 view .LVU513
 1741 0054 AEF5006E 		sub	lr, lr, #2048
 1742              	.LVL175:
 575:Core/Src/boards/NucleoL476/rtc-board.c ****         seconds++;
 1743              		.loc 1 575 22 view .LVU514
 1744 0058 1FFA8EFE 		uxth	lr, lr
 1745              	.LVL176:
 576:Core/Src/boards/NucleoL476/rtc-board.c ****     }
 1746              		.loc 1 576 9 is_stmt 1 view .LVU515
 576:Core/Src/boards/NucleoL476/rtc-board.c ****     }
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccPg5CgU.s 			page 50


 1747              		.loc 1 576 16 is_stmt 0 view .LVU516
 1748 005c 0131     		adds	r1, r1, #1
 1749              	.LVL177:
 576:Core/Src/boards/NucleoL476/rtc-board.c ****     }
 1750              		.loc 1 576 16 view .LVU517
 1751 005e 89B2     		uxth	r1, r1
 1752              	.LVL178:
 1753              	.L123:
 573:Core/Src/boards/NucleoL476/rtc-board.c ****     {
 1754              		.loc 1 573 10 is_stmt 1 view .LVU518
 1755 0060 BEF5006F 		cmp	lr, #2048
 1756 0064 F6D2     		bcs	.L124
 573:Core/Src/boards/NucleoL476/rtc-board.c ****     {
 1757              		.loc 1 573 10 is_stmt 0 view .LVU519
 1758 0066 03E0     		b	.L125
 1759              	.L126:
 581:Core/Src/boards/NucleoL476/rtc-board.c ****         minutes++;
 1760              		.loc 1 581 9 is_stmt 1 view .LVU520
 581:Core/Src/boards/NucleoL476/rtc-board.c ****         minutes++;
 1761              		.loc 1 581 17 is_stmt 0 view .LVU521
 1762 0068 3C39     		subs	r1, r1, #60
 1763              	.LVL179:
 581:Core/Src/boards/NucleoL476/rtc-board.c ****         minutes++;
 1764              		.loc 1 581 17 view .LVU522
 1765 006a 89B2     		uxth	r1, r1
 1766              	.LVL180:
 582:Core/Src/boards/NucleoL476/rtc-board.c ****     }
 1767              		.loc 1 582 9 is_stmt 1 view .LVU523
 582:Core/Src/boards/NucleoL476/rtc-board.c ****     }
 1768              		.loc 1 582 16 is_stmt 0 view .LVU524
 1769 006c 0132     		adds	r2, r2, #1
 1770              	.LVL181:
 582:Core/Src/boards/NucleoL476/rtc-board.c ****     }
 1771              		.loc 1 582 16 view .LVU525
 1772 006e 92B2     		uxth	r2, r2
 1773              	.LVL182:
 1774              	.L125:
 579:Core/Src/boards/NucleoL476/rtc-board.c ****     {
 1775              		.loc 1 579 10 is_stmt 1 view .LVU526
 1776 0070 3B29     		cmp	r1, #59
 1777 0072 F9D8     		bhi	.L126
 579:Core/Src/boards/NucleoL476/rtc-board.c ****     {
 1778              		.loc 1 579 10 is_stmt 0 view .LVU527
 1779 0074 03E0     		b	.L127
 1780              	.L128:
 587:Core/Src/boards/NucleoL476/rtc-board.c ****         hours++;
 1781              		.loc 1 587 9 is_stmt 1 view .LVU528
 587:Core/Src/boards/NucleoL476/rtc-board.c ****         hours++;
 1782              		.loc 1 587 17 is_stmt 0 view .LVU529
 1783 0076 3C3A     		subs	r2, r2, #60
 1784              	.LVL183:
 587:Core/Src/boards/NucleoL476/rtc-board.c ****         hours++;
 1785              		.loc 1 587 17 view .LVU530
 1786 0078 92B2     		uxth	r2, r2
 1787              	.LVL184:
 588:Core/Src/boards/NucleoL476/rtc-board.c ****     }
 1788              		.loc 1 588 9 is_stmt 1 view .LVU531
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccPg5CgU.s 			page 51


 588:Core/Src/boards/NucleoL476/rtc-board.c ****     }
 1789              		.loc 1 588 14 is_stmt 0 view .LVU532
 1790 007a 0133     		adds	r3, r3, #1
 1791              	.LVL185:
 588:Core/Src/boards/NucleoL476/rtc-board.c ****     }
 1792              		.loc 1 588 14 view .LVU533
 1793 007c 9BB2     		uxth	r3, r3
 1794              	.LVL186:
 1795              	.L127:
 585:Core/Src/boards/NucleoL476/rtc-board.c ****     {
 1796              		.loc 1 585 10 is_stmt 1 view .LVU534
 1797 007e 3B2A     		cmp	r2, #59
 1798 0080 F9D8     		bhi	.L128
 585:Core/Src/boards/NucleoL476/rtc-board.c ****     {
 1799              		.loc 1 585 10 is_stmt 0 view .LVU535
 1800 0082 05E0     		b	.L129
 1801              	.L130:
 593:Core/Src/boards/NucleoL476/rtc-board.c ****         days++;
 1802              		.loc 1 593 9 is_stmt 1 view .LVU536
 593:Core/Src/boards/NucleoL476/rtc-board.c ****         days++;
 1803              		.loc 1 593 15 is_stmt 0 view .LVU537
 1804 0084 183B     		subs	r3, r3, #24
 1805              	.LVL187:
 593:Core/Src/boards/NucleoL476/rtc-board.c ****         days++;
 1806              		.loc 1 593 15 view .LVU538
 1807 0086 9BB2     		uxth	r3, r3
 1808              	.LVL188:
 594:Core/Src/boards/NucleoL476/rtc-board.c ****     }
 1809              		.loc 1 594 9 is_stmt 1 view .LVU539
 594:Core/Src/boards/NucleoL476/rtc-board.c ****     }
 1810              		.loc 1 594 13 is_stmt 0 view .LVU540
 1811 0088 0CF1010C 		add	ip, ip, #1
 1812              	.LVL189:
 594:Core/Src/boards/NucleoL476/rtc-board.c ****     }
 1813              		.loc 1 594 13 view .LVU541
 1814 008c 1FFA8CFC 		uxth	ip, ip
 1815              	.LVL190:
 1816              	.L129:
 591:Core/Src/boards/NucleoL476/rtc-board.c ****     {
 1817              		.loc 1 591 10 is_stmt 1 view .LVU542
 1818 0090 172B     		cmp	r3, #23
 1819 0092 F7D8     		bhi	.L130
 538:Core/Src/boards/NucleoL476/rtc-board.c ****     uint16_t years = 0;
 1820              		.loc 1 538 13 is_stmt 0 view .LVU543
 1821 0094 0124     		movs	r4, #1
 1822 0096 05E0     		b	.L131
 1823              	.LVL191:
 1824              	.L132:
 599:Core/Src/boards/NucleoL476/rtc-board.c ****         months++;
 1825              		.loc 1 599 9 is_stmt 1 view .LVU544
 599:Core/Src/boards/NucleoL476/rtc-board.c ****         months++;
 1826              		.loc 1 599 14 is_stmt 0 view .LVU545
 1827 0098 ACEB050C 		sub	ip, ip, r5
 1828              	.LVL192:
 599:Core/Src/boards/NucleoL476/rtc-board.c ****         months++;
 1829              		.loc 1 599 14 view .LVU546
 1830 009c 1FFA8CFC 		uxth	ip, ip
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccPg5CgU.s 			page 52


 1831              	.LVL193:
 600:Core/Src/boards/NucleoL476/rtc-board.c ****     }
 1832              		.loc 1 600 9 is_stmt 1 view .LVU547
 600:Core/Src/boards/NucleoL476/rtc-board.c ****     }
 1833              		.loc 1 600 15 is_stmt 0 view .LVU548
 1834 00a0 0134     		adds	r4, r4, #1
 1835              	.LVL194:
 600:Core/Src/boards/NucleoL476/rtc-board.c ****     }
 1836              		.loc 1 600 15 view .LVU549
 1837 00a2 E4B2     		uxtb	r4, r4
 1838              	.LVL195:
 1839              	.L131:
 597:Core/Src/boards/NucleoL476/rtc-board.c ****     {
 1840              		.loc 1 597 10 is_stmt 1 view .LVU550
 597:Core/Src/boards/NucleoL476/rtc-board.c ****     {
 1841              		.loc 1 597 46 is_stmt 0 view .LVU551
 1842 00a4 651E     		subs	r5, r4, #1
 597:Core/Src/boards/NucleoL476/rtc-board.c ****     {
 1843              		.loc 1 597 38 view .LVU552
 1844 00a6 084E     		ldr	r6, .L134+4
 1845 00a8 755D     		ldrb	r5, [r6, r5]	@ zero_extendqisi2
 597:Core/Src/boards/NucleoL476/rtc-board.c ****     {
 1846              		.loc 1 597 10 view .LVU553
 1847 00aa 6545     		cmp	r5, ip
 1848 00ac F4D3     		bcc	.L132
 603:Core/Src/boards/NucleoL476/rtc-board.c ****     calendar.CalendarTime.Seconds = seconds;
 1849              		.loc 1 603 5 is_stmt 1 view .LVU554
 603:Core/Src/boards/NucleoL476/rtc-board.c ****     calendar.CalendarTime.Seconds = seconds;
 1850              		.loc 1 603 49 is_stmt 0 view .LVU555
 1851 00ae CEF5FF65 		rsb	r5, lr, #2040
 1852 00b2 0735     		adds	r5, r5, #7
 603:Core/Src/boards/NucleoL476/rtc-board.c ****     calendar.CalendarTime.Seconds = seconds;
 1853              		.loc 1 603 38 view .LVU556
 1854 00b4 8560     		str	r5, [r0, #8]
 604:Core/Src/boards/NucleoL476/rtc-board.c ****     calendar.CalendarTime.Minutes = minutes;
 1855              		.loc 1 604 5 is_stmt 1 view .LVU557
 604:Core/Src/boards/NucleoL476/rtc-board.c ****     calendar.CalendarTime.Minutes = minutes;
 1856              		.loc 1 604 35 is_stmt 0 view .LVU558
 1857 00b6 8171     		strb	r1, [r0, #6]
 605:Core/Src/boards/NucleoL476/rtc-board.c ****     calendar.CalendarTime.Hours = hours;
 1858              		.loc 1 605 5 is_stmt 1 view .LVU559
 605:Core/Src/boards/NucleoL476/rtc-board.c ****     calendar.CalendarTime.Hours = hours;
 1859              		.loc 1 605 35 is_stmt 0 view .LVU560
 1860 00b8 4271     		strb	r2, [r0, #5]
 606:Core/Src/boards/NucleoL476/rtc-board.c ****     calendar.CalendarDate.Date = days;
 1861              		.loc 1 606 5 is_stmt 1 view .LVU561
 606:Core/Src/boards/NucleoL476/rtc-board.c ****     calendar.CalendarDate.Date = days;
 1862              		.loc 1 606 33 is_stmt 0 view .LVU562
 1863 00ba 0371     		strb	r3, [r0, #4]
 607:Core/Src/boards/NucleoL476/rtc-board.c ****     calendar.CalendarDate.Month = months;
 1864              		.loc 1 607 5 is_stmt 1 view .LVU563
 607:Core/Src/boards/NucleoL476/rtc-board.c ****     calendar.CalendarDate.Month = months;
 1865              		.loc 1 607 32 is_stmt 0 view .LVU564
 1866 00bc 80F802C0 		strb	ip, [r0, #2]
 608:Core/Src/boards/NucleoL476/rtc-board.c ****     calendar.CalendarDate.Year = years; // on 32-bit, years will never go up
 1867              		.loc 1 608 5 is_stmt 1 view .LVU565
 608:Core/Src/boards/NucleoL476/rtc-board.c ****     calendar.CalendarDate.Year = years; // on 32-bit, years will never go up
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccPg5CgU.s 			page 53


 1868              		.loc 1 608 33 is_stmt 0 view .LVU566
 1869 00c0 4470     		strb	r4, [r0, #1]
 609:Core/Src/boards/NucleoL476/rtc-board.c **** 
 1870              		.loc 1 609 5 is_stmt 1 view .LVU567
 611:Core/Src/boards/NucleoL476/rtc-board.c **** }
 1871              		.loc 1 611 5 view .LVU568
 612:Core/Src/boards/NucleoL476/rtc-board.c **** 
 1872              		.loc 1 612 1 is_stmt 0 view .LVU569
 1873 00c2 70BD     		pop	{r4, r5, r6, pc}
 1874              	.LVL196:
 1875              	.L135:
 612:Core/Src/boards/NucleoL476/rtc-board.c **** 
 1876              		.loc 1 612 1 view .LVU570
 1877              		.align	2
 1878              	.L134:
 1879 00c4 7F510100 		.word	86399
 1880 00c8 00000000 		.word	.LANCHOR0
 1881              		.cfi_endproc
 1882              	.LFE148:
 1884              		.global	McuWakeUpTime
 1885              		.global	RtcHandle
 1886              		.global	RtcCalendarContext
 1887              		.global	NonScheduledWakeUp
 1888              		.section	.bss.LowPowerDisableDuringTask,"aw",%nobits
 1889              		.set	.LANCHOR8,. + 0
 1892              	LowPowerDisableDuringTask:
 1893 0000 00       		.space	1
 1894              		.section	.bss.McuWakeUpTime,"aw",%nobits
 1895              		.align	2
 1896              		.set	.LANCHOR5,. + 0
 1899              	McuWakeUpTime:
 1900 0000 00000000 		.space	4
 1901              		.section	.bss.NonScheduledWakeUp,"aw",%nobits
 1902              		.set	.LANCHOR6,. + 0
 1905              	NonScheduledWakeUp:
 1906 0000 00       		.space	1
 1907              		.section	.bss.RtcCalendarContext,"aw",%nobits
 1908              		.align	2
 1909              		.set	.LANCHOR3,. + 0
 1912              	RtcCalendarContext:
 1913 0000 00000000 		.space	24
 1913      00000000 
 1913      00000000 
 1913      00000000 
 1913      00000000 
 1914              		.section	.bss.RtcHandle,"aw",%nobits
 1915              		.align	2
 1916              		.set	.LANCHOR2,. + 0
 1919              	RtcHandle:
 1920 0000 00000000 		.space	36
 1920      00000000 
 1920      00000000 
 1920      00000000 
 1920      00000000 
 1921              		.section	.bss.RtcInitialized,"aw",%nobits
 1922              		.set	.LANCHOR4,. + 0
 1925              	RtcInitialized:
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccPg5CgU.s 			page 54


 1926 0000 00       		.space	1
 1927              		.section	.bss.RtcTimerEventAllowsLowPower,"aw",%nobits
 1928              		.set	.LANCHOR7,. + 0
 1931              	RtcTimerEventAllowsLowPower:
 1932 0000 00       		.space	1
 1933              		.section	.rodata.DaysInMonth,"a"
 1934              		.align	2
 1935              		.set	.LANCHOR1,. + 0
 1938              	DaysInMonth:
 1939 0000 1F1C1F1E 		.ascii	"\037\034\037\036\037\036\037\037\036\037\036\037"
 1939      1F1E1F1F 
 1939      1E1F1E1F 
 1940              		.section	.rodata.DaysInMonthLeapYear,"a"
 1941              		.align	2
 1942              		.set	.LANCHOR0,. + 0
 1945              	DaysInMonthLeapYear:
 1946 0000 1F1D1F1E 		.ascii	"\037\035\037\036\037\036\037\037\036\037\036\037"
 1946      1F1E1F1F 
 1946      1E1F1E1F 
 1947              		.text
 1948              	.Letext0:
 1949              		.file 2 "c:\\gnu arm embedded toolchain\\10 2020-q4-major\\arm-none-eabi\\include\\machine\\_defau
 1950              		.file 3 "c:\\gnu arm embedded toolchain\\10 2020-q4-major\\arm-none-eabi\\include\\sys\\_stdint.h"
 1951              		.file 4 "Drivers/CMSIS/Device/ST/STM32L4xx/Include/stm32l476xx.h"
 1952              		.file 5 "Drivers/CMSIS/Device/ST/STM32L4xx/Include/stm32l4xx.h"
 1953              		.file 6 "Drivers/STM32L4xx_HAL_Driver/Inc/stm32l4xx_hal_def.h"
 1954              		.file 7 "Drivers/STM32L4xx_HAL_Driver/Inc/stm32l4xx_hal_rtc.h"
 1955              		.file 8 "Core/Src/system/timer.h"
 1956              		.file 9 "c:\\gnu arm embedded toolchain\\10 2020-q4-major\\arm-none-eabi\\include\\math.h"
 1957              		.file 10 "Core/Inc/stm32l4xx_hal_conf.h"
 1958              		.file 11 "Core/Src/boards/NucleoL476/board.h"
 1959              		.file 12 "Drivers/STM32L4xx_HAL_Driver/Inc/stm32l4xx_hal_pwr.h"
 1960              		.file 13 "Drivers/STM32L4xx_HAL_Driver/Inc/stm32l4xx_hal_pwr_ex.h"
 1961              		.file 14 "Drivers/STM32L4xx_HAL_Driver/Inc/stm32l4xx_hal_rtc_ex.h"
 1962              		.file 15 "Drivers/STM32L4xx_HAL_Driver/Inc/stm32l4xx_hal_cortex.h"
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccPg5CgU.s 			page 55


DEFINED SYMBOLS
                            *ABS*:00000000 rtc-board.c
C:\Users\andywei\AppData\Local\Temp\ccPg5CgU.s:18     .text.RtcComputeTimerTimeToAlarmTick:00000000 $t
C:\Users\andywei\AppData\Local\Temp\ccPg5CgU.s:25     .text.RtcComputeTimerTimeToAlarmTick:00000000 RtcComputeTimerTimeToAlarmTick
C:\Users\andywei\AppData\Local\Temp\ccPg5CgU.s:353    .text.RtcComputeTimerTimeToAlarmTick:0000012c $d
C:\Users\andywei\AppData\Local\Temp\ccPg5CgU.s:364    .text.RtcConvertMsToTick:00000000 $t
C:\Users\andywei\AppData\Local\Temp\ccPg5CgU.s:370    .text.RtcConvertMsToTick:00000000 RtcConvertMsToTick
C:\Users\andywei\AppData\Local\Temp\ccPg5CgU.s:413    .text.RtcConvertMsToTick:00000028 $d
C:\Users\andywei\AppData\Local\Temp\ccPg5CgU.s:419    .text.RtcConvertTickToMs:00000000 $t
C:\Users\andywei\AppData\Local\Temp\ccPg5CgU.s:425    .text.RtcConvertTickToMs:00000000 RtcConvertTickToMs
C:\Users\andywei\AppData\Local\Temp\ccPg5CgU.s:468    .text.RtcConvertTickToMs:00000028 $d
C:\Users\andywei\AppData\Local\Temp\ccPg5CgU.s:474    .text.RtcGetCalendar:00000000 $t
C:\Users\andywei\AppData\Local\Temp\ccPg5CgU.s:480    .text.RtcGetCalendar:00000000 RtcGetCalendar
C:\Users\andywei\AppData\Local\Temp\ccPg5CgU.s:578    .text.RtcGetCalendar:00000054 $d
C:\Users\andywei\AppData\Local\Temp\ccPg5CgU.s:583    .rodata.RtcStartWakeUpAlarm.str1.4:00000000 $d
C:\Users\andywei\AppData\Local\Temp\ccPg5CgU.s:587    .text.RtcStartWakeUpAlarm:00000000 $t
C:\Users\andywei\AppData\Local\Temp\ccPg5CgU.s:593    .text.RtcStartWakeUpAlarm:00000000 RtcStartWakeUpAlarm
C:\Users\andywei\AppData\Local\Temp\ccPg5CgU.s:727    .text.RtcStartWakeUpAlarm:0000009c $d
C:\Users\andywei\AppData\Local\Temp\ccPg5CgU.s:734    .text.RtcConvertCalendarTickToTimerTime:00000000 $t
C:\Users\andywei\AppData\Local\Temp\ccPg5CgU.s:740    .text.RtcConvertCalendarTickToTimerTime:00000000 RtcConvertCalendarTickToTimerTime
C:\Users\andywei\AppData\Local\Temp\ccPg5CgU.s:960    .text.RtcConvertCalendarTickToTimerTime:000000cc $d
C:\Users\andywei\AppData\Local\Temp\ccPg5CgU.s:968    .text.RtcInit:00000000 $t
C:\Users\andywei\AppData\Local\Temp\ccPg5CgU.s:975    .text.RtcInit:00000000 RtcInit
C:\Users\andywei\AppData\Local\Temp\ccPg5CgU.s:1113   .text.RtcInit:00000098 $d
C:\Users\andywei\AppData\Local\Temp\ccPg5CgU.s:1121   .text.RtcSetTimeout:00000000 $t
C:\Users\andywei\AppData\Local\Temp\ccPg5CgU.s:1128   .text.RtcSetTimeout:00000000 RtcSetTimeout
C:\Users\andywei\AppData\Local\Temp\ccPg5CgU.s:1153   .text.RtcGetAdjustedTimeoutValue:00000000 $t
C:\Users\andywei\AppData\Local\Temp\ccPg5CgU.s:1160   .text.RtcGetAdjustedTimeoutValue:00000000 RtcGetAdjustedTimeoutValue
C:\Users\andywei\AppData\Local\Temp\ccPg5CgU.s:1229   .text.RtcGetAdjustedTimeoutValue:0000003c $d
C:\Users\andywei\AppData\Local\Temp\ccPg5CgU.s:1236   .text.RtcGetTimerValue:00000000 $t
C:\Users\andywei\AppData\Local\Temp\ccPg5CgU.s:1243   .text.RtcGetTimerValue:00000000 RtcGetTimerValue
C:\Users\andywei\AppData\Local\Temp\ccPg5CgU.s:1272   .text.RtcGetElapsedAlarmTime:00000000 $t
C:\Users\andywei\AppData\Local\Temp\ccPg5CgU.s:1279   .text.RtcGetElapsedAlarmTime:00000000 RtcGetElapsedAlarmTime
C:\Users\andywei\AppData\Local\Temp\ccPg5CgU.s:1337   .text.RtcGetElapsedAlarmTime:00000024 $d
C:\Users\andywei\AppData\Local\Temp\ccPg5CgU.s:1342   .text.RtcComputeFutureEventTime:00000000 $t
C:\Users\andywei\AppData\Local\Temp\ccPg5CgU.s:1349   .text.RtcComputeFutureEventTime:00000000 RtcComputeFutureEventTime
C:\Users\andywei\AppData\Local\Temp\ccPg5CgU.s:1375   .text.RtcComputeElapsedTime:00000000 $t
C:\Users\andywei\AppData\Local\Temp\ccPg5CgU.s:1382   .text.RtcComputeElapsedTime:00000000 RtcComputeElapsedTime
C:\Users\andywei\AppData\Local\Temp\ccPg5CgU.s:1442   .text.RtcEnterLowPowerStopMode:00000000 $t
C:\Users\andywei\AppData\Local\Temp\ccPg5CgU.s:1449   .text.RtcEnterLowPowerStopMode:00000000 RtcEnterLowPowerStopMode
C:\Users\andywei\AppData\Local\Temp\ccPg5CgU.s:1495   .text.RtcEnterLowPowerStopMode:0000002c $d
C:\Users\andywei\AppData\Local\Temp\ccPg5CgU.s:1501   .text.RtcRecoverMcuStatus:00000000 $t
C:\Users\andywei\AppData\Local\Temp\ccPg5CgU.s:1508   .text.RtcRecoverMcuStatus:00000000 RtcRecoverMcuStatus
C:\Users\andywei\AppData\Local\Temp\ccPg5CgU.s:1562   .text.RtcRecoverMcuStatus:00000034 $d
C:\Users\andywei\AppData\Local\Temp\ccPg5CgU.s:1569   .text.BlockLowPowerDuringTask:00000000 $t
C:\Users\andywei\AppData\Local\Temp\ccPg5CgU.s:1576   .text.BlockLowPowerDuringTask:00000000 BlockLowPowerDuringTask
C:\Users\andywei\AppData\Local\Temp\ccPg5CgU.s:1611   .text.BlockLowPowerDuringTask:00000014 $d
C:\Users\andywei\AppData\Local\Temp\ccPg5CgU.s:1616   .text.RtcConvertTimerTimeToCalendarTick:00000000 $t
C:\Users\andywei\AppData\Local\Temp\ccPg5CgU.s:1623   .text.RtcConvertTimerTimeToCalendarTick:00000000 RtcConvertTimerTimeToCalendarTick
C:\Users\andywei\AppData\Local\Temp\ccPg5CgU.s:1879   .text.RtcConvertTimerTimeToCalendarTick:000000c4 $d
C:\Users\andywei\AppData\Local\Temp\ccPg5CgU.s:1899   .bss.McuWakeUpTime:00000000 McuWakeUpTime
C:\Users\andywei\AppData\Local\Temp\ccPg5CgU.s:1919   .bss.RtcHandle:00000000 RtcHandle
C:\Users\andywei\AppData\Local\Temp\ccPg5CgU.s:1912   .bss.RtcCalendarContext:00000000 RtcCalendarContext
C:\Users\andywei\AppData\Local\Temp\ccPg5CgU.s:1905   .bss.NonScheduledWakeUp:00000000 NonScheduledWakeUp
C:\Users\andywei\AppData\Local\Temp\ccPg5CgU.s:1892   .bss.LowPowerDisableDuringTask:00000000 LowPowerDisableDuringTask
C:\Users\andywei\AppData\Local\Temp\ccPg5CgU.s:1893   .bss.LowPowerDisableDuringTask:00000000 $d
C:\Users\andywei\AppData\Local\Temp\ccPg5CgU.s:1895   .bss.McuWakeUpTime:00000000 $d
ARM GAS  C:\Users\andywei\AppData\Local\Temp\ccPg5CgU.s 			page 56


C:\Users\andywei\AppData\Local\Temp\ccPg5CgU.s:1906   .bss.NonScheduledWakeUp:00000000 $d
C:\Users\andywei\AppData\Local\Temp\ccPg5CgU.s:1908   .bss.RtcCalendarContext:00000000 $d
C:\Users\andywei\AppData\Local\Temp\ccPg5CgU.s:1915   .bss.RtcHandle:00000000 $d
C:\Users\andywei\AppData\Local\Temp\ccPg5CgU.s:1925   .bss.RtcInitialized:00000000 RtcInitialized
C:\Users\andywei\AppData\Local\Temp\ccPg5CgU.s:1926   .bss.RtcInitialized:00000000 $d
C:\Users\andywei\AppData\Local\Temp\ccPg5CgU.s:1931   .bss.RtcTimerEventAllowsLowPower:00000000 RtcTimerEventAllowsLowPower
C:\Users\andywei\AppData\Local\Temp\ccPg5CgU.s:1932   .bss.RtcTimerEventAllowsLowPower:00000000 $d
C:\Users\andywei\AppData\Local\Temp\ccPg5CgU.s:1934   .rodata.DaysInMonth:00000000 $d
C:\Users\andywei\AppData\Local\Temp\ccPg5CgU.s:1938   .rodata.DaysInMonth:00000000 DaysInMonth
C:\Users\andywei\AppData\Local\Temp\ccPg5CgU.s:1941   .rodata.DaysInMonthLeapYear:00000000 $d
C:\Users\andywei\AppData\Local\Temp\ccPg5CgU.s:1945   .rodata.DaysInMonthLeapYear:00000000 DaysInMonthLeapYear

UNDEFINED SYMBOLS
__aeabi_ui2d
__aeabi_dmul
__aeabi_ddiv
__aeabi_d2uiz
round
HAL_RTC_GetTime
HAL_RTC_GetDate
HAL_RTC_DeactivateAlarm
HAL_RTC_SetAlarm_IT
assert_failed
HAL_RTC_Init
HAL_RTC_SetDate
HAL_RTC_SetTime
HAL_RTCEx_EnableBypassShadow
HAL_NVIC_SetPriority
HAL_NVIC_EnableIRQ
BoardDeInitMcu
HAL_PWR_DisablePVD
HAL_PWREx_EnterSTOP2Mode
HAL_PWR_EnterSTOPMode
BoardInitMcu
